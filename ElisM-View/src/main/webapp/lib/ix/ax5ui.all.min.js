"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(){var t=this,e=this,i=e?e.document:null,n=(e?e.document.documentElement:null,/^(["'](\\.|[^"\\\n\r])*?["']|[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t])+?$/),o=/^-ms-/,a=/[\-_]([\da-z])/gi,l=/([A-Z])/g,s=/\./,r=/[-|+]?[\D]/gi,d=/\D/gi,c=new RegExp("([0-9])([0-9][0-9][0-9][,.])"),u=/&/g,h=/=/,p=/[ ]+/g,f={},g=void 0,m=void 0;f.guid=1,f.getGuid=function(){return f.guid++},f.info=g=function(){function t(t,n){return t={href:e.location.href,param:e.location.search,referrer:i.referrer,pathname:e.location.pathname,hostname:e.location.hostname,port:e.location.port},n=t.href.split(/[\?#]/),t.param=t.param.replace("?",""),t.url=n[0],t.href.search("#")>-1&&(t.hashdata=m.last(n)),n=null,t.baseUrl=m.left(t.href,"?").replace(t.pathname,""),t}function n(t,e,i){return g.errorMsg&&g.errorMsg[t]?{className:t,errorCode:e,methodName:i,msg:g.errorMsg[t][e]}:{className:t,errorCode:e,methodName:i}}var o=arguments,a="1.3.82",l="",s=function(){console.error(m.toArray(o).join(":"))},r={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,HOME:36,END:35,PAGEUP:33,PAGEDOWN:34,INSERT:45,SPACE:32},d=[{label:"SUN"},{label:"MON"},{label:"TUE"},{label:"WED"},{label:"THU"},{label:"FRI"},{label:"SAT"}],c=function(t,i,n,o,a,l){return e&&e.navigator?(t=navigator.userAgent.toLowerCase(),i=-1!=t.search(/mobile/g),l,-1!=t.search(/iphone/g)?{name:"iphone",version:0,mobile:!0}:-1!=t.search(/ipad/g)?{name:"ipad",version:0,mobile:!0}:-1!=t.search(/android/g)?(o=/(android)[ \/]([\w.]+)/.exec(t)||[],l=o[2]||"0",{name:"android",version:l,mobile:i}):(n="",o=/(opr)[ \/]([\w.]+)/.exec(t)||/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],a=o[1]||"",l=o[2]||"0","msie"==a&&(a="ie"),{name:a,version:l,mobile:i})):{}}(),u=!("undefined"==typeof window||"undefined"==typeof navigator||!e.document),h=e&&/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel",p={},f=e?"ontouchstart"in e||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0:!1,x=e?e.FileReader&&e.File&&e.FileList&&e.Blob:!1;return{errorMsg:p,version:a,baseUrl:l,onerror:s,eventKeys:r,weekNames:d,browser:c,isBrowser:u,supportTouch:f,supportFileApi:x,wheelEnm:h,urlUtil:t,getError:n}}(),f.util=m=function(){function x(t,e){if(Q(t))return[];var i=void 0,n=0,o=t.length,a=void 0===o||"function"==typeof t;if(a){for(i in t)if("undefined"!=typeof t[i]&&e.call(t[i],i,t[i])===!1)break}else for(;o>n&&("undefined"==typeof t[n]||e.call(t[n],n,t[n++])!==!1););return t}function v(t,e){if(Q(t))return[];var i=void 0,n=0,o=t.length,a=[],l=void 0;if(j(t)){for(i in t)if("undefined"!=typeof t[i]){if(l=void 0,(l=e.call(t[i],i,t[i]))===!1)break;a.push(l)}}else for(;o>n;)if("undefined"!=typeof t[n]){if(l=void 0,(l=e.call(t[n],n,t[n++]))===!1)break;a.push(l)}return a}function b(t,e){if(Q(t))return-1;if(j(t))for(var i in t){if("undefined"!=typeof t[i]&&N(e)&&e.call(t[i],i,t[i]))return i;if(t[i]==e)return i}else for(var n=0,o=t.length;o>n;n++){if("undefined"!=typeof t[n]&&N(e)&&e.call(t[n],n,t[n]))return n;if(t[n]==e)return n}return-1}function y(t,e,i){var n=void 0,o=void 0,a=void 0;if(N(e)&&"undefined"==typeof i&&(i=e,e=0),"undefined"==typeof e&&(e=0),z(t)){for(n=0,o=t.length;o>n;n++)if("undefined"!=typeof t[n]){if((a=i.call(t[n],t[n]))===!1)break;"undefined"!=typeof a&&(e+=a)}return e}if(j(t)){for(n in t)if("undefined"!=typeof t[n]){if((a=i.call(t[n],t[n]))===!1)break;"undefined"!=typeof a&&(e+=a)}return e}return console.error("argument error : ax5.util.sum - use Array or Object"),e}function w(t,e,i){var n=void 0,o=void 0,a=void 0;if(N(e)&&"undefined"==typeof i&&(i=e,e=0),"undefined"==typeof e&&(e=0),z(t)){for(n=0,o=t.length;o>n;n++)if("undefined"!=typeof t[n]){if((a=i.call(t[n],t[n]))===!1)break;"undefined"!=typeof a&&(e+=a)}return e/o}if(j(t)){for(n in t)if("undefined"!=typeof t[n]){if((a=i.call(t[n],t[n]))===!1)break;"undefined"!=typeof a&&(e+=a)}return e/o}return console.error("argument error : ax5.util.sum - use Array or Object"),e}function _(e,i){var n,o,a;if(z(e)){for(n=0,o=e.length,a=e[n];o-1>n&&("undefined"==typeof e[n]||(a=i.call(t,a,e[++n]))!==!1););return a}if(j(e)){for(n in e)if("undefined"!=typeof e[n]&&(a=i.call(t,a,e[n]))===!1)break;return a}return console.error("argument error : ax5.util.reduce - use Array or Object"),null}function I(e,i){for(var n=e.length-1,o=e[n];n>0&&("undefined"==typeof e[n]||(o=i.call(t,o,e[--n]))!==!1););return o}function $(t,e){if(Q(t))return[];var i,n,o=0,a=t.length,l=[];if(j(t))for(i in t)"undefined"!=typeof t[i]&&(n=e.call(t[i],i,t[i]))&&l.push(t[i]);else for(;a>o;)"undefined"!=typeof t[o]&&((n=e.call(t[o],o,t[o]))&&l.push(t[o]),o++);return l}function C(t){var e="";if(f.util.isArray(t)){var i=0,n=t.length;for(e+="[";n>i;i++)i>0&&(e+=","),e+=C(t[i]);e+="]"}else if(f.util.isObject(t)){e+="{";var o=[];x(t,function(t,e){o.push('"'+t+'": '+C(e))}),e+=o.join(", "),e+="}"}else e=f.util.isString(t)?'"'+t+'"':f.util.isNumber(t)?t:f.util.isUndefined(t)?"undefined":f.util.isFunction(t)?'"{Function}"':t;return e}function k(t,e){if(!e&&!n.test(t))return{error:500,msg:"syntax error"};try{return new Function("","return "+t)()}catch(i){return{error:500,msg:"syntax error"}}}function S(t){var e;return null!=t&&t==t.window?e="window":t&&1==t.nodeType?e="element":t&&11==t.nodeType?e="fragment":null===t?e="null":"undefined"==typeof t?e="undefined":"[object Object]"==xt.call(t)?e="object":"[object Array]"==xt.call(t)?e="array":"[object String]"==xt.call(t)?e="string":"[object Number]"==xt.call(t)?e="number":"[object NodeList]"==xt.call(t)?e="nodelist":"function"==typeof t&&(e="function"),e}function T(t){return null!=t&&t==t.window}function E(t){return!(!t||1!=t.nodeType&&11!=t.nodeType)}function j(t){return"[object Object]"==xt.call(t)}function z(t){return"[object Array]"==xt.call(t)}function N(t){return"function"==typeof t}function K(t){return"[object String]"==xt.call(t)}function R(t){return"[object Number]"==xt.call(t)}function D(t){return!!("[object NodeList]"==xt.call(t)||"undefined"!=typeof t&&t&&t[0]&&1==t[0].nodeType)}function P(t){return"undefined"==typeof t}function Q(t){return"undefined"==typeof t||null===t||""===t}function A(t){return t instanceof Date&&!isNaN(t.valueOf())}function O(t){var e=!1;if(t)if(t instanceof Date&&!isNaN(t.valueOf()))e=!0;else{if(t.length>7&&nt(t)instanceof Date)return!0;if(t=t.replace(/\D/g,""),t.length>7){var i=t.substr(4,2),n=t.substr(6,2);t=nt(t),t.getMonth()==i-1&&t.getDate()==n&&(e=!0)}}else;return e}function q(t){if(j(t)){var e=Object.keys(t),i={};return i[e[0]]=t[e[0]],i}return z(t)?t[0]:void console.error("ax5.util.object.first","argument type error")}function F(t){if(j(t)){var e=Object.keys(t),i={};return i[e[e.length-1]]=t[e[e.length-1]],i}return z(t)?t[t.length-1]:void console.error("ax5.util.object.last","argument type error")}function G(t,e,n,o){var a;return"number"==typeof n&&(a=new Date,a.setDate(a.getDate()+n)),o=o||{},i.cookie=[escape(t),"=",escape(e),a?"; expires="+a.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")}function M(t){for(var e=t+"=",n=i.cookie.split(";"),o=0,a=n.length;a>o;o++){for(var l=n[o];" "==l.charAt(0);)l=l.substring(1);if(-1!=l.indexOf(e))return unescape(l.substring(e.length,l.length))}return""}function H(t){return e.alert(C(t)),t}function L(t,e){return"undefined"==typeof t||"undefined"==typeof e?"":K(e)?t.indexOf(e)>-1?t.substr(0,t.indexOf(e)):"":R(e)?t.substr(0,e):""}function B(t,e){return"undefined"==typeof t||"undefined"==typeof e?"":(t=""+t,K(e)?t.lastIndexOf(e)>-1?t.substr(t.lastIndexOf(e)+1):"":R(e)?t.substr(t.length-e):"")}function W(t){return t.replace(o,"ms-").replace(a,function(t,e){return e.toUpperCase()})}function V(t){return W(t).replace(l,function(t,e){return"-"+e.toLowerCase()})}function U(t,e){var i,n=(""+t).split(s),o=Number(n[0])<0||"-0"==n[0],a=0;return n[0]=n[0].replace(r,""),n[1]?(n[1]=n[1].replace(d,""),a=Number(n[0]+"."+n[1])||0):a=Number(n[0])||0,i=o?-a:a,x(e,function(t,e){"round"==t&&(i=R(e)?0>e?+(Math.round(i+"e-"+Math.abs(e))+"e+"+Math.abs(e)):+(Math.round(i+"e+"+e)+"e-"+e):Math.round(i)),"floor"==t&&(i=Math.floor(i)),"ceil"==t?i=Math.ceil(i):"money"==t?i=function(t){var e=""+t;if(isNaN(e)||""==e)return"";var i=e.split(".");i[0]+=".";do i[0]=i[0].replace(c,"$1,$2");while(c.test(i[0]));return i.length>1?i.join(""):i[0].split(".")[0]}(i):"abs"==t?i=Math.abs(Number(i)):"byte"==t&&(i=function(t){t=Number(i);var e="KB",n=t/1024;return n/1024>1&&(e="MB",n/=1024),n/1024>1&&(e="GB",n/=1024),U(n,{round:1})+e}(i))}),i}function Y(t){return"undefined"!=typeof t.length?Array.prototype.slice.call(t):[]}function X(t,e){var i=e.length,n=t.length,o=0;if("number"==typeof i)for(;i>o;o++)t[n++]=e[o];else for(;void 0!==e[o];)t[n++]=e[o++];return t.length=n,t}function Z(t,e){var i;return K(t)&&"undefined"!=typeof e&&"param"==e?t:K(t)&&"undefined"!=typeof e&&"object"==e||K(t)&&"undefined"==typeof e?(i={},x(t.split(u),function(){var t=this.split(h);i[t[0]]?(K(i[t[0]])&&(i[t[0]]=[i[t[0]]]),i[t[0]].push(t[1])):i[t[0]]=t[1]}),i):(i=[],x(t,function(t,e){i.push(t+"="+escape(e))}),i.join("&"))}function J(t){return encodeURIComponent(t)}function tt(t){return decodeURIComponent(t)}function et(){f.info.onerror.apply(this,arguments)}function it(t,e,i,n,o,a){var l,s;return s=new Date,0>e&&(e=0),"undefined"==typeof n&&(n=12),"undefined"==typeof o&&(o=0),l=new Date(Date.UTC(t,e,i||1,n,o,a||0)),0==e&&1==i&&l.getUTCHours()+l.getTimezoneOffset()/60<0?l.setUTCHours(0):l.setUTCHours(l.getUTCHours()+l.getTimezoneOffset()/60),l}function nt(t,e){var i=void 0,n=void 0,o=void 0,a=void 0,l=void 0,s=void 0,r=void 0,d=void 0,c=void 0,u=void 0,h=/^\d{4}(-\d\d(-\d\d(T\d\d:\d\d(:\d\d)?(\.\d+)?(([+-]\d\d:\d\d)|Z)?)?)?)?$/i,p=/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i;if(K(t))if(0==t.length)t=new Date;else if(t.length>15)p.test(t)||h.test(t)?t=new Date(t):(s=t.split(/ /g),c=s[0].split(/\D/g),i=c[0],n=parseFloat(c[1]),o=parseFloat(c[2]),d=s[1]||"09:00",r=d.substring(0,5).split(":"),a=parseFloat(r[0]),l=parseFloat(r[1]),("AM"===B(d,2)||"PM"===B(d,2))&&(a+=12),t=it(i,n-1,o,a,l));else if(14==t.length)u=t.replace(/\D/g,""),t=it(u.substr(0,4),u.substr(4,2)-1,U(u.substr(6,2)),U(u.substr(8,2)),U(u.substr(10,2)),U(u.substr(12,2)));else if(t.length>7)u=t.replace(/\D/g,""),t=it(u.substr(0,4),u.substr(4,2)-1,U(u.substr(6,2)));else if(t.length>4)u=t.replace(/\D/g,""),t=it(u.substr(0,4),u.substr(4,2)-1,1);else{if(t.length>2)return u=t.replace(/\D/g,""),it(u.substr(0,4),u.substr(4,2)-1,1);t=new Date}return"undefined"==typeof e||"undefined"==typeof t?t:("add"in e&&(t=function(t,e){var i=void 0,n=void 0,o=void 0,a=void 0,l=864e5;return"undefined"!=typeof e.d?t.setTime(t.getTime()+e.d*l):"undefined"!=typeof e.m?(i=t.getFullYear(),n=t.getMonth(),o=t.getDate(),i+=parseInt(e.m/12),n+=e.m%12,a=lt(i,n),o>a&&(o=a),t=new Date(i,n,o,12)):"undefined"!=typeof e.y&&t.setTime(t.getTime()+365*e.y*l),t}(new Date(t),e.add)),"set"in e&&(t=function(t,e){var i=void 0,n=void 0,o=void 0,a={firstDayOfMonth:function(t){return i=t.getFullYear(),n=t.getMonth(),o=1,new Date(i,n,o,12)},lastDayOfMonth:function(t){return i=t.getFullYear(),n=t.getMonth(),o=lt(i,n),new Date(i,n,o,12)}};return e in a?a[e](t):t}(new Date(t),e.set)),"return"in e?function(){var i=e["return"],n=void 0,o=void 0,a=void 0,l=void 0,s=void 0,r=void 0,d=void 0,c=void 0,u=void 0,h=void 0,p=void 0,f=void 0,m=void 0,x=void 0,v=void 0,b=void 0,y=void 0,w=void 0,_=void 0,I=void 0,$=void 0;return n=t.getUTCFullYear(),o=st(t.getMonth()+1,2),a=st(t.getDate(),2),l=st(t.getHours(),2),s=st(t.getMinutes(),2),r=st(t.getSeconds(),2),d=t.getDay(),c=/[^y]*(yyyy)[^y]*/gi,c.exec(i),u=RegExp.$1,h=/[^m]*(MM)[^m]*/g,h.exec(i),p=RegExp.$1,f=/[^d]*(dd)[^d]*/gi,f.exec(i),m=RegExp.$1,x=/[^h]*(hh)[^h]*/gi,x.exec(i),v=RegExp.$1,b=/[^m]*(mm)[^i]*/g,b.exec(i),y=RegExp.$1,w=/[^s]*(ss)[^s]*/gi,w.exec(i),_=RegExp.$1,I=/[^d]*(dw)[^w]*/gi,I.exec(i),$=RegExp.$1,"yyyy"===u&&(i=i.replace(u,B(n,u.length))),"MM"===p&&(1==p.length&&(o=t.getMonth()+1),i=i.replace(p,o)),"dd"===m&&(1==m.length&&(a=t.getDate()),i=i.replace(m,a)),"hh"===v&&(i=i.replace(v,l)),"mm"===y&&(i=i.replace(y,s)),"ss"===_&&(i=i.replace(_,r)),"dw"==$&&(i=i.replace($,g.weekNames[d].label)),i}():t)}function ot(t,e){function i(t){return Math.floor(t.getTime()/l)*l}var n,o,a=nt(t),l=864e5,s=new Date;return"undefined"==typeof e?n=U((i(a)-i(s))/l,{floor:!0}):(n=U((i(a)-i(s))/l,{floor:!0}),e.today&&(s=nt(e.today),n=U((i(a)-i(s))/l,{floor:!0})),e.thisYear&&(o=new Date(s.getFullYear(),a.getMonth(),a.getDate()),n=U((i(o)-i(s))/l,{floor:!0}),0>n&&(o=new Date(s.getFullYear()+1,a.getMonth(),a.getDate()),n=U((i(o)-i(s))/l,{floor:!0}))),e.age&&(o=new Date(s.getFullYear(),a.getMonth(),a.getDate()),n=o.getFullYear()-a.getFullYear()),n)}function at(t){var e=nt(t);return{year:e.getFullYear(),month:e.getMonth()+1,count:parseInt(e.getDate()/7+1)}}function lt(t,e){return 3==e||5==e||8==e||10==e?30:1==e?t%4==0&&t%100!=0||t%400==0?29:28:31}function st(t,e,i,n){var o=t.toString(n||10);return rt(i||"0",e-o.length)+o}function rt(t,e){return 1>e?"":new Array(e+1).join(t)}function dt(t,e){if(t)for(;function(){var i=!0;if("undefined"==typeof e)t=t.parentNode?t.parentNode:!1;else if(N(e))i=e(t);else if(j(e))for(var n in e)if("tagname"===n){if(t.tagName.toLocaleLowerCase()!=e[n]){i=!1;break}}else if("clazz"===n||"class_name"===n){if(!("className"in t)){i=!1;break}for(var o=t.className.split(p),a=!1,l=0;l<o.length;l++)if(o[l]==e[n]){a=!0;break}i=a}else{if(!t.getAttribute){i=!1;break}if(t.getAttribute(n)!=e[n]){i=!1;break}}return!i}();){if(!t.parentNode||!t.parentNode.parentNode){t=!1;break}t=t.parentNode}return t}function ct(t){var e=/\D?(\d+)([a-zA-Z%]*)/i,i=(""+t).match(e),n=i[2]||"px";return i[1]+n}function ut(t){var e;if(j(t)){e="";for(var i in t)e+=i+":"+t[i]+";";return e}if(K(t)){e={};var n=t.split(/[ ]*;[ ]*/g);return n.forEach(function(t){if(""!==(t=t.trim())){var i=t.split(/[ ]*:[ ]*/g);e[i[0]]=i[1]}}),e}}function ht(t){if(!t)var t=window.event;return t.cancelBubble=!0,t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),!1}function pt(t){var e,i;if("object"==("undefined"==typeof t?"undefined":_typeof(t))){if(m.isArray(t)){i=t.length,e=new Array(i);for(var n=0;i>n;n++)e[n]=pt(t[n]);return e}return jQuery.extend({},t)}return t}function ft(t){return"[object String]"!=xt.call(t)?t:t?t.replace(/[\<\>\&\"]/gm,function(t){switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case'"':return"&quot;";default:return t}}):""}function gt(t){return"[object String]"!=xt.call(t)?t:t?t.replace(/(&lt;)|(&gt;)|(&amp;)|(&quot;)/gm,function(t){switch(t){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&quot;":return'"';default:return t}}):""}function mt(t){function e(t){this.value=t,this.toString=function(){return this.value},this.format=function(){for(var t=[],e=0,i=arguments.length;i>e;e++)t=t.concat(arguments[e]);return this.value.replace(/{(\d+)}/g,function(e,i){return"undefined"!=typeof t[i]?t[i]:e})},this.escape=function(){return ft(this.value)},this.unescape=function(){return gt(this.value)},this.encode=function(){return J(this.value)},this.decode=function(){return tt(this.value)},this.left=function(t){return L(this.value,t)},this.right=function(t){return B(this.value,t)},this.camelCase=function(){return W(this.value)},this.snakeCase=function(){return V(this.value)}}return new e(t)}var xt=Object.prototype.toString,vt=function(){var t={textRange:{selectAll:function(){},arr:function(t,e,i){e.moveStart("character",i[0]),e.collapse(),e.moveEnd("character",i[1])},start:function(t,e){e.moveStart("character",0),e.collapse()},end:function(t,e){e.moveStart("character",e.text.length),e.collapse()}},range:{selectAll:function(t,e){e.selectNodeContents(t)},arr:function(t,e,i){j(i[0])?(e.setStart(i[0].node,i[0].offset),e.setEnd(i[1].node,i[1].offset)):(e.setStart(t.firstChild,i[0]),e.setEnd(t.firstChild,i[1]))},start:function(t,e){e.selectNodeContents(t),e.collapse(!0)},end:function(t,e){e.selectNodeContents(t),e.collapse(!1)}}};return function(e,n){var o,a,l;if(e instanceof jQuery&&(e=e.get(0)),e){if(i.body.createTextRange?(o=document.body.createTextRange(),o.moveToElementText(e),a="textRange"):window.getSelection&&(l=window.getSelection(),o=document.createRange(),a="range"),"undefined"==typeof n)t[a].selectAll.call(this,e,o,n);else if(z(n))t[a].arr.call(this,e,o,n);else for(var s in t[a])if(n==s){t[a][s].call(this,e,o,n);break}i.body.createTextRange?(o.select(),e.focus()):window.getSelection&&(e.focus(),l.removeAllRanges(),l.addRange(o))}}}(),bt=function(t,e,i){var n,o,a=function(){var a=Y(arguments);o&&clearTimeout(o),n?(n&&clearTimeout(n),n=setTimeout(function(e){t.apply(this,e)}.bind(this,a),e)):n=setTimeout(function(e){t.apply(this,e)}.bind(this,a),i?0:e),o=setTimeout(function(){clearTimeout(n),n=null},e)};return a.cancel=function(){clearTimeout(n),clearTimeout(o),n=null},a};return{alert:H,each:x,map:v,search:b,reduce:_,reduceRight:I,filter:$,sum:y,avg:w,toJson:C,parseJson:k,first:q,last:F,deepCopy:pt,left:L,right:B,getType:S,isWindow:T,isElement:E,isObject:j,isArray:z,isFunction:N,isString:K,isNumber:R,isNodelist:D,isUndefined:P,isNothing:Q,setCookie:G,getCookie:M,camelCase:W,snakeCase:V,number:U,toArray:Y,merge:X,param:Z,error:et,date:nt,dday:ot,daysOfMonth:lt,weeksOfMonth:at,setDigit:st,times:rt,findParentNode:dt,cssNumber:ct,css:ut,isDate:A,isDateFormat:O,stopEvent:ht,selectRange:vt,debounce:bt,escapeHtml:ft,unescapeHtml:gt,string:mt}}(),"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=f:t.ax5=function(){return f}()}).call("undefined"!=typeof window?window:void 0),ax5.def={},ax5.info.errorMsg.ax5dialog={501:"Duplicate call error"},ax5.info.errorMsg.ax5picker={401:"Can not find target element",402:"Can not find boundID",501:"Can not find content key"},ax5.info.errorMsg["single-uploader"]={460:"There are no files to be uploaded.",461:"There is no uploaded files."},ax5.info.errorMsg.ax5calendar={401:"Can not find target element"},ax5.info.errorMsg.ax5formatter={401:"Can not find target element",402:"Can not find boundID",501:"Can not find pattern"},ax5.info.errorMsg.ax5menu={501:"Can not find menu item"},ax5.info.errorMsg.ax5select={401:"Can not find target element",402:"Can not find boundID",501:"Can not find option"},ax5.info.errorMsg.ax5combobox={401:"Can not find target element",402:"Can not find boundID",501:"Can not find option"},function(){var t=this,e=/^\s*|\s*$/g;if(Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=i.length;return function(o){if("object"!==("undefined"==typeof o?"undefined":_typeof(o))&&("function"!=typeof o||null===o))throw new TypeError("type err");var a,l,s=[];for(a in o)t.call(o,a)&&s.push(a);if(e)for(l=0;n>l;l++)t.call(o,i[l])&&s.push(i[l]);return s}}()),Array.prototype.forEach||(Array.prototype.forEach=function(t){if(void 0===this||null===this)throw TypeError();var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw TypeError();var n,o=arguments[1];for(n=0;i>n;n++)n in e&&t.call(o,e[n],n,e)}),Function.prototype.bind||(Function.prototype.bind=function(t){function e(){}if("function"!=typeof this)throw TypeError("function");var i=[].slice,n=i.call(arguments,1),o=this,a=function(){return o.apply(this instanceof e?this:t,n.concat(i.call(arguments)))};return e.prototype=o.prototype,a.prototype=new e,a}),function(){if(!document.querySelectorAll&&!document.querySelector&&document.createStyleSheet){var t=document.createStyleSheet(),e=function(e,i){var n,o=document.all,a=o.length,l=[];for(t.addRule(e,"foo:bar"),n=0;a>n&&!("bar"===o[n].currentStyle.foo&&(l.push(o[n]),l.length>i));n+=1);return t.removeRule(0),l};document.querySelectorAll=function(t){return e(t,1/0)},document.querySelector=function(t){return e(t,1)[0]||null}}}(),String.prototype.trim||!function(){String.prototype.trim=function(){return this.replace(e,"")}}(),window.JSON||(window.JSON={parse:function(t){return new Function("","return "+t)()},stringify:function(){var t,e=/["]/g;return t=function(i){var n,o,a;switch(n="undefined"==typeof i?"undefined":_typeof(i)){case"string":return'"'+i.replace(e,'\\"')+'"';case"number":case"boolean":return i.toString();case"undefined":return"undefined";case"function":return'""';case"object":if(!i)return"null";if(n="",i.splice){for(o=0,a=i.length;a>o;o++)n+=","+t(i[o]);return"["+n.substr(1)+"]"}for(o in i)i.hasOwnProperty(o)&&void 0!==i[o]&&"function"!=typeof i[o]&&(n+=',"'+o+'":'+t(i[o]));return"{"+n.substr(1)+"}"}}}()}),function(){if(!document.documentMode||document.documentMode>=9)return!1;var t=Array.prototype.splice;Array.prototype.splice=function(){var e=Array.prototype.slice.call(arguments);return"undefined"==typeof e[1]&&(e[1]=this.length-e[0]),t.apply(this,e)}}(),function(){var t=Array.prototype.slice;try{t.call(document.documentElement)}catch(e){Array.prototype.slice=function(e,i){if(i="undefined"!=typeof i?i:this.length,"[object Array]"===Object.prototype.toString.call(this))return t.call(this,e,i);var n,o,a=[],l=this.length,s=e||0;s=s>=0?s:Math.max(0,l+s);var r="number"==typeof i?Math.min(i,l):l;if(0>i&&(r=l+i),o=r-s,o>0)if(a=new Array(o),this.charAt)for(n=0;o>n;n++)a[n]=this.charAt(s+n);else for(n=0;o>n;n++)a[n]=this[s+n];return a}}}(),function(t){for(var e,i,n={},o=function(){},a="memory".split(","),l="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");e=a.pop();)t[e]=t[e]||n;for(;i=l.pop();)t[i]=t[i]||o}(window.console||{}),!(window.webkitMatchMedia||window.mozMatchMedia||window.oMatchMedia||window.msMatchMedia||window.matchMedia)){var t=document.getElementsByTagName("html")[0];t.className+=" no-matchmedia"}window.matchMedia||(window.matchMedia=function(){var t=window.styleMedia||window.media;if(!t){var e=document.createElement("style"),i=document.getElementsByTagName("script")[0],n=null;e.type="text/css",e.id="matchmediajs-test",i.parentNode.insertBefore(e,i),n="getComputedStyle"in window&&window.getComputedStyle(e,null)||e.currentStyle,t={matchMedium:function(t){var i="@media "+t+"{ #matchmediajs-test { width: 1px; } }";return e.styleSheet?e.styleSheet.cssText=i:e.textContent=i,"1px"===n.width}}}return function(e){return{matches:t.matchMedium(e||"all"),media:e||"all"}}}()),function(){if(window.matchMedia&&window.matchMedia("all").addListener)return!1;var t=window.matchMedia,e=t("only all").matches,i=!1,n=0,o=[],a=function(){clearTimeout(n),n=setTimeout(function(){for(var e=0,i=o.length;i>e;e++){var n=o[e].mql,a=o[e].listeners||[],l=t(n.media).matches;if(l!==n.matches){n.matches=l;for(var s=0,r=a.length;r>s;s++)a[s].call(window,n)}}},30)};window.matchMedia=function(n){var l=t(n),s=[],r=0;return l.addListener=function(t){e&&(i||(i=!0,window.addEventListener("resize",a,!0)),0===r&&(r=o.push({mql:l,listeners:s})),s.push(t))},l.removeListener=function(t){for(var e=0,i=s.length;i>e;e++)s[e]===t&&s.splice(e,1)},l}}();document.getElementsByTagName("html")[0],document.getElementsByTagName("body")[0]}.call(window),ax5.ui=function(){function t(){this.config={},this.name="root",this.setConfig=function(t,e){return jQuery.extend(!0,this.config,t),("undefined"==typeof e||e===!0)&&this.init(),this},this.init=function(){console.log(this.config)},this.bindWindowResize=function(t){setTimeout(function(){jQuery(window).resize(function(){this.bindWindowResize__&&clearTimeout(this.bindWindowResize__),this.bindWindowResize__=setTimeout(function(){t.call(this)}.bind(this),10)}.bind(this))}.bind(this),100)},this.stopEvent=function(t){return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,!1},this.toString=function(){return this.name+"@"+this.version},this.main=function(){}.apply(this,arguments)}function e(t,e){if(!t||!t.className)throw"invalid call";var i=t.classStore?t.classStore:ax5.ui;if(!i)throw"invalid classStore";ax5.def[t.className]={version:t.version};var n=function(t,e){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2])}},o=function(t,e,i){return i.name=t,i.version=e,i.instanceId=ax5.getGuid(),i},a=function(e){var i=t.superClass?t.superClass:ax5.ui.root;if(!ax5.util.isFunction(i))throw"invalid superClass";i.call(this),e.prototype=new i},l=function s(){if(!(this&&this instanceof s))throw"invalid call";var i=n(e,arguments);return o(t.className,t.version||"",i)};a.call(this,e),i[t.className]=l}return{root:t,addClass:e}}(),function(t,e){e(t.mustache={})}(window.ax5,function(t){function e(t){return"function"==typeof t}function i(t){return g(t)?"array":"undefined"==typeof t?"undefined":_typeof(t)}function n(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(t,e){return null!=t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))&&e in t}function a(t,e){return m.call(t,e)}function l(t){return!a(x,t)}function s(t){return String(t).replace(/[&<>"'\/]/g,function(t){return v[t]})}function r(e,i){function o(){if(x&&!v)for(;m.length;)delete f[m.pop()];else m=[];x=!1,v=!1}function a(t){if("string"==typeof t&&(t=t.split(y,2)),!g(t)||2!==t.length)throw new Error("Invalid tags: "+t);s=new RegExp(n(t[0])+"\\s*"),r=new RegExp("\\s*"+n(t[1])),h=new RegExp("\\s*"+n("}"+t[1]))}if(!e)return[];var s,r,h,p=[],f=[],m=[],x=!1,v=!1;a(i||t.tags);for(var $,C,k,S,T,E,j=new u(e);!j.eos();){if($=j.pos,k=j.scanUntil(s))for(var z=0,N=k.length;N>z;++z)S=k.charAt(z),l(S)?m.push(f.length):v=!0,f.push(["text",S,$,$+1]),$+=1,"\n"===S&&o();if(!j.scan(s))break;if(x=!0,C=j.scan(I)||"name",j.scan(b),"="===C?(k=j.scanUntil(w),j.scan(w),j.scanUntil(r)):"{"===C?(k=j.scanUntil(h),j.scan(_),j.scanUntil(r),C="&"):k=j.scanUntil(r),!j.scan(r))throw new Error("Unclosed tag at "+j.pos);if(T=[C,k,$,j.pos],f.push(T),"#"===C||"^"===C)p.push(T);else if("/"===C){if(E=p.pop(),!E)throw new Error('Unopened section "'+k+'" at '+$);if(E[1]!==k)throw new Error('Unclosed section "'+E[1]+'" at '+$)}else"name"===C||"{"===C||"&"===C?v=!0:"="===C&&a(k)}if(E=p.pop())throw new Error('Unclosed section "'+E[1]+'" at '+j.pos);return c(d(f))}function d(t){for(var e,i,n=[],o=0,a=t.length;a>o;++o)e=t[o],e&&("text"===e[0]&&i&&"text"===i[0]?(i[1]+=e[1],i[3]=e[3]):(n.push(e),i=e));return n}function c(t){for(var e,i,n=[],o=n,a=[],l=0,s=t.length;s>l;++l)switch(e=t[l],e[0]){case"#":case"^":o.push(e),a.push(e),o=e[4]=[];break;case"/":i=a.pop(),i[5]=e[2],o=a.length>0?a[a.length-1][4]:n;break;default:o.push(e)}return n}function u(t){this.string=t,this.tail=t,this.pos=0}function h(t,e){this.view=t,this.cache={".":this.view,"@each":function(){var t=[];for(var e in this)t.push({"@key":e,"@value":this[e]});return t}},this.parent=e}function p(){this.cache={}}var f=Object.prototype.toString,g=Array.isArray||function(t){return"[object Array]"===f.call(t)},m=RegExp.prototype.test,x=/\S/,v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},b=/\s*/,y=/\s+/,w=/\s*=/,_=/\s*\}/,I=/#|\^|\/|>|\{|&|=|!/;u.prototype.eos=function(){return""===this.tail},u.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var i=e[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i},u.prototype.scanUntil=function(t){var e,i=this.tail.search(t);switch(i){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,i),this.tail=this.tail.substring(i)}return this.pos+=e.length,e},h.prototype.push=function(t){return new h(t,this)},h.prototype.lookup=function(t){var i,n=this.cache;if(n.hasOwnProperty(t))i=n[t];else{for(var a,l,s=this,r=!1;s;){if(t.indexOf(".")>0)for(i=s.view,a=t.split("."),l=0;null!=i&&l<a.length;)l===a.length-1&&(r=o(i,a[l])),i=i[a[l++]];else i=s.view[t],r=o(s.view,t);if(r)break;s=s.parent}n[t]=i}return e(i)&&(i=i.call(this.view)),i},p.prototype.clearCache=function(){this.cache={}},p.prototype.parse=function(t,e){var i=this.cache,n=i[t];return null==n&&(n=i[t]=r(t,e)),n},p.prototype.render=function(t,e,i){var n=this.parse(t),o=e instanceof h?e:new h(e);return this.renderTokens(n,o,i,t)},p.prototype.renderTokens=function(t,e,i,n){for(var o,a,l,s="",r=0,d=t.length;d>r;++r)l=void 0,o=t[r],a=o[0],"#"===a?l=this.renderSection(o,e,i,n):"^"===a?l=this.renderInverted(o,e,i,n):">"===a?l=this.renderPartial(o,e,i,n):"&"===a?l=this.unescapedValue(o,e):"name"===a?l=this.escapedValue(o,e):"text"===a&&(l=this.rawValue(o)),void 0!==l&&(s+=l);return s},p.prototype.renderSection=function(t,i,n,o){function a(t){return l.render(t,i,n)}var l=this,s="",r=i.lookup(t[1]);if(r){if(g(r))for(var d=0,c=r.length;c>d;++d)r[d]&&("object"===_typeof(r[d])&&(r[d]["@i"]=d,r[d]["@first"]=0===d),s+=this.renderTokens(t[4],i.push(r[d]),n,o));else if("object"===("undefined"==typeof r?"undefined":_typeof(r))||"string"==typeof r||"number"==typeof r)s+=this.renderTokens(t[4],i.push(r),n,o);else if(e(r)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");r=r.call(i.view,o.slice(t[3],t[5]),a),null!=r&&(s+=r)}else s+=this.renderTokens(t[4],i,n,o);return s}},p.prototype.renderInverted=function(t,e,i,n){var o=e.lookup(t[1]);return!o||g(o)&&0===o.length?this.renderTokens(t[4],e,i,n):void 0},p.prototype.renderPartial=function(t,i,n){if(n){var o=e(n)?n(t[1]):n[t[1]];return null!=o?this.renderTokens(this.parse(o),i,n,o):void 0}},p.prototype.unescapedValue=function(t,e){var i=e.lookup(t[1]);return null!=i?i:void 0},p.prototype.escapedValue=function(e,i){var n=i.lookup(e[1]);return null!=n?t.escape(n):void 0},p.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.1.3",t.tags=["{{","}}"];var $=new p;t.clearCache=function(){return $.clearCache()},t.parse=function(t,e){return $.parse(t,e)},t.render=function(t,e,n){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+i(t)+'" was given as the first argument for mustache#render(template, view, partials)');return $.render(t,e,n)},t.to_html=function(i,n,o,a){var l=t.render(i,n,o);return e(a)?void a(l):l},t.escape=s,t.Scanner=u,t.Context=h,t.Writer=p}),function(){var t,e=ax5.ui,i=ax5.util;e.addClass({className:"dialog",version:"1.3.82"},function(){var n=function(){var n,o=this;this.instanceId=ax5.getGuid(),this.config={id:"ax5-dialog-"+this.instanceId,clickEventName:"click",theme:"default",width:300,title:"",msg:"",lang:{ok:"ok",cancel:"cancel"},animateTime:150},this.activeDialog=null,n=this.config;var a=function(t,e){return t&&t.onStateChanged?t.onStateChanged.call(e,e):this.onStateChanged&&this.onStateChanged.call(e,e),e=null,!0},l=function(e,i){var o={dialogId:e,title:i.title||n.title||"",msg:(i.msg||n.msg||"").replace(/\n/g,"<br/>"),input:i.input,btns:i.btns,_crlf:function(){return this.replace(/\n/g,"<br/>")}};try{return t.tmpl.get.call(this,"dialogDisplay",o)}finally{o=null}},s=function(t,e){var i,o={};t.id=t.id||n.id,i={width:t.width},jQuery(document.body).append(l.call(this,t.id,t)),this.activeDialog=jQuery("#"+t.id),this.activeDialog.css({width:i.width}),t.height=i.height=this.activeDialog.height(),"undefined"==typeof t.position||"center"===t.position?(o.top=jQuery(window).height()/2-i.height/2,o.left=jQuery(window).width()/2-i.width/2):(o.left=t.position.left||0,o.top=t.position.top||0),n.zIndex&&(o["z-index"]=n.zIndex),this.activeDialog.css(o),"prompt"===t.dialogType?this.activeDialog.find("[data-dialog-prompt]").get(0).focus():this.activeDialog.find("[data-dialog-btn]").get(0).focus(),this.activeDialog.find("[data-dialog-btn]").on(n.clickEventName,function(i){
d.call(this,i||window.event,t,e)}.bind(this)),jQuery(window).bind("keydown.ax5dialog",function(i){c.call(this,i||window.event,t,e)}.bind(this)),jQuery(window).bind("resize.ax5dialog",function(t){r.call(this,t||window.event)}.bind(this)),a.call(this,t,{self:this,state:"open"}),o=null,i=null},r=function(){if(!this.activeDialog)return this;var t=o.dialogConfig,e={width:t.width,height:t.height};return"undefined"==typeof t.position||"center"===t.position?(e.top=window.innerHeight/2-e.height/2,e.left=window.innerWidth/2-e.width/2):(e.left=t.position.left||0,e.top=t.position.top||0),e.left<0&&(e.left=0),e.top<0&&(e.top=0),this.activeDialog.css(e),t=null,e=null,this},d=function(t,e,n,o,a){var l;if(t.srcElement&&(t.target=t.srcElement),o=i.findParentNode(t.target,function(t){return t.getAttribute("data-dialog-btn")?!0:void 0})){if(a=o.getAttribute("data-dialog-btn"),l={self:this,key:a,value:e.btns[a],dialogId:e.id,btnTarget:o},"prompt"===e.dialogType){var s=null;for(var r in e.input)if(l[r]=this.activeDialog.find("[data-dialog-prompt="+r+"]").val(),""==l[r]||null==l[r]){s=r;break}}if(e.btns[a].onClick)e.btns[a].onClick.call(l,a);else if("alert"===e.dialogType)n&&n.call(l,a),this.close({doNotCallback:!0});else if("confirm"===e.dialogType)n&&n.call(l,a),this.close({doNotCallback:!0});else if("prompt"===e.dialogType){if("ok"===a&&s)return this.activeDialog.find('[data-dialog-prompt="'+s+'"]').get(0).focus(),!1;n&&n.call(l,a),this.close({doNotCallback:!0})}}l=null,e=null,n=null,o=null,a=null},c=function(t,e,i,n,o){var a,l=null;if(t.keyCode==ax5.info.eventKeys.ESC&&this.close(),"prompt"===e.dialogType&&t.keyCode==ax5.info.eventKeys.RETURN){a={self:this,key:o,value:e.btns[o],dialogId:e.id,btnTarget:n};for(var s in e.input)if(a[s]=this.activeDialog.find("[data-dialog-prompt="+s+"]").val(),""==a[s]||null==a[s]){l=s;break}if(l)return a=null,l=null,!1;i&&i.call(a,o),this.close({doNotCallback:!0})}a=null,l=null,e=null,i=null,n=null,o=null};this.init=function(){this.onStateChanged=n.onStateChanged},this.alert=function(t,e,a){return i.isString(t)&&(t={title:n.title,msg:t}),this.activeDialog?(a?console.log(ax5.info.getError("ax5dialog","501","alert")):setTimeout(function(){this.alert(t,e,1)}.bind(this),Number(n.animateTime)+100),this):(o.dialogConfig={},jQuery.extend(!0,o.dialogConfig,n,t),t=o.dialogConfig,t.dialogType="alert",t.theme=t.theme||n.theme||"",t.callback=e,"undefined"==typeof t.btns&&(t.btns={ok:{label:n.lang.ok,theme:t.theme}}),s.call(this,t,e),this)},this.confirm=function(t,e,a){return i.isString(t)&&(t={title:n.title,msg:t}),this.activeDialog?(a?console.log(ax5.info.getError("ax5dialog","501","confirm")):setTimeout(function(){this.confirm(t,e,1)}.bind(this),Number(n.animateTime)+100),this):(o.dialogConfig={},jQuery.extend(!0,o.dialogConfig,n,t),t=o.dialogConfig,t.dialogType="confirm",t.theme=t.theme||n.theme||"",t.callback=e,"undefined"==typeof t.btns&&(t.btns={ok:{label:n.lang.ok,theme:t.theme},cancel:{label:n.lang.cancel}}),s.call(this,t,e),this)},this.prompt=function(t,e,a){return i.isString(t)&&(t={title:n.title,msg:t}),this.activeDialog?(a?console.log(ax5.info.getError("ax5dialog","501","prompt")):setTimeout(function(){this.prompt(t,e,1)}.bind(this),Number(n.animateTime)+100),this):(o.dialogConfig={},jQuery.extend(!0,o.dialogConfig,n,t),t=o.dialogConfig,t.dialogType="prompt",t.theme=t.theme||n.theme||"",t.callback=e,"undefined"==typeof t.input&&(t.input={value:{label:""}}),"undefined"==typeof t.btns&&(t.btns={ok:{label:n.lang.ok,theme:t.theme},cancel:{label:n.lang.cancel}}),s.call(this,t,e),this)},this.close=function(t){var e,i;return this.activeDialog&&(e=o.dialogConfig,this.activeDialog.addClass("destroy"),jQuery(window).unbind("keydown.ax5dialog"),jQuery(window).unbind("resize.ax5dialog"),setTimeout(function(){this.activeDialog&&(this.activeDialog.remove(),this.activeDialog=null),i={self:this,state:"close",dialogId:e.id},!e.callback||t&&t.doNotCallback||e.callback.call(i),e&&e.onStateChanged?e.onStateChanged.call(i,i):this.onStateChanged&&this.onStateChanged.call(i,i),e=null,i=null}.bind(this),n.animateTime)),this},this.main=function(){e.dialog_instance=e.dialog_instance||[],e.dialog_instance.push(this),arguments&&i.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return n}()),t=ax5.ui.dialog}(),function(){var t=ax5.ui.dialog,e=function(){return' \n        <div id="{{dialogId}}" data-ax5-ui="dialog" class="ax5-ui-dialog {{theme}}">\n            <div class="ax-dialog-header">\n                {{{title}}}\n            </div>\n            <div class="ax-dialog-body">\n                <div class="ax-dialog-msg">{{{msg}}}</div>\n                \n                {{#input}}\n                <div class="ax-dialog-prompt">\n                    {{#@each}}\n                    <div class="form-group">\n                    {{#@value.label}}\n                    <label>{{#_crlf}}{{{.}}}{{/_crlf}}</label>\n                    {{/@value.label}}\n                    <input type="{{@value.type}}" placeholder="{{@value.placeholder}}" class="form-control {{@value.theme}}" data-dialog-prompt="{{@key}}" style="width:100%;" value="{{@value.value}}" />\n                    {{#@value.help}}\n                    <p class="help-block">{{#_crlf}}{{.}}{{/_crlf}}</p>\n                    {{/@value.help}}\n                    </div>\n                    {{/@each}}\n                </div>\n                {{/input}}\n                \n                <div class="ax-dialog-buttons">\n                    <div class="ax-button-wrap">\n                    {{#btns}}\n                        {{#@each}}\n                        <button type="button" data-dialog-btn="{{@key}}" class="btn btn-{{@value.theme}}">{{@value.label}}</button>\n                        {{/@each}}\n                    {{/btns}}\n                    </div>\n                </div>\n            </div>\n        </div>  \n        '};t.tmpl={dialogDisplay:e,get:function(e,i,n){return ax5.mustache.render(t.tmpl[e].call(this,n),i)}}}(),function(){var t,e=ax5.ui,i=ax5.util;e.addClass({className:"mask",version:"1.3.82"},function(){var n=function(){var n,o=this;this.instanceId=ax5.getGuid(),this.config={theme:"",target:jQuery(document.body).get(0),animateTime:250},this.maskContent="",this.status="off",n=this.config;var a=function(t,e){return t&&t.onStateChanged?t.onStateChanged.call(e,e):this.onStateChanged&&this.onStateChanged.call(e,e),t=null,e=null,!0},l=function(e){return"undefined"==typeof e.templateName&&(e.templateName="defaultMask"),t.tmpl.get.call(this,e.templateName,e)},s=function(t){this.maskContent=t};this.init=function(){this.onStateChanged=n.onStateChanged,this.onClick=n.onClick,this.config.content&&s.call(this,this.config.content)},this.open=function(t){"on"===this.status&&this.close(),t&&t.content&&s.call(this,t.content),t&&"undefined"==typeof t.templateName&&(t.templateName="defaultMask"),o.maskConfig={},jQuery.extend(!0,o.maskConfig,this.config,t);var e,i=o.maskConfig,n=i.target,r=jQuery(n),d="ax-mask-"+ax5.getGuid(),c={},u={},h=i.templateName,p=l({theme:i.theme,maskId:d,body:this.maskContent,templateName:h});return jQuery(document.body).append(p),n&&n!==jQuery(document.body).get(0)&&(c={position:i.position||"absolute",left:r.offset().left,top:r.offset().top,width:r.outerWidth(),height:r.outerHeight()},"undefined"!=typeof o.maskConfig.zIndex&&(c["z-index"]=o.maskConfig.zIndex),r.addClass("ax-masking"),jQuery(window).bind("resize.ax5mask-"+this.instanceId,function(){this.align()}.bind(this))),this.$mask=e=jQuery("#"+d),this.$target=r,this.status="on",e.css(c),i.onClick&&e.on("click",function(){u={self:o,state:"open",type:"click"},o.maskConfig.onClick.call(u,u)}),a.call(this,null,{self:this,state:"open"}),t=null,i=null,n=null,r=null,d=null,e=null,c=null,u=null,h=null,p=null,this},this.close=function(t){var e=this;return this.$mask&&!function(){var i=function(){this.status="off",this.$mask.remove(),this.$target.removeClass("ax-masking"),a.call(this,null,{self:this,state:"close"}),jQuery(window).unbind("resize.ax5mask-"+this.instanceId)};t?setTimeout(function(){i.call(this)}.bind(e),t):i.call(e)}(),this},this.fadeOut=function(){var t=this;return this.$mask&&!function(){var e=function(){this.status="off",this.$mask.remove(),this.$target.removeClass("ax-masking"),a.call(this,null,{self:this,state:"close"}),jQuery(window).unbind("resize.ax5mask-"+this.instanceId)};t.$mask.addClass("fade-out"),setTimeout(function(){e.call(this)}.bind(t),n.animateTime)}(),this},this.align=function(){if(this.maskConfig&&this.maskConfig.target&&this.maskConfig.target!==jQuery(document.body).get(0))try{var t={position:this.maskConfig.position||"absolute",left:this.$target.offset().left,top:this.$target.offset().top,width:this.$target.outerWidth(),height:this.$target.outerHeight()};this.$mask.css(t)}catch(e){}return this},this.pullRequest=function(){console.log("test pullRequest01"),console.log("test pullRequest02")},this.main=function(){e.mask_instance=e.mask_instance||[],e.mask_instance.push(this),arguments&&i.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return n}()),t=ax5.ui.mask}(),function(){var t=ax5.ui.mask,e=function(){return'\n            <div class="ax-mask {{theme}}" id="{{maskId}}">\n                <div class="ax-mask-bg"></div>\n                <div class="ax-mask-content">\n                    <div class="ax-mask-body">\n                    {{{body}}}\n                    </div>\n                </div>\n            </div>\n        '};t.tmpl={defaultMask:e,get:function(e,i,n){return ax5.mustache.render(t.tmpl[e].call(this,n),i)}}}(),function(){var t,e=ax5.ui,i=ax5.util;e.addClass({className:"toast",version:"1.3.82"},function(){var n=function(){var n,o=this,a=0,l=null;this.instanceId=ax5.getGuid(),this.config={clickEventName:"click",theme:"default",width:300,icon:"",closeIcon:"",msg:"",lang:{ok:"ok",cancel:"cancel"},displayTime:3e3,animateTime:250,containerPosition:"bottom-left"},this.toastContainer=null,this.queue=[],n=this.config;var s=function(t,e){return t&&t.onStateChanged?t.onStateChanged.call(e,e):this.onStateChanged&&this.onStateChanged.call(e,e),t=null,e=null,!0},r=function(e,i){var n={toastId:e,theme:i.theme,icon:i.icon,msg:(i.msg||"").replace(/\n/g,"<br/>"),btns:i.btns,closeIcon:i.closeIcon};try{return t.tmpl.get.call(this,"toastDisplay",n)}finally{e=null,n=null}},d=function(t,e){l&&clearTimeout(l);var d,u={width:t.width};return t.id="ax5-toast-"+o.containerId+"-"+ ++a,jQuery("#"+t.id).get(0)?this:("bottom"==i.left(n.containerPosition,"-")?this.toastContainer.append(r(t.id,t)):this.toastContainer.prepend(r(t.id,t)),d=jQuery("#"+t.id),d.css({width:u.width}),t.toastBox=d,this.queue.push(t),s.call(this,t,{self:this,state:"open",toastId:t.id}),"push"===t.toastType?(setTimeout(function(){this.close(t,e)}.bind(this),n.displayTime),d.find("[data-ax-toast-btn]").on(n.clickEventName,function(i){c.call(this,i||window.event,t,d,e)}.bind(this))):"confirm"===t.toastType&&d.find("[data-ax-toast-btn]").on(n.clickEventName,function(i){c.call(this,i||window.event,t,d,e)}.bind(this)),void(u=null))},c=function(t,e,n,o,a,l){if(a=i.findParentNode(t.target,function(t){return t.getAttribute("data-ax-toast-btn")?!0:void 0})){l=a.getAttribute("data-ax-toast-btn");var s={key:l,value:e.btns?e.btns[l]:l,toastId:e.id,btn_target:a};e.btns&&e.btns[l].onClick?e.btns[l].onClick.call(s,l):"push"===e.toastType?(o&&o.call(s,l),this.close(e,o)):"confirm"===e.toastType&&(o&&o.call(s,l),this.close(e,o))}t=null,e=null,n=null,o=null,a=null,l=null};this.init=function(){this.onStateChanged=n.onStateChanged,o.containerId=ax5.getGuid();var t=[];n.zIndex&&t.push("z-index:"+n.zIndex),jQuery(document.body).append('<div class="ax5-ui-toast-container '+n.containerPosition+'" data-toast-container="'+o.containerId+'" style="'+t.join(";")+'"></div>'),this.toastContainer=jQuery('[data-toast-container="'+o.containerId+'"]')},this.push=function(t,e){return o.containerId||this.init(),i.isString(t)&&(t={title:n.title,msg:t}),t.toastType="push",o.dialogConfig={},jQuery.extend(!0,o.dialogConfig,n,t),t=o.dialogConfig,d.call(this,t,e),t=null,e=null,this},this.confirm=function(t,e){return o.containerId||this.init(),i.isString(t)&&(t={title:n.title,msg:t}),t.toastType="confirm",o.dialogConfig={},jQuery.extend(!0,o.dialogConfig,n,t),t=o.dialogConfig,"undefined"==typeof t.btns&&(t.btns={ok:{label:n.lang.ok,theme:t.theme}}),d.call(this,t,e),t=null,e=null,this},this.close=function(t,e){"undefined"==typeof t&&(t=i.last(this.queue));var o=t.toastBox;return o.addClass("push"==t.toastType?"removed":"destroy"),this.queue=i.filter(this.queue,function(){return t.id!=this.id}),setTimeout(function(){var i={toastId:t.id};o.remove(),e&&e.call(i),i={self:this,state:"close",toastId:t.id},s.call(this,t,i),0===this.queue.length&&(l&&clearTimeout(l),l=setTimeout(function(){0===this.queue.length&&(a=0)}.bind(this),3e3)),i=null,t=null,e=null,o=null}.bind(this),n.animateTime),this},this.main=function(){e.toast_instance=e.toast_instance||[],e.toast_instance.push(this),arguments&&i.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return n}()),t=ax5.ui.toast}(),function(){var t=ax5.ui.toast,e=function(){return'\n        <div id="{{toastId}}" data-ax5-ui="toast" class="ax5-ui-toast {{theme}}">\n            {{#icon}}\n            <div class="ax-toast-icon">{{{.}}}</div>\n            {{/icon}}\n            <div class="ax-toast-body">{{{msg}}}</div>\n            {{#btns}}\n            <div class="ax-toast-buttons">\n                <div class="ax-button-wrap">\n                    {{#@each}}\n                    <button type="button" data-ax-toast-btn="{{@key}}" class="btn btn-{{@value.theme}}">{{{@value.label}}}</button>\n                    {{/@each}}\n                </div>\n            </div>\n            {{/btns}}\n            {{^btns}}\n                <a class="ax-toast-close" data-ax-toast-btn="ok">{{{closeIcon}}}</a>\n            {{/btns}}\n            <div style="clear:both;"></div>\n        </div>'};t.tmpl={toastDisplay:e,get:function(e,i,n){return ax5.mustache.render(t.tmpl[e].call(this,n),i)}}}(),function(){var t,e=ax5.ui,i=ax5.util;e.addClass({className:"modal",version:"1.3.122"},function(){var n=function(){var n=this,o=void 0,a={mousedown:ax5.info.supportTouch?"touchstart":"mousedown",mousemove:ax5.info.supportTouch?"touchmove":"mousemove",mouseup:ax5.info.supportTouch?"touchend":"mouseup"},l=function(t){var e=t;return"changedTouches"in t&&(e=t.changedTouches[0]),{clientX:e.clientX,clientY:e.clientY}};this.instanceId=ax5.getGuid(),this.config={id:"ax5-modal-"+this.instanceId,position:{left:"center",top:"middle",margin:10},minimizePosition:"bottom-right",clickEventName:"click",theme:"default",width:300,height:400,closeToEsc:!0,disableDrag:!1,disableResize:!1,animateTime:250,iframe:!1},this.activeModal=null,this.watingModal=!1,this.$={},o=this.config;var s=function(t,e){var i={resize:function(e){t&&t.onResize?t.onResize.call(e,e):this.onResize&&this.onResize.call(e,e)},move:function(){}};return e.state in i&&i[e.state].call(this,e),t&&t.onStateChanged?t.onStateChanged.call(e,e):this.onStateChanged&&this.onStateChanged.call(e,e),!0},r=function(e,i){var n={modalId:e,theme:i.theme,header:i.header,fullScreen:i.fullScreen?"fullscreen":"",styles:"",iframe:i.iframe,iframeLoadingMsg:i.iframeLoadingMsg,disableResize:i.disableResize};return i.zIndex&&(n.styles+="z-index:"+i.zIndex+";"),i.absolute&&(n.styles+="position:absolute;"),n.iframe&&"string"==typeof n.iframe.param&&(n.iframe.param=ax5.util.param(n.iframe.param)),t.tmpl.get.call(this,"content",n,{})},d=function(t,e){var d=void 0;jQuery(document.body).append(r.call(this,t.id,t)),this.activeModal=jQuery("#"+t.id),this.$={root:this.activeModal,header:this.activeModal.find('[data-modal-els="header"]'),body:this.activeModal.find('[data-modal-els="body"]')},t.iframe?(this.$["iframe-wrap"]=this.activeModal.find('[data-modal-els="iframe-wrap"]'),this.$.iframe=this.activeModal.find('[data-modal-els="iframe"]'),this.$["iframe-form"]=this.activeModal.find('[data-modal-els="iframe-form"]'),this.$["iframe-loading"]=this.activeModal.find('[data-modal-els="iframe-loading"]')):this.$["body-frame"]=this.activeModal.find('[data-modal-els="body-frame"]'),this.align(),d={self:this,id:t.id,theme:t.theme,width:t.width,height:t.height,state:"open",$:this.$},t.iframe&&(this.$["iframe-wrap"].css({height:t.height}),this.$.iframe.css({height:t.height}),this.$["iframe-form"].attr({method:t.iframe.method}),this.$["iframe-form"].attr({target:t.id+"-frame"}),this.$["iframe-form"].attr({action:t.iframe.url}),this.$.iframe.on("load",function(){d.state="load",t.iframeLoadingMsg&&this.$["iframe-loading"].hide(),s.call(this,t,d)}.bind(this)),t.iframeLoadingMsg||this.$.iframe.show(),this.$["iframe-form"].submit()),e&&e.call(d,d),this.watingModal||s.call(this,t,d),t.closeToEsc&&jQuery(window).bind("keydown.ax-modal",function(t){u.call(this,t||window.event)}.bind(this)),jQuery(window).bind("resize.ax-modal",function(t){this.align(null,t||window.event)}.bind(this)),this.activeModal.on(o.clickEventName,"[data-modal-header-btn]",function(e){c.call(this,e||window.event,t)}.bind(this)),this.$.header.off(a.mousedown).off("dragstart").on(a.mousedown,function(e){if(t.isFullScreen)return!1;var o=i.findParentNode(e.target,function(t){return t.getAttribute("data-modal-header-btn")?!0:void 0});o||1==t.disableDrag||(n.mousePosition=l(e),p.on.call(n))}).on("dragstart",function(t){return i.stopEvent(t.originalEvent),!1}),this.activeModal.off(a.mousedown).off("dragstart").on(a.mousedown,"[data-ax5modal-resizer]",function(e){return t.disableDrag||t.isFullScreen?!1:(n.mousePosition=l(e),void f.on.call(n,this.getAttribute("data-ax5modal-resizer")))}).on("dragstart",function(t){return i.stopEvent(t.originalEvent),!1})},c=function(t,e,n,o,a){var l=void 0;t.srcElement&&(t.target=t.srcElement),o=i.findParentNode(t.target,function(t){return t.getAttribute("data-modal-header-btn")?!0:void 0}),o&&(a=o.getAttribute("data-modal-header-btn"),l={self:this,key:a,value:e.header.btns[a],dialogId:e.id,btnTarget:o},e.header.btns[a].onClick&&e.header.btns[a].onClick.call(l,a)),l=null,e=null,n=null,o=null,a=null},u=function(t){t.keyCode==ax5.info.eventKeys.ESC&&this.close()},h={"top-left":function(){this.align({left:"left",top:"top"})},"top-right":function(){this.align({left:"right",top:"top"})},"bottom-left":function(){this.align({left:"left",top:"bottom"})},"bottom-right":function(){this.align({left:"right",top:"bottom"})},"center-middle":function(){this.align({left:"center",top:"middle"})}},p={on:function(){var t=this.activeModal.css("z-index"),e=this.activeModal.position(),i={width:this.activeModal.outerWidth(),height:this.activeModal.outerHeight()},o={width:jQuery(window).width(),height:jQuery(window).height(),scrollLeft:n.modalConfig.absolute?0:jQuery(document).scrollLeft(),scrollTop:n.modalConfig.absolute?0:jQuery(document).scrollTop()},l=function(t){return n.__dx=t.clientX-n.mousePosition.clientX,n.__dy=t.clientY-n.mousePosition.clientY,s>e.left+n.__dx?n.__dx=-e.left:r<e.left+n.__dx&&(n.__dx=r-e.left),d>e.top+n.__dy?n.__dy=-e.top:c<e.top+n.__dy&&(n.__dy=c-e.top),{left:e.left+n.__dx+o.scrollLeft,top:e.top+n.__dy+o.scrollTop}},s=0,r=o.width-i.width,d=0,c=o.height-i.height;n.__dx=0,n.__dy=0,n.resizerBg=jQuery('<div class="ax5modal-resizer-background" ondragstart="return false;"></div>'),n.resizer=jQuery('<div class="ax5modal-resizer" ondragstart="return false;"></div>'),n.resizerBg.css({zIndex:t}),n.resizer.css({left:e.left+o.scrollLeft,top:e.top+o.scrollTop,width:i.width,height:i.height,zIndex:t+1}),jQuery(document.body).append(n.resizerBg).append(n.resizer),n.activeModal.addClass("draged"),jQuery(document.body).on(a.mousemove+".ax5modal-move-"+this.instanceId,function(t){n.resizer.css(l(t))}).on(a.mouseup+".ax5modal-move-"+this.instanceId,function(){p.off.call(n)}).on("mouseleave.ax5modal-move-"+this.instanceId,function(){p.off.call(n)}),jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",!1)},off:function(){var t=function(){var t=this.resizer.offset();this.modalConfig.absolute||(t.left-=jQuery(document).scrollLeft(),t.top-=jQuery(document).scrollTop()),this.activeModal.css(t),this.modalConfig.left=t.left,this.modalConfig.top=t.top,t=null};this.activeModal.removeClass("draged"),t.call(this),this.resizer.remove(),this.resizer=null,this.resizerBg.remove(),this.resizerBg=null,jQuery(document.body).off(a.mousemove+".ax5modal-move-"+this.instanceId).off(a.mouseup+".ax5modal-move-"+this.instanceId).off("mouseleave.ax5modal-move-"+this.instanceId),jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart"),s.call(this,n.modalConfig,{self:this,state:"move"})}},f={on:function(t){var e=this.activeModal.css("z-index"),i=this.activeModal.position(),o={width:this.activeModal.outerWidth(),height:this.activeModal.outerHeight()},l={width:jQuery(window).width(),height:jQuery(window).height(),scrollLeft:this.modalConfig.absolute?0:jQuery(document).scrollLeft(),scrollTop:this.modalConfig.absolute?0:jQuery(document).scrollTop()},s={top:function(t){return c>o.height-n.__dy&&(n.__dy=o.height-c),t.shiftKey?(c>o.height-2*n.__dy&&(n.__dy=(o.height-c)/2),{left:i.left,top:i.top+n.__dy,width:o.width,height:o.height-2*n.__dy}):t.altKey?(c>o.height-2*n.__dy&&(n.__dy=(o.height-c)/2),{left:i.left+n.__dy,top:i.top+n.__dy,width:o.width-2*n.__dy,height:o.height-2*n.__dy}):{left:i.left,top:i.top+n.__dy,width:o.width,height:o.height-n.__dy}},bottom:function(t){return c>o.height+n.__dy&&(n.__dy=-o.height+c),t.shiftKey?(c>o.height+2*n.__dy&&(n.__dy=(-o.height+c)/2),{left:i.left,top:i.top-n.__dy,width:o.width,height:o.height+2*n.__dy}):t.altKey?(c>o.height+2*n.__dy&&(n.__dy=(-o.height+c)/2),{left:i.left-n.__dy,top:i.top-n.__dy,width:o.width+2*n.__dy,height:o.height+2*n.__dy}):{left:i.left,top:i.top,width:o.width,height:o.height+n.__dy}},left:function(t){return d>o.width-n.__dx&&(n.__dx=o.width-d),t.shiftKey?(d>o.width-2*n.__dx&&(n.__dx=(o.width-d)/2),{left:i.left+n.__dx,top:i.top,width:o.width-2*n.__dx,height:o.height}):t.altKey?(d>o.width-2*n.__dx&&(n.__dx=(o.width-d)/2),{left:i.left+n.__dx,top:i.top+n.__dx,width:o.width-2*n.__dx,height:o.height-2*n.__dx}):{left:i.left+n.__dx,top:i.top,width:o.width-n.__dx,height:o.height}},right:function(t){return d>o.width+n.__dx&&(n.__dx=-o.width+d),t.shiftKey?(d>o.width+2*n.__dx&&(n.__dx=(-o.width+d)/2),{left:i.left-n.__dx,top:i.top,width:o.width+2*n.__dx,height:o.height}):t.altKey?(d>o.width+2*n.__dx&&(n.__dx=(-o.width+d)/2),{left:i.left-n.__dx,top:i.top-n.__dx,width:o.width+2*n.__dx,height:o.height+2*n.__dx}):{left:i.left,top:i.top,width:o.width+n.__dx,height:o.height}},"top-left":function(t){return d>o.width-n.__dx&&(n.__dx=o.width-d),c>o.height-n.__dy&&(n.__dy=o.height-c),t.shiftKey||t.altKey?(c>o.height-2*n.__dy&&(n.__dy=(o.height-c)/2),d>o.width-2*n.__dx&&(n.__dx=(o.width-d)/2),{left:i.left+n.__dx,top:i.top+n.__dy,width:o.width-2*n.__dx,height:o.height-2*n.__dy}):(c>o.height-2*n.__dy&&(n.__dy=(o.height-c)/2),d>o.width-2*n.__dx&&(n.__dx=(o.width-d)/2),{left:i.left+n.__dx,top:i.top+n.__dy,width:o.width-n.__dx,height:o.height-n.__dy})},"top-right":function(t){return d>o.width+n.__dx&&(n.__dx=-o.width+d),c>o.height-n.__dy&&(n.__dy=o.height-c),t.shiftKey||t.altKey?(c>o.height-2*n.__dy&&(n.__dy=(o.height-c)/2),d>o.width+2*n.__dx&&(n.__dx=(-o.width+d)/2),{left:i.left-n.__dx,top:i.top+n.__dy,width:o.width+2*n.__dx,height:o.height-2*n.__dy}):{left:i.left,top:i.top+n.__dy,width:o.width+n.__dx,height:o.height-n.__dy}},"bottom-left":function(t){return d>o.width-n.__dx&&(n.__dx=o.width-d),c>o.height+n.__dy&&(n.__dy=-o.height+c),t.shiftKey||t.altKey?(d>o.width-2*n.__dx&&(n.__dx=(o.width-d)/2),c>o.height+2*n.__dy&&(n.__dy=(-o.height+c)/2),{left:i.left+n.__dx,top:i.top-n.__dy,width:o.width-2*n.__dx,height:o.height+2*n.__dy}):{left:i.left+n.__dx,top:i.top,width:o.width-n.__dx,height:o.height+n.__dy}},"bottom-right":function(t){return d>o.width+n.__dx&&(n.__dx=-o.width+d),c>o.height+n.__dy&&(n.__dy=-o.height+c),t.shiftKey||t.altKey?(d>o.width+2*n.__dx&&(n.__dx=(-o.width+d)/2),c>o.height+2*n.__dy&&(n.__dy=(-o.height+c)/2),{left:i.left-n.__dx,top:i.top-n.__dy,width:o.width+2*n.__dx,height:o.height+2*n.__dy}):{left:i.left,top:i.top,width:o.width+n.__dx,height:o.height+n.__dy}}},r=function(e){return n.__dx=e.clientX-n.mousePosition.clientX,n.__dy=e.clientY-n.mousePosition.clientY,s[t](e)};this.modalConfig.absolute||(i.left+=l.scrollLeft,i.top+=l.scrollTop);var d=100,c=100,u={top:"row-resize",bottom:"row-resize",left:"col-resize",right:"col-resize","top-left":"nwse-resize","top-right":"nesw-resize","bottom-left":"nesw-resize","bottom-right":"nwse-resize"};n.__dx=0,n.__dy=0,n.resizerBg=jQuery('<div class="ax5modal-resizer-background" ondragstart="return false;"></div>'),n.resizer=jQuery('<div class="ax5modal-resizer" ondragstart="return false;"></div>'),n.resizerBg.css({zIndex:e,cursor:u[t]}),n.resizer.css({left:i.left,top:i.top,width:o.width,height:o.height,zIndex:e+1,cursor:u[t]}),jQuery(document.body).append(n.resizerBg).append(n.resizer),n.activeModal.addClass("draged"),jQuery(document.body).bind(a.mousemove+".ax5modal-resize-"+this.instanceId,function(t){n.resizer.css(r(t))}).bind(a.mouseup+".ax5modal-resize-"+this.instanceId,function(){f.off.call(n)}).bind("mouseleave.ax5modal-resize-"+this.instanceId,function(){f.off.call(n)}),jQuery(document.body).attr("unselectable","on").css("user-select","none").bind("selectstart",!1)},off:function(){var t=function(){var t=this.resizer.offset();jQuery.extend(t,{width:this.resizer.width(),height:this.resizer.height()}),this.modalConfig.absolute||(t.left-=jQuery(document).scrollLeft(),t.top-=jQuery(document).scrollTop()),this.activeModal.css(t),this.modalConfig.left=t.left,this.modalConfig.top=t.top,this.modalConfig.width=t.width,this.modalConfig.height=t.height,this.$.body.css({height:t.height-this.modalConfig.headerHeight}),this.modalConfig.iframe&&(this.$["iframe-wrap"].css({height:t.height-this.modalConfig.headerHeight}),this.$.iframe.css({height:t.height-this.modalConfig.headerHeight})),t=null};this.activeModal.removeClass("draged"),t.call(this),this.resizer.remove(),this.resizer=null,this.resizerBg.remove(),this.resizerBg=null,s.call(this,n.modalConfig,{self:this,state:"resize"}),jQuery(document.body).unbind(a.mousemove+".ax5modal-resize-"+this.instanceId).unbind(a.mouseup+".ax5modal-resize-"+this.instanceId).unbind("mouseleave.ax5modal-resize-"+this.instanceId),jQuery(document.body).removeAttr("unselectable").css("user-select","auto").unbind("selectstart")}};this.init=function(){this.onStateChanged=o.onStateChanged,this.onResize=o.onResize},this.open=function(t,e,i){return"undefined"==typeof i&&(i=0),this.activeModal?3>i&&(this.watingModal=!0,setTimeout(function(){this.open(t,e,i+1)}.bind(this),o.animateTime)):(t=n.modalConfig=jQuery.extend(!0,{},o,t),d.call(this,t,e),this.watingModal=!1),this},this.close=function(t){return this.activeModal&&(t=n.modalConfig,this.activeModal.addClass("destroy"),jQuery(window).unbind("keydown.ax-modal"),jQuery(window).unbind("resize.ax-modal"),setTimeout(function(){if(this.activeModal){if(t.iframe){var e=this.$.iframe;if(e){var i=e.get(0),n=i.contentDocument?i.contentDocument:i.contentWindow.document;try{$(n.body).children().each(function(){$(this).remove()})}catch(o){}n.innerHTML="",e.attr("src","about:blank").remove(),window.CollectGarbage&&window.CollectGarbage()}}this.activeModal.remove(),this.activeModal=null}this.watingModal||s.call(this,t,{self:this,state:"close"})}.bind(this),o.animateTime)),this.minimized=!1,this},this.minimize=function(){return function(t){if(this.minimized!==!0){var e=n.modalConfig;"undefined"==typeof t&&(t=o.minimizePosition),this.minimized=!0,this.$.body.hide(),n.modalConfig.originalHeight=e.height,n.modalConfig.height=0,h[t].call(this),s.call(this,e,{self:this,state:"minimize"})}return this}}(),this.restore=function(){var t=n.modalConfig;return this.minimized&&(this.minimized=!1,this.$.body.show(),n.modalConfig.height=n.modalConfig.originalHeight,n.modalConfig.originalHeight=void 0,this.align({left:"center",top:"middle"}),s.call(this,t,{self:this,state:"restore"})),this},this.css=function(t){return this.activeModal&&!n.fullScreen&&(this.activeModal.css(t),t.width&&(n.modalConfig.width=this.activeModal.width()),t.height&&(n.modalConfig.height=this.activeModal.height(),this.$.iframe&&(this.$["iframe-wrap"].css({height:n.modalConfig.height}),this.$.iframe.css({height:n.modalConfig.height})))),this},this.setModalConfig=function(t){return n.modalConfig=jQuery.extend({},n.modalConfig,t),this.align(),this},this.align=function(){return function(t){if(!this.activeModal)return this;var e=n.modalConfig,o={width:e.width,height:e.height},a=e.isFullScreen=function(t){return"undefined"==typeof t?!1:i.isFunction(t)?t():void 0}(e.fullScreen);return a?(e.header&&this.$.header.show(),o.width=jQuery(window).width(),o.height=e.height,o.left=0,o.top=0):(e.header&&this.$.header.show(),t&&jQuery.extend(!0,e.position,t),e.header?(e.headerHeight=this.$.header.outerHeight(),o.height+=e.headerHeight):e.headerHeight=0,"left"==e.position.left?o.left=e.position.margin||0:"right"==e.position.left?o.left=jQuery(window).width()-o.width-(e.position.margin||0):"center"==e.position.left?o.left=jQuery(window).width()/2-o.width/2:o.left=e.position.left||0,"top"==e.position.top?o.top=e.position.margin||0:"bottom"==e.position.top?o.top=jQuery(window).height()-o.height-(e.position.margin||0):"middle"==e.position.top?o.top=jQuery(window).height()/2-o.height/2:o.top=e.position.top||0,o.left<0&&(o.left=0),o.top<0&&(o.top=0)),this.activeModal.css(o),this.$.body.css({height:o.height-e.headerHeight}),e.iframe&&(this.$["iframe-wrap"].css({height:o.height-e.headerHeight}),this.$.iframe.css({height:o.height-e.headerHeight})),this}}(),this.main=function(){e.modal_instance=e.modal_instance||[],e.modal_instance.push(this),arguments&&i.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return n}()),t=ax5.ui.modal}(),function(){var t=ax5.ui.modal,e=function(){return' \n        <div id="{{modalId}}" data-modal-els="root" class="ax5modal {{theme}} {{fullscreen}}" style="{{styles}}">\n            {{#header}}\n            <div class="ax-modal-header" data-modal-els="header">\n                {{{title}}}\n                {{#btns}}\n                    <div class="ax-modal-header-addon">\n                    {{#@each}}\n                    <button tabindex="-1" data-modal-header-btn="{{@key}}" class="{{@value.theme}}">{{{@value.label}}}</button>\n                    {{/@each}}\n                    </div>\n                {{/btns}}\n            </div>\n            {{/header}}\n            <div class="ax-modal-body" data-modal-els="body">\n            {{#iframe}}\n                <div data-modal-els="iframe-wrap" style="-webkit-overflow-scrolling: touch; overflow: auto;position: relative;">\n                    <table data-modal-els="iframe-loading" style="width:100%;height:100%;"><tr><td style="text-align: center;vertical-align: middle">{{{iframeLoadingMsg}}}</td></tr></table>\n                    <iframe name="{{modalId}}-frame" src="" width="100%" height="100%" frameborder="0" data-modal-els="iframe" style="position: absolute;left:0;top:0;"></iframe>\n                </div>\n                <form name="{{modalId}}-form" data-modal-els="iframe-form">\n                <input type="hidden" name="modalId" value="{{modalId}}" />\n                {{#param}}\n                {{#@each}}\n                <input type="hidden" name="{{@key}}" value="{{@value}}" />\n                {{/@each}}\n                {{/param}}\n                </form>\n            {{/iframe}}\n            {{^iframe}}\n                <div data-modal-els="body-frame" style="position: absolute;left:0;top:0;width:100%;height:100%;"></div>\n            {{/iframe}}\n            </div>\n            {{^disableResize}}\n            <div data-ax5modal-resizer="top"></div>\n            <div data-ax5modal-resizer="right"></div>\n            <div data-ax5modal-resizer="bottom"></div>\n            <div data-ax5modal-resizer="left"></div>\n            <div data-ax5modal-resizer="top-left"></div>\n            <div data-ax5modal-resizer="top-right"></div>\n            <div data-ax5modal-resizer="bottom-left"></div>\n            <div data-ax5modal-resizer="bottom-right"></div>\n            {{/disableResize}}\n        </div>\n        ';
};t.tmpl={content:e,get:function(e,i,n){return ax5.mustache.render(t.tmpl[e].call(this,n),i)}}}(),function(){var t,e=ax5.ui,i=ax5.util;e.addClass({className:"formatter",version:"1.3.82"},function(){var e=(new Date,function(t,e){if("undefined"==typeof e&&(e=t.value.length),t.setSelectionRange)t.focus(),t.setSelectionRange(e,e);else if(t.createTextRange){var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}else t.selectionStart&&(t.focus(),t.selectionStart=e,t.selectionEnd=e)}),n=function(){var n,o=this;this.instanceId=ax5.getGuid(),this.config={animateTime:250},this.queue=[],this.openTimer=null,this.closeTimer=null,n=this.config;var a={focus:function(t){t.$input.data("__originValue__")||t.$input.data("__originValue__",t.$input.val())},keydown:function(t,e,i){var n=!1;t.enterableKeyCodes&&(i.which&&t.enterableKeyCodes[i.which]||i.metaKey||i.ctrlKey||i.shiftKey||(n=!0)),n&&ax5.util.stopEvent(i)},keyup:function(i,n,o){var a,l,s,r,d,c=i.$input.get(0);"selectionStart"in c?a=c.selectionStart:document.selection&&(r=document.selection.createRange(),d=document.selection.createRange().text.length,r.moveStart("character",-c.value.length),a=r.text.length-d),l=c.value,s=i.pattern in t.formatter?t.formatter[i.pattern].getPatternValue.call(this,i,n,o,c.value):l,s!=l&&(i.$input.val(s).trigger("change"),e(c,a+s.length-l.length))},blur:function(e,i,n,o){var a,l,s=e.$input.get(0);e.$input.removeData("__originValue__"),a=s.value,l=e.pattern in t.formatter?t.formatter[e.pattern].getPatternValue.call(this,e,i,n,s.value,"blur"):a,o?e.$input.val(l):l!=a&&e.$input.val(l).trigger("change")}},l=function(e,i){if(!e.pattern&&("INPUT"==e.$target.get(0).tagName?e.pattern=e.$target.attr("data-ax5formatter"):e.pattern=e.$target.find('input[type="text"]').attr("data-ax5formatter"),!e.pattern))return console.log(ax5.info.getError("ax5formatter","501","bind")),console.log(e.target),this;var n=/[^\(^\))]+/gi,o=e.pattern.match(n);return e.pattern=o[0],e.patternArgument=o[1]||"",e.pattern in t.formatter&&(e.enterableKeyCodes=t.formatter[e.pattern].getEnterableKeyCodes.call(this,e,i)),e.$input.unbind("focus.ax5formatter").bind("focus.ax5formatter",a.focus.bind(this,this.queue[i],i)),e.$input.unbind("keydown.ax5formatter").bind("keydown.ax5formatter",a.keydown.bind(this,this.queue[i],i)),e.$input.unbind("keyup.ax5formatter").bind("keyup.ax5formatter",a.keyup.bind(this,this.queue[i],i)),e.$input.unbind("blur.ax5formatter").bind("blur.ax5formatter",a.blur.bind(this,this.queue[i],i)),a.blur.call(this,this.queue[i],i),this},s=function(t){return i.isString(t)||(t=jQuery(t).data("data-formatter")),i.search(this.queue,function(){return this.id==t})};this.init=function(){},this.bind=function(t){var e,a={};if(jQuery.extend(!0,a,n),t&&jQuery.extend(!0,a,t),t=a,!t.target)return console.log(ax5.info.getError("ax5formatter","401","bind")),this;if(t.$target=jQuery(t.target),"INPUT"==t.$target.get(0).tagName)t.$input=t.$target;else if(t.$input=t.$target.find('input[type="text"]'),t.$input.length>1)return t.$input.each(function(){t.target=this,o.bind(t)}),this;return t.$input="INPUT"==t.$target.get(0).tagName?t.$target:t.$target.find('input[type="text"]'),t.id||(t.id=t.$input.data("ax5-formatter")),t.id||(t.id="ax5-formatter-"+ax5.getGuid(),t.$input.data("ax5-formatter",t.id)),e=i.search(this.queue,function(){return this.id==t.id}),-1===e?(this.queue.push(t),l.call(this,this.queue[this.queue.length-1],this.queue.length-1)):(this.queue[e]=t,l.call(this,this.queue[e],e)),this},this.formatting=function(t){var e=i.isNumber(t)?t:s.call(this,t);if(-1===e)for(var n=this.queue.length;n--;)a.blur.call(this,this.queue[n],n,null,!0);else a.blur.call(this,this.queue[e],e,null,!0);return this},this.unbind=function(){},this.main=function(){arguments&&i.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return n}()),t=ax5.ui.formatter}(),ax5.ui.formatter_instance=new ax5.ui.formatter,jQuery.fn.ax5formatter=function(){return function(t){if(ax5.util.isString(arguments[0])){var e=arguments[0];switch(e){case"formatting":return ax5.ui.formatter_instance.formatting(this);case"unbind":return ax5.ui.formatter_instance.unbind(this);default:return this}}else"undefined"==typeof t&&(t={}),jQuery.each(this,function(){var e={target:this};t=jQuery.extend({},t,e),ax5.ui.formatter_instance.bind(t)});return this}}(),function(){var t=ax5.ui.formatter,e=ax5.util,i=new Date,n={18:"KEY_ALT",8:"KEY_BACKSPACE",17:"KEY_CONTROL",46:"KEY_DELETE",40:"KEY_DOWN",35:"KEY_END",187:"KEY_EQUAL",27:"KEY_ESC",36:"KEY_HOME",45:"KEY_INSERT",37:"KEY_LEFT",189:"KEY_MINUS",34:"KEY_PAGEDOWN",33:"KEY_PAGEUP",13:"KEY_RETURN",39:"KEY_RIGHT",16:"KEY_SHIFT",9:"KEY_TAB",38:"KEY_UP",91:"KEY_WINDOW"},o={48:1,49:1,50:1,51:1,52:1,53:1,54:1,55:1,56:1,57:1,96:1,97:1,98:1,99:1,100:1,101:1,102:1,103:1,104:1,105:1},a={getEnterableKeyCodes:function(e){var i={188:","};return"int"==e.patternArgument||(i[190]="."),jQuery.extend(i,t.formatter.ctrlKeys,t.formatter.numKeys)},getPatternValue:function(t,i,n,o){o=o.replace(/[^0-9^\.^\-]/g,"");var a,l=new RegExp("([0-9])([0-9][0-9][0-9][,.])"),s=o.split(".");s[0]+=".";do s[0]=s[0].replace(l,"$1,$2");while(l.test(s[0]));return a=s.length>1?e.isNumber(t.maxRound)?s[0]+e.left(s[1],t.maxRound):s.join(""):s[0].split(".")[0]}},l={getEnterableKeyCodes:function(){var e={190:"."};return jQuery.extend(e,t.formatter.ctrlKeys,t.formatter.numKeys)},getPatternValue:function(t,i,n,o){o=o.replace(/[^0-9^\.^\-]/g,"");var a,l=o.split(".");return a=l.length>1?e.isNumber(t.maxRound)?l[0]+e.left(l[1],t.maxRound):l.join(""):l[0].split(".")[0]}},s={getEnterableKeyCodes:function(){var e={189:"-",191:"/"};return jQuery.extend(e,t.formatter.ctrlKeys,t.formatter.numKeys)},getPatternValue:function(t,n,o,a,l){if(a=a.replace(/\D/g,""),""==a)return a;var s=/^([0-9]{4})\-?([0-9]{1,2})?\-?([0-9]{1,2})?.*$/;"time"==t.patternArgument?s=/^([0-9]{4})\-?([0-9]{1,2})?\-?([0-9]{1,2})? ?([0-9]{1,2})?:?([0-9]{1,2})?:?([0-9]{1,2})?.*$/:"year"==t.patternArgument?s=/^([0-9]{0,4})?.*$/:"month"==t.patternArgument&&(s=/^([0-9]{4})\-?([0-9]{1,2})?.*$/);var r=a.match(s),d="",c=function(t,n,o,a){var l={Y:function(t){return"undefined"==typeof t&&(t=i.getFullYear()),(""==t||"0000"==t)&&(t=i.getFullYear()),t.length<4?e.setDigit(t,4):t},M:function(t){return"undefined"==typeof t&&(t=i.getMonth()+1),t>12?12:0==t?"01":e.setDigit(t,2)},D:function(t){"undefined"==typeof t&&(t=i.getDate()+1);var n=e.daysOfMonth(a[1],a[2]-1);return t>n?n:0==t?"01":e.setDigit(t,2)},h:function(t){return t||(t=0),t>23?23:e.setDigit(t,2)},m:function(t){return t||(t=0),t>59?59:e.setDigit(t,2)},s:function(t){return t||(t=0),t>59?59:e.setDigit(t,2)}};return o?l[n](t):t};return d=a.replace(s,function(){var e=[];return"year"==t.patternArgument?e.push(c(arguments[1],"Y",l)):"month"==t.patternArgument?(e.push(c(arguments[1],"Y",l)),(arguments[2]||l)&&e.push("-"+c(arguments[2],"M",l))):"time"==t.patternArgument?(e.push(c(arguments[1],"Y",l)),(arguments[2]||l)&&e.push("-"+c(arguments[2],"M",l)),(arguments[3]||l)&&e.push("-"+c(arguments[3],"D",l,arguments)),(arguments[4]||l)&&e.push(" "+c(arguments[4],"h",l)),(arguments[5]||l)&&e.push(":"+c(arguments[5],"m",l)),(arguments[6]||l)&&e.push(":"+c(arguments[6],"s",l))):(e.push(c(arguments[1],"Y",l)),(arguments[2]||l)&&e.push("-"+c(arguments[2],"M",l)),(arguments[3]||l)&&e.push("-"+c(arguments[3],"D",l,arguments))),e.join("")}),"blur"!=l||r?r||(d=d.length>4?e.left(d,4):d):d=function(){var e=[];return"year"==t.patternArgument?e.push(c(0,"Y",l)):"month"==t.patternArgument?(e.push(c(0,"Y",l)),e.push("-"+c(0,"M",l))):"time"==t.patternArgument?(e.push(c(0,"Y",l)),e.push("-"+c(0,"M",l)),e.push("-"+c(0,"D",l,arguments)),e.push(" "+c(0,"h",l)),e.push(":"+c(0,"m",l)),e.push(":"+c(0,"s",l))):(e.push(c(0,"Y",l)),e.push("-"+c(0,"M",l)),e.push("-"+c(0,"D",l,arguments))),e.join("")}(),d}},r={getEnterableKeyCodes:function(){var e={186:":"};return jQuery.extend(e,t.formatter.ctrlKeys,t.formatter.numKeys)},getPatternValue:function(t,i,n,o){o=o.replace(/\D/g,"");var a=/^([0-9]{1,2})?:?([0-9]{1,2})?:?([0-9]{1,2})?.*$/,l=o.match(a),s=o.replace(a,function(){var t=[arguments[1]];return arguments[2]&&t.push(":"+arguments[2]),arguments[3]&&t.push(":"+arguments[3]),t.join("")});return l||(s=s.length>2?e.left(s,2):s),s}},d={getEnterableKeyCodes:function(){var e={189:"-"};return jQuery.extend(e,t.formatter.ctrlKeys,t.formatter.numKeys)},getPatternValue:function(t,e,i,n){n=n.replace(/\D/g,"");var o=/^([0-9]{3})\-?([0-9]{1,2})?\-?([0-9]{1,5})?.*$/,a=n.replace(o,function(){var t=[arguments[1]];return arguments[2]&&t.push(arguments[2]),arguments[3]&&t.push(arguments[3]),t.join("-")});return a}},c={getEnterableKeyCodes:function(){var e={189:"-",188:","};return jQuery.extend(e,t.formatter.ctrlKeys,t.formatter.numKeys)},getPatternValue:function(t,e,i,n){n=n.replace(/\D/g,"");var o=/^([0-9]{3})\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?/;"02"==n.substr(0,2)&&(o=/^([0-9]{2})\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?/);var a=n.replace(o,function(){var t=[arguments[1]];return arguments[2]&&t.push(arguments[2]),arguments[3]&&t.push(arguments[3]),arguments[4]&&t.push(arguments[4]),arguments[5]&&t.push(arguments[5]),t.join("-")});return a}},u={getEnterableKeyCodes:function(){var e={189:"-"};return jQuery.extend(e,t.formatter.ctrlKeys,t.formatter.numKeys)},getPatternValue:function(t,e,i,n){n=n.replace(/\D/g,"").substring(0,16);var o=/^([0-9]{4})\-?([0-9]{4})?\-?([0-9]{4})?\-?([0-9]{4})?/,a=n.replace(o,function(){var t=[arguments[1]];return arguments[2]&&t.push(arguments[2]),arguments[3]&&t.push(arguments[3]),arguments[4]&&t.push(arguments[4]),t.join("-")});return a}},h={getEnterableKeyCodes:function(t){return t.getEnterableKeyCodes?t.getEnterableKeyCodes.call(t,{$input:t.$input}):null},getPatternValue:function(t,e,i,n){return t.getPatternValue?t.getPatternValue.call(t,{event:i,$input:t.$input,value:n}):void 0}};t.formatter={ctrlKeys:n,numKeys:o,money:a,number:l,date:s,time:r,bizno:d,phone:c,credit:u,custom:h}}(),function(){var t,e=ax5.ui,i=ax5.util;e.addClass({className:"menu",version:"1.3.82"},function(){var n=function(){var n=this,o=void 0;this.instanceId=ax5.getGuid(),this.config={theme:"default",iconWidth:22,acceleratorWidth:100,menuBodyPadding:5,offset:{left:0,top:0},position:"fixed",animateTime:250,items:[],itemClickAndClose:!0,columnKeys:{label:"label",items:"items"}},this.openTimer=null,this.closeTimer=null,this.queue=[],this.menuBar={},this.state=void 0,o=this.config;var a=function(t){t?(jQuery(document).unbind("click.ax5menu-"+this.menuId).bind("click.ax5menu-"+this.menuId,d.bind(this)),jQuery(window).unbind("keydown.ax5menu-"+this.menuId).bind("keydown.ax5menu-"+this.menuId,function(t){t.which==ax5.info.eventKeys.ESC&&n.close()}),jQuery(window).unbind("resize.ax5menu-"+this.menuId).bind("resize.ax5menu-"+this.menuId,function(){n.close()})):(jQuery(document).unbind("click.ax5menu-"+this.menuId),jQuery(window).unbind("keydown.ax5menu-"+this.menuId),jQuery(window).unbind("resize.ax5menu-"+this.menuId))},l=function(t,e){return t&&t.onStateChanged?t.onStateChanged.call(e,e):this.onStateChanged&&this.onStateChanged.call(e,e),n.state=e.state,t=null,e=null,!0},s=function(t){return this.onLoad&&this.onLoad.call(t,t),t=null,!0},r=function u(e,i,a,r){var d=e,h=void 0,p=void 0;return d.theme=e.theme||o.theme,d.cfg={icons:jQuery.extend({},o.icons),iconWidth:e.iconWidth||o.iconWidth,acceleratorWidth:e.acceleratorWidth||o.acceleratorWidth},i.forEach(function(t){t.html||t.divide?(t["@isMenu"]=!1,t.html&&(t["@html"]=t.html.call({item:t,config:o,opt:e}))):t["@isMenu"]=!0}),d[o.columnKeys.items]=i,d["@depth"]=a,d["@path"]=r||"root",d["@hasChild"]=function(){return this[o.columnKeys.items]&&this[o.columnKeys.items].length>0},h=jQuery(t.tmpl.get.call(this,"tmpl",d,o.columnKeys)),jQuery(document.body).append(h),p=this.queue.splice(a),p.forEach(function(t){t.$target.remove()}),this.queue.push({$target:h,data:jQuery.extend({},d)}),h.find("[data-menu-item-index]").bind("mouseover",function(){var t=this.getAttribute("data-menu-item-depth"),i=this.getAttribute("data-menu-item-index"),a=this.getAttribute("data-menu-item-path"),l=void 0,s=void 0,r=void 0,d=void 0,c=void 0,h=void 0;null!=t&&"undefined"!=typeof t&&(c=n.queue[t].data[o.columnKeys.items][i][o.columnKeys.items],h=n.queue[t].$target,h.find("[data-menu-item-index]").removeClass("hover"),jQuery(this).addClass("hover"),h.attr("data-selected-menu-item-index")!=i&&(h.attr("data-selected-menu-item-index",i),c&&c.length>0?(l=jQuery(this),s=l.offset(),r="fixed"==o.position?jQuery(document).scrollTop():0,d={"@parent":{left:s.left,top:s.top,width:l.outerWidth(),height:l.outerHeight()},left:s.left+l.outerWidth()-o.menuBodyPadding,top:s.top-o.menuBodyPadding-1-r},d=jQuery.extend(!0,e,d),u.call(n,d,c,Number(t)+1,a)):n.queue.splice(Number(t)+1).forEach(function(t){t.$target.remove()}))),t=null,i=null,a=null,l=null,s=null,r=null,d=null,c=null,h=null}),h.find("[data-menu-item-index]").bind("mouseout",function(){var t=this.getAttribute("data-menu-item-depth"),e=this.getAttribute("data-menu-item-index"),i=(this.getAttribute("data-menu-item-path"),void 0);i=n.queue[t].data[o.columnKeys.items][e][o.columnKeys.items],i&&i.length>0||jQuery(this).removeClass("hover")}),0==a&&(d.direction&&h.addClass("direction-"+d.direction),l.call(this,null,{self:this,items:i,parent:function(t){if(!t)return!1;var e=null;try{e=Function("","return this.config.items["+t.substring(5).replace(/\./g,"].items[")+"];").call(n)}catch(i){}return e}(d["@path"]),state:"popup"})),c.call(this,h,d),s.call(this,{self:this,items:i,element:h.get(0)}),d=null,h=null,p=null,e=null,i=null,a=null,r=null,this},d=function(t,e,a){if(e=i.findParentNode(t.target,function(t){return t.getAttribute("data-menu-item-index")?!0:void 0})){if(a=function(t){if(!t)return!1;var e=void 0;try{e=Function("","return this.config.items["+t.substring(5).replace(/\./g,"]."+o.columnKeys.items+"[")+"];").call(n)}catch(i){console.log(ax5.info.getError("ax5menu","501","menuItemClick"))}try{return e}finally{e=null}}(e.getAttribute("data-menu-item-path")),!a)return this;a.check&&(function(t){var e={checkbox:function(t){this.checked=!t},radio:function(e){var i=this.name;t.forEach(function(t){t.check&&"radio"===t.check.type&&t.check.name==i&&(t.check.checked=!1)}),this.checked=!e}};e[this.type]&&e[this.type].call(this,this.checked),e=null}.call(a.check,o.items),o.itemClickAndClose||n.queue.forEach(function(t){t.$target.find("[data-menu-item-index]").each(function(){var e=t.data[o.columnKeys.items][this.getAttribute("data-menu-item-index")];e.check&&jQuery(this).find(".item-checkbox-wrap").attr("data-item-checked",e.check.checked)})})),n.onClick&&n.onClick.call(a,a),a[o.columnKeys.items]&&0!=a[o.columnKeys.items].length||!o.itemClickAndClose||n.close()}else n.close();return e=null,a=null,this},c=function(t,e){var i=jQuery(window),n=jQuery(document),a="fixed"==o.position?i.height():n.height(),l=i.width(),s=t.outerHeight(),r=t.outerWidth(),d=e.left,c=e.top,u=o.position||"fixed";return d+r>l&&(d=e["@parent"]?e["@parent"].left-r+o.menuBodyPadding:l-r),c+s>a&&(c=a-s),t.css({left:d,top:c,position:u}),t=null,e=null,i=null,n=null,a=null,l=null,s=null,r=null,d=null,c=null,u=null,this};this.init=function(){n.menuId=ax5.getGuid(),this.onStateChanged=o.onStateChanged,this.onClick=o.onClick,this.onLoad=o.onLoad,l.call(this,null,{self:this,state:"init"})},this.popup=function(){var t={event:function(t,e){t={left:t.clientX,top:"fixed"==o.position?t.clientY:t.pageY,width:o.width,theme:o.theme},t.left-=5,t.top-=5,o.offset&&(o.offset.left&&(t.left+=o.offset.left),o.offset.top&&(t.top+=o.offset.top)),e=jQuery.extend(!0,t,e);try{return e}finally{t=null}},object:function(t,e){t={left:t.left,top:t.top,width:t.width||o.width,theme:t.theme||o.theme},o.offset&&(o.offset.left&&(t.left+=o.offset.left),o.offset.top&&(t.top+=o.offset.top)),e=jQuery.extend(!0,t,e);try{return e}finally{t=null}}},e=function(t){t&&(o.theme=t)};return function(i,n){if(!i)return this;n=t["undefined"==typeof i.clientX?"object":"event"].call(this,i,n),e(n.theme);var l=[].concat(o.items),s=void 0;return n.filter&&(s=function(t){var e=[];return t.forEach(function(t){t.items&&t.items.length>0&&(t.items=s(t.items)),n.filter.call(t)&&e.push(t)}),e},l=s(l)),l.length&&(r.call(this,n,l,0),this.popupEventAttachTimer&&clearTimeout(this.popupEventAttachTimer),this.popupEventAttachTimer=setTimeout(function(){a.call(this,!0)}.bind(this),500)),i=null,this}}(),this.attach=function(){var e={object:function(t,e){t={left:t.left,top:t.top,width:t.width||o.width,theme:t.theme||o.theme,direction:t.direction||o.direction},e=jQuery.extend(!0,e,t);try{return e}finally{t=null,e=null}}},l=function(t,i,l){var s=jQuery(t),d=s.offset(),c=s.outerHeight(),u=Number(t.getAttribute("data-menu-item-index")),h="fixed"==o.position?jQuery(document).scrollTop():0;if(o.items&&o.items[u][o.columnKeys.items]&&o.items[u][o.columnKeys.items].length){if(n.menuBar.openedIndex==u)return"click"==l&&n.close(),!1;n.menuBar.target.find("[data-menu-item-index]").removeClass("hover"),n.menuBar.opened=!0,n.menuBar.openedIndex=u,s.attr("data-menu-item-opened","true"),s.addClass("hover"),o.offset&&(o.offset.left&&(d.left+=o.offset.left),o.offset.top&&(d.top+=o.offset.top)),i=e.object.call(this,{left:d.left,top:d.top+c-h},i),r.call(n,i,o.items[u][o.columnKeys.items],0,"root."+t.getAttribute("data-menu-item-index")),a.call(n,!0)}t=null,i=null,s=null,d=null,c=null,u=null,h=null},s=function(t){var e=jQuery(t),i=(e.offset(),e.outerHeight(),Number(t.getAttribute("data-menu-item-index")));"fixed"==o.position?jQuery(document).scrollTop():0;!o.items||o.items[i][o.columnKeys.items]&&0!=o.items[i][o.columnKeys.items].length||n.onClick&&n.onClick.call(o.items[i],o.items[i])};return function(e,a){var r,d={},c=o.items;return"undefined"==typeof a&&(a={}),d.theme=a.theme||o.theme,d.cfg={icons:jQuery.extend({},o.icons),iconWidth:a.iconWidth||o.iconWidth,acceleratorWidth:a.acceleratorWidth||o.acceleratorWidth},c.forEach(function(t){t.html||t.divide?(t["@isMenu"]=!1,t.html&&(t["@html"]=t.html.call({item:t,config:o,opt:a}))):t["@isMenu"]=!0}),d[o.columnKeys.items]=c,r=jQuery(t.tmpl.get.call(this,"tmplMenubar",d,o.columnKeys)),n.menuBar={target:jQuery(e),opened:!1},n.menuBar.target.html(r),n.menuBar.target.bind("click",function(t){if(!t)return this;var e=i.findParentNode(t.target,function(t){return t.getAttribute("data-menu-item-index")?!0:void 0});e&&(s(e,a,"click"),l(e,a,"click")),e=null}),n.menuBar.target.bind("mouseover",function(t){if(!n.menuBar.opened)return!1;var e=i.findParentNode(t.target,function(t){return t.getAttribute("data-menu-item-index")?!0:void 0});e&&l(e,a,"mouseover"),e=null}),e=null,a=null,d=null,c=null,r=null,this}}(),this.close=function(){return n.menuBar&&n.menuBar.target&&(n.menuBar.target.find("[data-menu-item-index]").removeClass("hover"),n.menuBar.opened=!1,n.menuBar.openedIndex=null),a.call(this,!1),this.queue.forEach(function(t){t.$target.remove()}),this.queue=[],l.call(this,null,{self:this,state:"close"}),this},this.getCheckValue=function(){var t={},e=function(n){for(var o=n.length;o--;)n[o].check&&n[o].check.checked&&(t[n[o].check.name]?(i.isString(t[n[o].check.name])&&(t[n[o].check.name]=[t[n[o].check.name]]),t[n[o].check.name].push(n[o].check.value)):t[n[o].check.name]=n[o].check.value),n[o].items&&n[o].items.length>0&&e(n[o].items)};e(o.items);try{return t}finally{t=null,e=null}},this.main=function(){e.menu_instance=e.menu_instance||[],e.menu_instance.push(this),arguments&&i.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return n}()),t=ax5.ui.menu}(),function(){var t=ax5.ui.menu,e=function(t){return'\n        <div class="ax5-ui-menu {{theme}}" {{#width}}style="width:{{width}}px;"{{/width}}>\n            <div class="ax-menu-body">\n                {{#'+t.items+'}}\n                    {{^@isMenu}}\n                        {{#divide}}\n                        <div class="ax-menu-item-divide" data-menu-item-index="{{@i}}"></div>\n                        {{/divide}}\n                        {{#html}}\n                        <div class="ax-menu-item-html" data-menu-item-index="{{@i}}">{{{@html}}}</div>\n                        {{/html}}\n                    {{/@isMenu}}\n                    {{#@isMenu}}\n                    <div class="ax-menu-item" data-menu-item-depth="{{@depth}}" data-menu-item-index="{{@i}}" data-menu-item-path="{{@path}}.{{@i}}">\n                        <span class="ax-menu-item-cell ax-menu-item-checkbox">\n                            {{#check}}\n                            <span class="item-checkbox-wrap useCheckBox" {{#checked}}data-item-checked="true"{{/checked}}></span>\n                            {{/check}}\n                            {{^check}}\n                            <span class="item-checkbox-wrap"></span>\n                            {{/check}}\n                        </span>\n                        {{#icon}}\n                        <span class="ax-menu-item-cell ax-menu-item-icon" style="width:{{cfg.iconWidth}}px;">{{{.}}}</span>\n                        {{/icon}}\n                        <span class="ax-menu-item-cell ax-menu-item-label">{{{'+t.label+'}}}</span>\n                        {{#accelerator}}\n                        <span class="ax-menu-item-cell ax-menu-item-accelerator" style="width:{{cfg.acceleratorWidth}}px;"><span class="item-wrap">{{.}}</span></span>\n                        {{/accelerator}}\n                        {{#@hasChild}}\n                        <span class="ax-menu-item-cell ax-menu-item-handle">{{{cfg.icons.arrow}}}</span>\n                        {{/@hasChild}}\n                    </div>\n                    {{/@isMenu}}\n\n                {{/'+t.items+'}}\n            </div>\n            <div class="ax-menu-arrow"></div>\n        </div>\n        '},i=function(t){return'\n        <div class="ax5-ui-menubar {{theme}}">\n            <div class="ax-menu-body">\n                {{#'+t.items+'}}\n                    {{^@isMenu}}\n                        {{#divide}}\n                        <div class="ax-menu-item-divide" data-menu-item-index="{{@i}}"></div>\n                        {{/divide}}\n                        {{#html}}\n                        <div class="ax-menu-item-html" data-menu-item-index="{{@i}}">{{{@html}}}</div>\n                        {{/html}}\n                    {{/@isMenu}}\n                    {{#@isMenu}}\n                    <div class="ax-menu-item" data-menu-item-index="{{@i}}">\n                        {{#icon}}\n                        <span class="ax-menu-item-cell ax-menu-item-icon" style="width:{{cfg.iconWidth}}px;">{{{.}}}</span>\n                        {{/icon}}\n                        <span class="ax-menu-item-cell ax-menu-item-label">{{{'+t.label+"}}}</span>\n                    </div>\n                    {{/@isMenu}}\n                {{/"+t.items+"}}\n            </div>\n        </div>\n        "};t.tmpl={tmpl:e,tmplMenubar:i,get:function(e,i,n){return ax5.mustache.render(t.tmpl[e].call(this,n),i)}}}(),function(){var t=ax5.ui,e=ax5.util,i=void 0;t.addClass({className:"select",version:"1.3.82"},function(){var t=function(){var t=this,n=void 0;this.instanceId=ax5.getGuid(),this.config={theme:"default",animateTime:100,lang:{noSelected:"",noOptions:"no options",loading:"now loading..",multipleLabel:'"{{label}}" {{length}}'},columnKeys:{optionValue:"value",optionText:"text",optionSelected:"selected"}},this.queue=[],this.activeSelectOptionGroup=null,this.activeSelectQueueIndex=-1,this.openTimer=null,this.closeTimer=null,this.waitOptionsCallback=null,this.keyUpTimer=null,this.xvar={},n=this.config;var o=jQuery(window),a={18:"KEY_ALT",8:"KEY_BACKSPACE",17:"KEY_CONTROL",46:"KEY_DELETE",40:"KEY_DOWN",35:"KEY_END",187:"KEY_EQUAL",27:"KEY_ESC",36:"KEY_HOME",45:"KEY_INSERT",37:"KEY_LEFT",189:"KEY_MINUS",34:"KEY_PAGEDOWN",33:"KEY_PAGEUP",13:"KEY_RETURN",39:"KEY_RIGHT",16:"KEY_SHIFT",9:"KEY_TAB",38:"KEY_UP",91:"KEY_WINDOW"},l=function(t,e){return t&&t.onStateChanged?t.onStateChanged.call(e,e):this.onStateChanged&&this.onStateChanged.call(e,e),"changeValue"==e.state&&(t&&t.onChange?t.onChange.call(e,e):this.onChange&&this.onChange.call(e,e)),t=null,e=null,!0},s=function(){for(var t=this.queue.length,i=void 0;t--;)this.queue[t].$display&&(i=Math.max(this.queue[t].$select.outerWidth(),e.number(this.queue[t].minWidth)),this.queue[t].$display.css({"min-width":i}),this.queue[t].reset&&this.queue[t].$display.find(".addon-icon-reset").css({"line-height":this.queue[t].$display.height()+"px"}));return t=null,i=null,this},r=function(t){if(!this.activeSelectOptionGroup)return this;var e=this.queue[this.activeSelectQueueIndex],i={},n=0,a={},l={},s=void 0;t&&jQuery(document.body).append(this.activeSelectOptionGroup),i=e.$target.offset(),a={width:e.$target.outerWidth(),height:e.$target.outerHeight()},l={winWidth:Math.max(o.width(),jQuery(document.body).width()),winHeight:Math.max(o.height(),jQuery(document.body).height()),width:this.activeSelectOptionGroup.outerWidth(),height:this.activeSelectOptionGroup.outerHeight()},e.direction&&""!==e.direction&&"auto"!==e.direction?s=e.direction:(s="top",i.top-l.height-n<0?s="top":i.top+a.height+l.height+n>l.winHeight&&(s="bottom")),t&&this.activeSelectOptionGroup.addClass("direction-"+s),this.activeSelectOptionGroup.css(function(){if("top"==s){if(i.top+a.height+l.height+n>l.winHeight){var t=i.top+a.height/2-l.height/2;return t+l.height+n>l.winHeight&&(t=0),0>t&&(t=0),{left:i.left,top:t,width:a.width}}return{left:i.left,top:i.top+a.height+1,width:a.width}}return"bottom"==s?{left:i.left,top:i.top-l.height-1,width:a.width}:void 0}.call(this))},d=function(t,i){if(!this.activeSelectOptionGroup)return this;var n=this.queue[this.activeSelectQueueIndex],o="display";return(i=e.findParentNode(t.target,function(t){return t.getAttribute("data-option-value")||""==t.getAttribute("data-option-value")?(o="optionItem",!0):n.$target.get(0)==t?(o="display",!0):void 0}))?("optionItem"===o&&(this.val(n.id,{index:{gindex:i.getAttribute("data-option-group-index"),index:i.getAttribute("data-option-index")}},void 0,"internal"),n.$select.trigger("change"),n.$display.focus(),n.multiple||this.close()),this):(this.close(),this)},c=function(t){if(t.keyCode==ax5.info.eventKeys.ESC)this.close();else if(t.which==ax5.info.eventKeys.RETURN)if(this.queue[this.activeSelectQueueIndex].optionFocusIndex>-1){var e=this.activeSelectOptionGroup.find('[data-option-focus-index="'+this.queue[this.activeSelectQueueIndex].optionFocusIndex+'"]');this.val(this.queue[this.activeSelectQueueIndex].id,{index:{gindex:e.attr("data-option-group-index"),index:e.attr("data-option-index")}},void 0,"internal"),this.queue[this.activeSelectQueueIndex].$select.trigger("change"),this.queue[this.activeSelectQueueIndex].multiple||this.close()}else this.close()},u=function(t){var i=this.queue[t],n=[];return e.isArray(i.selected)&&i.selected.length>0?i.selected.forEach(function(t){t.selected&&n.push(t[i.columnKeys.optionText])}):!i.multiple&&i.options&&i.options[0]?i.options[0].optgroup?n[0]=i.options[0].options[0][i.columnKeys.optionText]:n[0]=i.options[0][i.columnKeys.optionText]:n[0]=i.lang.noSelected,function(){if(i.multiple&&n.length>1){var t={label:n[0],length:n.length-1};return ax5.mustache.render(i.lang.multipleLabel,t)}return n[0]}()},h=function(t){this.queue[t].$displayLabel.html(u.call(this,t))},p=function(t,e){var i=[],n=-1,o=this.queue[t].indexedOptions.length-1,a=void 0;if(e){for(;o-n++;){if(a=this.queue[t].indexedOptions[n],(""+a.value).toLowerCase()==e.toLowerCase()){i=[{"@findex":a["@findex"],optionsSort:0}];break}var l=(""+a.value).toLowerCase().search(e.toLowerCase());if(l>-1&&(i.push({"@findex":a["@findex"],optionsSort:l}),i.length>2))break;l=null}i.sort(function(t,e){return t.optionsSort-e.optionsSort})}i&&i.length>0&&f.call(this,t,void 0,i[0]["@findex"]);try{return i}finally{i=null,n=null,o=null,a=null}},f=function(t,e,i){var n=void 0,o=void 0,a=void 0,l=void 0;if(this.activeSelectOptionGroup&&this.queue[t].options&&this.queue[t].options.length>0){"undefined"!=typeof i?n=i:(o=-1==this.queue[t].optionFocusIndex?this.queue[t].optionSelectedIndex||-1:this.queue[t].optionFocusIndex,-1==o?n=e>0?0:this.queue[t].optionItemLength-1:(n=o+e,0>n?n=0:n>this.queue[t].optionItemLength-1&&(n=this.queue[t].optionItemLength-1))),this.queue[t].optionFocusIndex=n,this.activeSelectOptionGroup.find("[data-option-focus-index]").removeClass("hover"),a=this.activeSelectOptionGroup.find('[data-option-focus-index="'+n+'"]').addClass("hover"),l=this.activeSelectOptionGroup.find('[data-els="content"]');var s=a.outerHeight(),r=l.innerHeight(),d=l.scrollTop(),c=a.position().top+l.scrollTop();c+s>r+d?l.scrollTop(c+s-r):d>c&&l.scrollTop(c)}},g=function(){var n=e.debounce(function(e,i){p.call(t,i,e),t.queue[i].$displayInput.val("")},300),o={click:function(i,n){var o=e.findParentNode(n.target,function(t){return t.getAttribute("data-selected-clear")?!0:void 0});o?this.val(i,{clear:!0}):t.activeSelectQueueIndex==i?-1==this.queue[i].optionFocusIndex&&t.close():(t.open(i),e.stopEvent(n))},keyUp:function(t,e){e.which==ax5.info.eventKeys.SPACE?o.click.call(this,t,e):a[e.which]||n(this.queue[t].$displayInput.val(),t)},keyDown:function(t,i){i.which==ax5.info.eventKeys.DOWN?(f.call(this,t,1),e.stopEvent(i)):i.which==ax5.info.eventKeys.UP&&(f.call(this,t,-1),e.stopEvent(i))},blur:function(){},selectChange:function(t){this.val(t,this.queue[t].$select.val(),!0)}};return function(t){var e=this.queue[t],n={};return e.selected=[],e.$display?(e.$displayLabel.html(u.call(this,t)),e.options=m.call(this,t,e.options),s.call(this)):(n.instanceId=this.instanceId,n.id=e.id,n.name=e.name,n.theme=e.theme,n.tabIndex=e.tabIndex,n.multiple=e.multiple,n.reset=e.reset,n.label=u.call(this,t),n.formSize=function(){return e.size?"input-"+e.size:""}(),e.$display=i.tmpl.get.call(this,"tmpl",n),e.$displayLabel=e.$display.find('[data-ax5select-display="label"]'),e.$target.find("select").get(0)?(e.$select=e.$target.find("select"),e.$select.attr("tabindex","-1").attr("class","form-control "+n.formSize),n.name&&e.$select.attr("name","name"),n.multiple&&e.$select.attr("multiple","multiple")):(e.$select=i.tmpl.get.call(this,"selectTmpl",n),e.$target.append(e.$select)),e.$target.append(e.$display),e.$displayInput=e.$display.find('[data-ax5select-display="input"]'),e.options=m.call(this,t,e.options),s.call(this),e.$displayInput.unbind("blur.ax5select").bind("blur.ax5select",o.blur.bind(this,t)).unbind("keyup.ax5select").bind("keyup.ax5select",o.keyUp.bind(this,t)).unbind("keydown.ax5select").bind("keydown.ax5select",o.keyDown.bind(this,t))),e.$display.unbind("click.ax5select").bind("click.ax5select",o.click.bind(this,t)).unbind("keyup.ax5select").bind("keyup.ax5select",o.keyUp.bind(this,t)),e.$select.unbind("change.ax5select").bind("change.ax5select",o.selectChange.bind(this,t)),n=null,e=null,t=null,this}}(),m=function(){var i=function(t,e){e?this.queue[t].multiple?this.queue[t].selected.push(jQuery.extend({},e)):this.queue[t].selected[0]=jQuery.extend({},e):this.queue[t].selected=[]};return function(n,o){var a=this.queue[n],l=void 0,s=void 0,r=void 0,d=0;return i.call(this,n,!1),o?(a.options=o,a.indexedOptions=[],l=[],a.options.forEach(function(e,o){e.optgroup?(e["@gindex"]=o,e.options.forEach(function(e,o){e["@index"]=o,e["@findex"]=d,l.push('<option value="'+e[a.columnKeys.optionValue]+'" '+(e[a.columnKeys.optionSelected]?' selected="selected"':"")+">"+e[a.columnKeys.optionText]+"</option>"),e[a.columnKeys.optionSelected]&&i.call(t,n,e),a.indexedOptions.push({"@findex":d,value:e[a.columnKeys.optionValue],text:e[a.columnKeys.optionText]}),d++})):(e["@index"]=o,e["@findex"]=d,l.push('<option value="'+e[a.columnKeys.optionValue]+'" '+(e[a.columnKeys.optionSelected]?' selected="selected"':"")+">"+e[a.columnKeys.optionText]+"</option>"),e[a.columnKeys.optionSelected]&&i.call(t,n,e),a.indexedOptions.push({"@findex":d,value:e[a.columnKeys.optionValue],text:e[a.columnKeys.optionText]
}),d++)}),a.optionItemLength=d,a.$select.html(l.join(""))):(s=e.toArray(a.$select.get(0).options),r=[],s.forEach(function(e,o){var l={};l[a.columnKeys.optionValue]=e.value,l[a.columnKeys.optionText]=e.text,l[a.columnKeys.optionSelected]=e.selected,l["@index"]=o,l["@findex"]=o,e.selected&&i.call(t,n,l),r.push(l),l=null}),a.options=r,a.indexedOptions=r),!a.multiple&&0==a.selected.length&&a.options&&a.options[0]&&(a.options[0].optgroup?(a.options[0].options[0][a.columnKeys.optionSelected]=!0,a.selected.push(jQuery.extend({},a.options[0].options[0]))):(a.options[0][a.columnKeys.optionSelected]=!0,a.selected.push(jQuery.extend({},a.options[0])))),l=null,s=null,r=null,a.options}}(),x=function(t){return e.isString(t)||(t=jQuery(t).data("data-ax5select-id")),e.isString(t)?e.search(this.queue,function(){return this.id==t}):void console.log(ax5.info.getError("ax5select","402","getQueIdx"))};this.init=function(){this.onStateChanged=n.onStateChanged,this.onChange=n.onChange,jQuery(window).bind("resize.ax5select-display-"+this.instanceId,function(){s.call(this)}.bind(this))},this.bind=function(t){var i={},o=void 0;return t=jQuery.extend(!0,i,n,t),t.target?(t.$target=jQuery(t.target),t.id||(t.id=t.$target.data("data-ax5select-id")),t.id||(t.id="ax5select-"+ax5.getGuid(),t.$target.data("data-ax5select-id",t.id)),t.name=t.$target.attr("data-ax5select"),t.options&&(t.options=JSON.parse(JSON.stringify(t.options))),function(i){e.isObject(i)&&!i.error&&(t=jQuery.extend(!0,t,i))}(e.parseJson(t.$target.attr("data-ax5select-config"),!0)),o=e.search(this.queue,function(){return this.id==t.id}),-1===o?(this.queue.push(t),g.call(this,this.queue.length-1)):(this.queue[o].selected=[],this.queue[o].options=t.options,this.queue[o]=jQuery.extend(!0,{},this.queue[o],t),g.call(this,o)),i=null,o=null,this):(console.log(ax5.info.getError("ax5select","401","bind")),this)},this.open=function(){var t=function(t){t.onExpand.call({self:this,item:t},function(t){if(this.waitOptionsCallback){var n={},o=this.queue[this.activeSelectQueueIndex];!function(t,i){var n={};i.options.forEach(function(e,i){e["@index"]=i,n[e[t.columnKeys.optionValue]]=e}),e.isArray(t.selected)&&t.selected.forEach(function(e){n[e[t.columnKeys.optionValue]]&&(i.options[n[e[t.columnKeys.optionValue]]["@index"]][t.columnKeys.optionSelected]=!0)})}(o,t),o.$displayLabel.html(u.call(this,this.activeSelectQueueIndex)),o.options=m.call(this,this.activeSelectQueueIndex,t.options),s.call(this),n.id=o.id,n.theme=o.theme,n.size="ax5select-option-group-"+o.size,n.multiple=o.multiple,n.lang=o.lang,n.options=o.options,this.activeSelectOptionGroup.find('[data-els="content"]').html(i.tmpl.get.call(this,"optionsTmpl",n,o.columnKeys))}}.bind(this))};return function(o,a){this.waitOptionsCallback=null;var s=e.isNumber(o)?o:x.call(this,o),u=this.queue[s],h={},p=void 0,f=void 0;return u.$display.attr("disabled")?this:(this.openTimer&&clearTimeout(this.openTimer),this.activeSelectOptionGroup?this.activeSelectQueueIndex==s?this:a>2?this:(this.close(),this.openTimer=setTimeout(function(){this.open(s,(a||0)+1)}.bind(this),n.animateTime),this):(u.optionFocusIndex=-1,u.selected&&u.selected.length>0&&(u.optionSelectedIndex=u.selected[0]["@findex"]),h.id=u.id,h.theme=u.theme,h.size="ax5select-option-group-"+u.size,h.multiple=u.multiple,h.lang=u.lang,u.$display.attr("data-select-option-group-opened","true"),u.onExpand&&(h.waitOptions=!0),h.options=u.options,this.activeSelectOptionGroup=i.tmpl.get.call(this,"optionGroupTmpl",h),this.activeSelectOptionGroup.find('[data-els="content"]').html(i.tmpl.get.call(this,"optionsTmpl",h,u.columnKeys)),this.activeSelectQueueIndex=s,r.call(this,"append"),jQuery(window).bind("resize.ax5select-"+this.instanceId,function(){r.call(this)}.bind(this)),u.selected&&u.selected.length>0&&(f=this.activeSelectOptionGroup.find('[data-option-index="'+u.selected[0]["@index"]+'"]'),f.get(0)&&(p=f.position().top-this.activeSelectOptionGroup.height()/3,this.activeSelectOptionGroup.find('[data-els="content"]').stop().animate({scrollTop:p},u.animateTime,"swing",function(){}))),u.$displayInput.val(""),setTimeout(function(){u.$displayInput.trigger("focus"),jQuery(window).bind("keyup.ax5select-"+this.instanceId,function(t){t=t||window.event,c.call(this,t),e.stopEvent(t)}.bind(this)),jQuery(window).bind("click.ax5select-"+this.instanceId,function(t){t=t||window.event,d.call(this,t),e.stopEvent(t)}.bind(this))}.bind(this),300),l.call(this,u,{self:this,state:"open",item:u}),u.onExpand&&(this.waitOptionsCallback=!0,t.call(this,u)),h=null,p=null,f=null,this))}}(),this.update=function(t){return this.bind(t),this},this.val=function(){var i=function(t,e,i){return"undefined"==typeof i?t.multiple?!e:!0:i},n=function(t){this.queue[t].options.forEach(function(t){t.optgroup?t.options.forEach(function(t){t.selected=!1}):t.selected=!1})},o={index:function(n,o,a){var l=this.queue[n];e.isString(o.index.gindex)?(l.options[o.index.gindex].options[o.index.index][l.columnKeys.optionSelected]=i(l,l.options[o.index.gindex].options[o.index.index][l.columnKeys.optionSelected],a),t.activeSelectOptionGroup.find('[data-option-group-index="'+o.index.gindex+'"][data-option-index="'+o.index.index+'"]').attr("data-option-selected",l.options[o.index.gindex].options[o.index.index][l.columnKeys.optionSelected].toString())):(l.options[o.index.index][l.columnKeys.optionSelected]=i(l,l.options[o.index.index][l.columnKeys.optionSelected],a),t.activeSelectOptionGroup.find('[data-option-index="'+o.index.index+'"]').attr("data-option-selected",l.options[o.index.index][l.columnKeys.optionSelected].toString())),m.call(this,n,l.options),h.call(this,n),r.call(this)},arr:function(i,n,a){n.forEach(function(n){if(e.isString(n)||e.isNumber(n))o.value.call(t,i,n,a);else for(var l in o)if(n[l]){o[l].call(t,i,n,a);break}})},value:function(t,n,o){var a=this.queue[t],l=e.search(a.options,function(){return this[a.columnKeys.optionValue]==n});return l>-1?(a.options[l][a.columnKeys.optionSelected]=i(a,a.options[l][a.columnKeys.optionSelected],o),m.call(this,t,a.options),void h.call(this,t)):void console.log(ax5.info.getError("ax5select","501","val"))},text:function(t,n,o){var a=this.queue[t],l=e.search(a.options,function(){return this[a.columnKeys.optionText]==n});return l>-1?(a.options[l][a.columnKeys.optionSelected]=i(a,a.options[l][a.columnKeys.optionSelected],o),m.call(this,t,a.options),void h.call(this,t)):void console.log(ax5.info.getError("ax5select","501","val"))},clear:function(t){n.call(this,t),m.call(this,t,this.queue[t].options),h.call(this,t),this.activeSelectOptionGroup&&this.activeSelectOptionGroup.find("[data-option-index]").attr("data-option-selected","false")}};return function(t,i,a,s){var r=e.isNumber(t)?t:x.call(this,t);if(-1===r)return void console.log(ax5.info.getError("ax5select","402","val"));if("undefined"==typeof i||this.queue[r].multiple||n.call(this,r),"undefined"==typeof i)return this.queue[r].selected;if(e.isArray(i))o.arr.call(this,r,i,a);else if(e.isString(i)||e.isNumber(i))o.value.call(this,r,i,a);else if(null===i)o.clear.call(this,r);else for(var d in o)if(i[d]){o[d].call(this,r,i,a);break}return"undefined"!=typeof i&&l.call(this,this.queue[r],{self:this,item:this.queue[r],state:s?"changeValue":"setValue",value:this.queue[r].selected,internal:s}),t=null,this}}(),this.close=function(t){return this.closeTimer&&clearTimeout(this.closeTimer),this.activeSelectOptionGroup?(t=this.queue[this.activeSelectQueueIndex],t.optionFocusIndex=-1,t.$displayInput.val("").trigger("blur"),t.$display.removeAttr("data-select-option-group-opened").trigger("focus"),this.activeSelectOptionGroup.addClass("destroy"),jQuery(window).unbind("resize.ax5select-"+this.instanceId).unbind("click.ax5select-"+this.instanceId).unbind("keyup.ax5select-"+this.instanceId),this.closeTimer=setTimeout(function(){this.activeSelectOptionGroup&&this.activeSelectOptionGroup.remove(),this.activeSelectOptionGroup=null,this.activeSelectQueueIndex=-1;var e={self:this,item:t,value:t.selected,state:"close"};l.call(this,t,e),t.onClose&&t.onClose.call(e)}.bind(this),n.animateTime),this.waitOptionsCallback=null,this):this},this.enable=function(t){var e=x.call(this,t);return this.queue[e].$display.removeAttr("disabled"),this.queue[e].$select.removeAttr("disabled"),l.call(this,this.queue[e],{self:this,state:"enable"}),this},this.disable=function(t){var e=x.call(this,t);return this.queue[e].$display.attr("disabled","disabled"),this.queue[e].$select.attr("disabled","disabled"),l.call(this,this.queue[e],{self:this,state:"disable"}),this},this.main=function(){arguments&&e.isObject(arguments[0])?this.setConfig(arguments[0]):this.init()}.apply(this,arguments)};return t}()),i=ax5.ui.select}(),ax5.ui.select_instance=new ax5.ui.select,jQuery.fn.ax5select=function(){return function(t){if(ax5.util.isString(arguments[0])){var e=arguments[0];switch(e){case"open":return ax5.ui.select_instance.open(this);case"close":return ax5.ui.select_instance.close(this);case"setValue":return ax5.ui.select_instance.val(this,arguments[1],arguments[2]);case"getValue":return ax5.ui.select_instance.val(this);case"enable":return ax5.ui.select_instance.enable(this);case"disable":return ax5.ui.select_instance.disable(this);default:return this}}else"undefined"==typeof t&&(t={}),jQuery.each(this,function(){var e={target:this};t=jQuery.extend({},t,e),ax5.ui.select_instance.bind(t)});return this}}(),function(){var t=ax5.ui.select,e=function(){return'\n<div class="ax5select-option-group {{theme}} {{size}}" data-ax5select-option-group="{{id}}">\n    <div class="ax-select-body">\n        <div class="ax-select-option-group-content" data-els="content"></div>\n    </div>\n    <div class="ax-select-arrow"></div> \n</div>\n'},i=function(){return'\n<a {{^tabIndex}}href="#ax5select-{{id}}" {{/tabIndex}}{{#tabIndex}}tabindex="{{tabIndex}}" {{/tabIndex}}class="form-control {{formSize}} ax5select-display {{theme}}" \ndata-ax5select-display="{{id}}" data-ax5select-instance="{{instanceId}}">\n    <div class="ax5select-display-table" data-els="display-table">\n        <div data-ax5select-display="label">{{label}}</div>\n        <div data-ax5select-display="addon"> \n            {{#multiple}}{{#reset}}\n            <span class="addon-icon-reset" data-selected-clear="true">{{{.}}}</span>\n            {{/reset}}{{/multiple}}\n            {{#icons}}\n            <span class="addon-icon-closed">{{clesed}}</span>\n            <span class="addon-icon-opened">{{opened}}</span>\n            {{/icons}}\n            {{^icons}}\n            <span class="addon-icon-closed"><span class="addon-icon-arrow"></span></span>\n            <span class="addon-icon-opened"><span class="addon-icon-arrow"></span></span>\n            {{/icons}}\n        </div>\n    </div>\n    <input type="text" tabindex="-1" data-ax5select-display="input" \n    style="position:absolute;z-index:0;left:0px;top:0px;font-size:1px;opacity: 0;width:1px;border: 0px none;color : transparent;text-indent: -9999em;" />\n</a>\n'},n=function(){return'\n<select tabindex="-1" class="form-control {{formSize}}" name="{{name}}" {{#multiple}}multiple="multiple"{{/multiple}}></select>\n'},o=function(t){return'\n{{#waitOptions}}\n    <div class="ax-select-option-item">\n            <div class="ax-select-option-item-holder">\n                <span class="ax-select-option-item-cell ax-select-option-item-label">\n                    {{{lang.loading}}}\n                </span>\n            </div>\n        </div>\n{{/waitOptions}}\n{{^waitOptions}}\n    {{#options}}\n        {{#optgroup}}\n            <div class="ax-select-option-group">\n                <div class="ax-select-option-item-holder">\n                    <span class="ax-select-option-group-label">\n                        {{{.}}}\n                    </span>\n                </div>\n                {{#options}}\n                <div class="ax-select-option-item" data-option-focus-index="{{@findex}}" data-option-group-index="{{@gindex}}" data-option-index="{{@index}}" \n                data-option-value="{{'+t.optionValue+'}}" \n                {{#'+t.optionSelected+'}}data-option-selected="true"{{/'+t.optionSelected+'}}>\n                    <div class="ax-select-option-item-holder">\n                        {{#multiple}}\n                        <span class="ax-select-option-item-cell ax-select-option-item-checkbox">\n                            <span class="item-checkbox-wrap useCheckBox" data-option-checkbox-index="{{@i}}"></span>\n                        </span>\n                        {{/multiple}}\n                        <span class="ax-select-option-item-cell ax-select-option-item-label">{{'+t.optionText+'}}</span>\n                    </div>\n                </div>\n                {{/options}}\n            </div>                            \n        {{/optgroup}}\n        {{^optgroup}}\n        <div class="ax-select-option-item" data-option-focus-index="{{@findex}}" data-option-index="{{@index}}" data-option-value="{{'+t.optionValue+'}}" {{#'+t.optionSelected+'}}data-option-selected="true"{{/'+t.optionSelected+'}}>\n            <div class="ax-select-option-item-holder">\n                {{#multiple}}\n                <span class="ax-select-option-item-cell ax-select-option-item-checkbox">\n                    <span class="item-checkbox-wrap useCheckBox" data-option-checkbox-index="{{@i}}"></span>\n                </span>\n                {{/multiple}}\n                <span class="ax-select-option-item-cell ax-select-option-item-label">{{'+t.optionText+'}}</span>\n            </div>\n        </div>\n        {{/optgroup}}\n    {{/options}}\n    {{^options}}\n        <div class="ax-select-option-item">\n            <div class="ax-select-option-item-holder">\n                <span class="ax-select-option-item-cell ax-select-option-item-label">\n                    {{{lang.noOptions}}}\n                </span>\n            </div>\n        </div>\n    {{/options}}\n{{/waitOptions}}\n'};t.tmpl={optionGroupTmpl:e,tmpl:i,selectTmpl:n,optionsTmpl:o,get:function(e,i,n){return jQuery(ax5.mustache.render(t.tmpl[e].call(this,n),i))}}}(),function(){var t=ax5.ui,e=ax5.util,i=void 0;t.addClass({className:"grid",version:"1.3.82"},function(){var n=function(){var n=this,o=void 0,a={33:"KEY_PAGEUP",34:"KEY_PAGEDOWN",35:"KEY_END",36:"KEY_HOME",37:"KEY_LEFT",38:"KEY_UP",39:"KEY_RIGHT",40:"KEY_DOWN"};this.instanceId=ax5.getGuid(),this.config={theme:"default",animateTime:250,debounceTime:250,appendDebouncer:null,appendDebounceTimes:0,appendProgressIcon:"...",appendProgress:!1,frozenColumnIndex:0,frozenRowIndex:0,showLineNumber:!1,showRowSelector:!1,multipleSelect:!0,height:0,columnMinWidth:100,lineNumberColumnWidth:30,rowSelectorColumnWidth:26,sortable:void 0,remoteSort:!1,header:{align:!1,columnHeight:26,columnPadding:3,columnBorderWidth:1},body:{align:!1,columnHeight:26,columnPadding:3,columnBorderWidth:1,grouping:!1,mergeCells:!1},rightSum:!1,footSum:!1,page:{height:25,display:!0,navigationItemCount:5},scroller:{size:15,barMinSize:15,trackPadding:4},columnKeys:{selected:"__selected__",modified:"__modified__",deleted:"__deleted__",disableSelection:"__disable_selection__"}},this.xvar={bodyTrHeight:0,scrollContentWidth:0,scrollContentHeight:0},this.columns=[],this.colGroup=[],this.footSumColumns=[],this.bodyGrouping={},this.list=[],this.page={},this.selectedDataIndexs=[],this.deletedList=[],this.sortInfo={},this.focusedColumn={},this.selectedColumn={},this.isInlineEditing=!1,this.inlineEditing={},this.headerTable={},this.leftHeaderData={},this.headerData={},this.rightHeaderData={},this.bodyRowTable={},this.leftBodyRowData={},this.bodyRowData={},this.rightBodyRowData={},this.bodyRowMap={},this.bodyGroupingTable={},this.leftBodyGroupingData={},this.bodyGroupingData={},this.rightBodyGroupingData={},this.footSumTable={},this.leftFootSumData={},this.footSumData={},this.needToPaintSum=!0,o=this.config;var l=function(){var t={instanceId:this.id};return this.$target.html(i.tmpl.get("main",t)),this.$={container:{hidden:this.$target.find('[data-ax5grid-container="hidden"]'),root:this.$target.find('[data-ax5grid-container="root"]'),header:this.$target.find('[data-ax5grid-container="header"]'),body:this.$target.find('[data-ax5grid-container="body"]'),page:this.$target.find('[data-ax5grid-container="page"]'),scroller:this.$target.find('[data-ax5grid-container="scroller"]')},panel:{"aside-header":this.$target.find('[data-ax5grid-panel="aside-header"]'),"left-header":this.$target.find('[data-ax5grid-panel="left-header"]'),header:this.$target.find('[data-ax5grid-panel="header"]'),"header-scroll":this.$target.find('[data-ax5grid-panel-scroll="header"]'),"right-header":this.$target.find('[data-ax5grid-panel="right-header"]'),"top-aside-body":this.$target.find('[data-ax5grid-panel="top-aside-body"]'),"top-left-body":this.$target.find('[data-ax5grid-panel="top-left-body"]'),"top-body":this.$target.find('[data-ax5grid-panel="top-body"]'),"top-body-scroll":this.$target.find('[data-ax5grid-panel-scroll="top-body"]'),"top-right-body":this.$target.find('[data-ax5grid-panel="top-right-body"]'),"aside-body":this.$target.find('[data-ax5grid-panel="aside-body"]'),"aside-body-scroll":this.$target.find('[data-ax5grid-panel-scroll="aside-body"]'),"left-body":this.$target.find('[data-ax5grid-panel="left-body"]'),"left-body-scroll":this.$target.find('[data-ax5grid-panel-scroll="left-body"]'),body:this.$target.find('[data-ax5grid-panel="body"]'),"body-scroll":this.$target.find('[data-ax5grid-panel-scroll="body"]'),"right-body":this.$target.find('[data-ax5grid-panel="right-body"]'),"right-body-scroll":this.$target.find('[data-ax5grid-panel-scroll="right-body"]'),"bottom-aside-body":this.$target.find('[data-ax5grid-panel="bottom-aside-body"]'),"bottom-left-body":this.$target.find('[data-ax5grid-panel="bottom-left-body"]'),"bottom-body":this.$target.find('[data-ax5grid-panel="bottom-body"]'),"bottom-body-scroll":this.$target.find('[data-ax5grid-panel-scroll="bottom-body"]'),"bottom-right-body":this.$target.find('[data-ax5grid-panel="bottom-right-body"]')},livePanelKeys:[],scroller:{vertical:this.$target.find('[data-ax5grid-scroller="vertical"]'),"vertical-bar":this.$target.find('[data-ax5grid-scroller="vertical-bar"]'),horizontal:this.$target.find('[data-ax5grid-scroller="horizontal"]'),"horizontal-bar":this.$target.find('[data-ax5grid-scroller="horizontal-bar"]'),corner:this.$target.find('[data-ax5grid-scroller="corner"]')},page:{navigation:this.$target.find('[data-ax5grid-page="navigation"]'),status:this.$target.find('[data-ax5grid-page="status"]')},form:{clipboard:this.$target.find('[data-ax5grid-form="clipboard"]')},resizer:{vertical:this.$target.find('[data-ax5grid-resizer="vertical"]'),horizontal:this.$target.find('[data-ax5grid-resizer="horizontal"]')}},this.$.container.root.css({height:this.config.height||this.config._height}),this},s=function(t){this.columns=e.deepCopy(t),this.headerTable=i.util.makeHeaderTable.call(this,this.columns),this.xvar.frozenColumnIndex=o.frozenColumnIndex>this.columns.length?this.columns.length:o.frozenColumnIndex,this.bodyRowTable=i.util.makeBodyRowTable.call(this,this.columns),this.bodyRowMap=i.util.makeBodyRowMap.call(this,this.bodyRowTable),this.xvar.bodyTrHeight=this.bodyRowTable.rows.length*this.config.body.columnHeight;for(var n={},a=0,l=this.headerTable.rows.length;l>a;a++)for(var s=this.headerTable.rows[a],r=0,d=s.cols.length;d>r;r++)n[s.cols[r].colIndex]=jQuery.extend({},s.cols[r]);this.colGroup=[];for(var c in n)this.colGroup.push(n[c]);return this},r=function(){s.call(this,this.config.columns),d.call(this),this.config.footSum&&(c.call(this,this.config.footSum),this.needToPaintSum=!0),this.config.body.grouping&&u.call(this,this.config.body.grouping),h.call(this,!0),i.header.repaint.call(this,!0),i.body.repaint.call(this,!0),i.scroller.resize.call(this)},d=function(){var t=this.$.container.root.width()-function(){var t=0;return o.showLineNumber&&(t+=o.lineNumberColumnWidth),o.showRowSelector&&(t+=o.rowSelectorColumnWidth),t}(),i=0,n=void 0,a=[],l=this.colGroup,s=void 0,r=void 0;for(s=0,r=l.length;r>s;s++)e.isNumber(l[s].width)?i+=l[s]._width=l[s].width:"*"===l[s].width?a.push(s):"%"===e.right(l[s].width,1)&&(i+=l[s]._width=t*e.left(l[s].width,"%")/100);if(a.length>0)for(n=(t-i)/a.length,s=0,r=a.length;r>s;s++)l[a[s]]._width=n},c=function(t){e.isArray(t)?this.footSumTable=i.util.makeFootSumTable.call(this,this.footSumColumns=t):(this.footSumColumns=[],this.footSumTable={})},u=function(t){var e=jQuery.extend({},t);"by"in e&&"columns"in e?(this.bodyGrouping={by:e.by,columns:e.columns},this.bodyGroupingTable=i.util.makeBodyGroupingTable.call(this,this.bodyGrouping.columns),this.sortInfo=function(){for(var t={},e=0,i=this.bodyGrouping.by.length;i>e;e++){t[this.bodyGrouping.by[e]]={orderBy:"asc",seq:e,fixed:!0};for(var n=0,o=this.colGroup.length;o>n;n++)this.colGroup[n].key===this.bodyGrouping.by[e]&&(this.colGroup[n].sort="asc",this.colGroup[n].sortFixed=!0)}return t}.call(this)):o.body.grouping=!1},h=function(){this.config.height||this.$.container.root.css({height:this.config._height=this.$target.height()});var t=this.$.container.root.width(),e=this.$.container.root.height(),i=t,n=e,a=o.asidePanelWidth=function(){var t=0;return o.showLineNumber&&(t+=o.lineNumberColumnWidth),o.showRowSelector&&(t+=o.rowSelectorColumnWidth),t}(),l=o.frozenPanelWidth=function(t,e){for(var i=0,n=0,o=e;o>n;n++)i+=t[n]._width;return i}(this.colGroup,o.frozenColumnIndex),s=void 0,r=void 0,d=void 0,c=0,u=function(t){return o.frozenRowIndex*t}(this.xvar.bodyTrHeight),h=function(t){return this.footSumColumns.length*t}.call(this,this.xvar.bodyTrHeight),p=this.headerTable.rows.length*o.header.columnHeight,f=o.page.display?o.page.height:0;(function(){s=e-p-f-h<this.list.length*this.xvar.bodyTrHeight?this.config.scroller.size:0,r=function(){for(var e=0,i=t-a-s,n=0,o=this.colGroup.length;o>n;n++)e+=this.colGroup[n]._width;return e>i?this.config.scroller.size:0}.call(this),r>0&&(s=e-p-f-h-r<this.list.length*this.xvar.bodyTrHeight?this.config.scroller.size:0)}).call(this),i=t-s,n=e-f-r,d=n-p;var g=function(t,e,n,s){var r={},g=!1;switch(n){case"aside":0===a?g=!0:(r.left=0,r.width=a);break;case"left":0===o.frozenColumnIndex?g=!0:(r.left=a,r.width=l);break;case"right":o.rightSum||(g=!0);break;default:"page"!==s&&(0===o.frozenColumnIndex?r.left=a:r.left=l+a,r.width=i-a-l-c)}if(g)return t.hide(),this;if("body"===s)switch(e){case"top":0==o.frozenRowIndex?g=!0:(r.top=0,r.height=u);break;case"bottom":o.footSum?(r.top=d-h,r.height=h):g=!0;break;default:r.top=u,r.height=d-u-h}else"header"===s?r.height=p:"page"===s&&(0==f?g=!0:r.height=f);return g?(t.hide(),this):(t.css(r),this)},m=function(t,e,o,a){var l={},s=!1;switch(a){case"vertical":e>0?(l.width=e,l.height=n,l.bottom=o+f):s=!0;break;case"horizontal":o>0?(l.width=i,l.height=o,l.right=e,l.bottom=f):s=!0;break;case"corner":e>0&&o>0?(l.width=e,l.height=o,l.bottom=f):s=!0}return s?(t.hide(),this):void t.show().css(l)};this.$.container.header.css({height:p}),this.$.container.body.css({height:d}),g.call(this,this.$.panel["aside-header"],"","aside","header"),g.call(this,this.$.panel["left-header"],"","left","header"),g.call(this,this.$.panel.header,"","","header"),g.call(this,this.$.panel["right-header"],"","right","header"),g.call(this,this.$.panel["top-aside-body"],"top","aside","body"),g.call(this,this.$.panel["top-left-body"],"top","left","body"),g.call(this,this.$.panel["top-body"],"top","","body"),g.call(this,this.$.panel["top-right-body"],"top","right","body"),g.call(this,this.$.panel["aside-body"],"","aside","body"),g.call(this,this.$.panel["left-body"],"","left","body"),g.call(this,this.$.panel.body,"","","body"),g.call(this,this.$.panel["right-body"],"","right","body"),g.call(this,this.$.panel["bottom-aside-body"],"bottom","aside","body"),g.call(this,this.$.panel["bottom-left-body"],"bottom","left","body"),g.call(this,this.$.panel["bottom-body"],"bottom","","body"),g.call(this,this.$.panel["bottom-right-body"],"bottom","right","body"),m.call(this,this.$.scroller.vertical,s,r,"vertical"),m.call(this,this.$.scroller.horizontal,s,r,"horizontal"),m.call(this,this.$.scroller.corner,s,r,"corner"),g.call(this,this.$.container.page,"","","page")},p=function(t){if(i.header.repaint.call(this),e.isFunction(this.config.remoteSort)){var n={sortInfo:[]};for(var o in t)n.sortInfo.push({key:o,orderBy:t[o].orderBy,seq:t[o].seq});n.sortInfo.sort(function(t,e){return t.seq>e.seq}),this.config.remoteSort.call(n,n)}else this.config.body.grouping?this.list=i.data.initData.call(this,i.data.sort.call(this,t,i.data.clearGroupingData.call(this,this.list))):this.list=i.data.sort.call(this,t,i.data.clearGroupingData.call(this,this.list)),i.body.repaint.call(this,!0),i.scroller.resize.call(this)};this.init=function(t){if(o=jQuery.extend(!0,{},o,t),!o.target)return console.log(ax5.info.getError("ax5grid","401","init")),this;this.onStateChanged=o.onStateChanged,this.onClick=o.onClick,this.onLoad=o.onLoad,this.onDataChanged=o.body.onDataChanged,this.$target=jQuery(o.target),function(t){e.isObject(t)&&!t.error&&(o=jQuery.extend(!0,o,t))}.call(this,e.parseJson(this.$target.attr("data-ax5grid-config"),!0));var r=this.config=o;return this.config.height||(this.config._height=this.$target.height()),this.id||(this.id=this.$target.data("data-ax5grid-id")),this.id||(this.id="ax5grid-"+this.instanceId,this.$target.data("data-ax5grid-id",r.id)),l.call(this),s.call(this,r.columns),d.call(this),r.footSum&&c.call(this,r.footSum),r.body.grouping&&u.call(this,r.body.grouping),h.call(this,!0),i.header.init.call(this),i.header.repaint.call(this),i.body.init.call(this),i.body.repaint.call(this),i.scroller.init.call(this),i.scroller.resize.call(this),jQuery(window).bind("resize.ax5grid-"+this.id,function(){h.call(this),i.scroller.resize.call(this)}.bind(this)),jQuery(document.body).on("click.ax5grid-"+this.id,function(t){var o=!1,a=e.findParentNode(t.target,function(t){return(o=t.getAttribute("data-ax5grid-inline-edit-picker"))?!0:"root"===t.getAttribute("data-ax5grid-container")});a&&a.getAttribute("data-ax5grid-instance")===this.id?n.focused=!0:(n.focused=!1,i.body.blur.call(this))}.bind(this)),jQuery(window).on("keydown.ax5grid-"+this.instanceId,function(t){n.focused&&(n.isInlineEditing?t.which==ax5.info.eventKeys.ESC?n.keyDown("ESC",t.originalEvent):t.which==ax5.info.eventKeys.RETURN?n.keyDown("RETURN",t.originalEvent):t.which==ax5.info.eventKeys.TAB?(n.keyDown("TAB",t.originalEvent),e.stopEvent(t)):t.which==ax5.info.eventKeys.UP?n.keyDown("RETURN",{shiftKey:!0}):t.which==ax5.info.eventKeys.DOWN&&n.keyDown("RETURN",{}):t.metaKey||t.ctrlKey?67==t.which&&n.copySelect():a[t.which]?(n.keyDown(a[t.which],t.originalEvent),e.stopEvent(t)):t.which==ax5.info.eventKeys.ESC?n.focused&&i.body.blur.call(n):t.which==ax5.info.eventKeys.RETURN?n.keyDown("RETURN",t.originalEvent):t.which==ax5.info.eventKeys.TAB?e.stopEvent(t):t.which!=ax5.info.eventKeys.SPACE&&Object.keys(n.focusedColumn).length&&n.keyDown("INLINE_EDIT",t.originalEvent))}),setTimeout(function(){this.onLoad&&this.onLoad.call({self:this})}.bind(this)),this},this.align=function(){return h.call(this),i.scroller.resize.call(this),this},this.keyDown=function(){var t={KEY_UP:function(){i.body.moveFocus.call(this,"UP")},KEY_DOWN:function(){i.body.moveFocus.call(this,"DOWN")},KEY_LEFT:function(){i.body.moveFocus.call(this,"LEFT")},KEY_RIGHT:function(){i.body.moveFocus.call(this,"RIGHT")},KEY_HOME:function(){i.body.moveFocus.call(this,"HOME")},KEY_END:function(){i.body.moveFocus.call(this,"END")},INLINE_EDIT:function(t){i.body.inlineEdit.active.call(this,this.focusedColumn,t),/[0-9a-zA-Z]/.test(t.key)||e.stopEvent(t)},ESC:function(){i.body.inlineEdit.keydown.call(this,"ESC")},RETURN:function(t){var e=0;for(var n in this.inlineEditing)e++,i.body.inlineEdit.keydown.call(this,"RETURN",n),1==e&&i.body.moveFocus.call(this,t.shiftKey?"UP":"DOWN")&&i.body.inlineEdit.keydown.call(this,"RETURN");0==e&&i.body.inlineEdit.keydown.call(this,"RETURN")},TAB:function(t){var e=0;for(var n in this.inlineEditing)e++,i.body.inlineEdit.keydown.call(this,"RETURN",n,{moveFocus:!0}),1==e&&i.body.moveFocus.call(this,t.shiftKey?"LEFT":"RIGHT")&&i.body.inlineEdit.keydown.call(this,"RETURN",void 0,{moveFocus:!0})}};return function(e,i){return e in t&&t[e].call(this,i),this}}(),this.copySelect=function(){var t=void 0,e=this.$.form.clipboard,i=[],n="",o=void 0,a=void 0,l=void 0,s=0;for(var r in this.selectedColumn){var d=this.selectedColumn[r];if(d){"undefined"==typeof l&&(l=d.dindex,o=d.rowIndex,a=d.rowIndex),(l!=d.dindex||o!=d.rowIndex)&&s++,i[s]||(i[s]=[]);var c=this.bodyRowMap[d.rowIndex+"_"+d.colIndex];c?this.list[d.dindex].__isGrouping?i[s].push(this.list[d.dindex][d.colIndex]):i[s].push(this.list[d.dindex][c.key]):i[s].push(""),l=d.dindex,o=d.rowIndex}}i.forEach(function(t){n+=t.join("	")+"\n"}),e.get(0).innerText=n,e.select();try{t=document.execCommand("copy")}catch(u){t=!1}return t},this.setData=function(t){return i.data.set.call(this,t),h.call(this),i.body.repaint.call(this),i.scroller.resize.call(this),i.page.navigationUpdate.call(this),i.body.scrollTo.call(this,{top:0}),this},this.getList=function(t){return i.data.getList.call(this,t)},this.setHeight=function(t){return"100%"==t&&(t=this.$target.offsetParent().innerHeight()),this.$target.css({height:t}),this.$.container.root.css({height:t}),h.call(this),i.body.repaint.call(this,"reset"),i.scroller.resize.call(this),this},this.addRow=function(t,e,n){return i.data.add.call(this,t,e,n),h.call(this),i.body.repaint.call(this,"reset"),i.body.moveFocus.call(this,this.config.body.grouping?"START":"END"),i.scroller.resize.call(this),this},this.appendToList=function(t){return i.data.append.call(this,t,function(){h.call(this),i.body.repaint.call(this),i.scroller.resize.call(this)}.bind(this)),this},this.removeRow=function(t){return i.data.remove.call(this,t),h.call(this),i.body.repaint.call(this,"reset"),i.body.moveFocus.call(this,this.config.body.grouping?"START":"END"),i.scroller.resize.call(this),this},this.updateRow=function(t,e){return i.data.update.call(this,t,e),i.body.repaintRow.call(this,e),this},this.deleteRow=function(t){return i.data.deleteRow.call(this,t),h.call(this),i.body.repaint.call(this,"reset"),i.scroller.resize.call(this),this},this.setValue=function(t,e,n){if(i.data.setValue.call(this,t,e,n)){var o=function(t,e,n,o,a){for(var l=0,s=e.length;s>l;l++)for(var r=0,d=e[l].cols.length;d>r;r++)e[l].cols[r].key==o&&(this.xvar.frozenRowIndex>n?i.body.repaintCell.call(this,"top-"+t,n,l,r,a):i.body.repaintCell.call(this,t+"-scroll",n,l,r,a))};o.call(this,"left-body",this.leftBodyRowData.rows,t,e,n),o.call(this,"body",this.bodyRowData.rows,t,e,n)}return this},this.addColumn=function(){var t={first:function(t){this.config.columns=[].concat(t).concat(this.config.columns)},last:function(t){this.config.columns=this.config.columns.concat([].concat(t))}};return function(i,n){if("undefined"==typeof i)throw"_column must not be null";if("undefined"==typeof n&&(n="last"),n in t)t[n].call(this,i);else{if(!e.isNumber(n))throw"invalid argument _cindex";this.config.columns.splice(n,[].concat(i))}return r.call(this),this}}(),this.removeColumn=function(){var t={first:function(t){this.config.columns.splice(t,1)},last:function(){this.config.columns.splice(this.config.columns.length-1,1)}};return function(i){if("undefined"==typeof i&&(i="last"),i in t)t[i].call(this,i);else{if(!e.isNumber(i))throw"invalid argument _cindex";this.config.columns.splice(i,1)}return r.call(this),this}}(),this.updateColumn=function(t,i){if(!e.isNumber(i))throw"invalid argument _cindex";return this.config.columns.splice(i,1,t),r.call(this),this},this.setColumnWidth=function(t){return this.colGroup[this.xvar.columnResizerIndex]._width=t,this.needToPaintSum=!0,i.header.repaint.call(this),i.body.repaint.call(this,!0),i.scroller.resize.call(this),h.call(this),this},this.getColumnSortInfo=function(){var t={sortInfo:[]};for(var e in this.sortInfo)t.sortInfo.push({key:e,orderBy:this.sortInfo[e].orderBy,seq:this.sortInfo[e].seq});return t.sortInfo.sort(function(t,e){
return t.seq>e.seq}),t.sortInfo},this.setColumnSort=function(t){return"undefined"!=typeof t&&(this.sortInfo=t,i.header.applySortStatus.call(this,t)),p.call(this,t||this.sortInfo),this},this.select=function(t,n){if(e.isNumber(t)){var o=t;this.config.multipleSelect?n&&n.selectedClear&&this.clearSelect():this.clearSelect(),i.data.select.call(this,o,n&&n.selected),i.body.updateRowState.call(this,["selected"],o)}return this},this.clearSelect=function(){return i.body.updateRowState.call(this,["selectedClear"]),i.data.clearSelect.call(this),this},this.selectAll=function(t){return i.data.selectAll.call(this,t&&t.selected,t),i.body.updateRowStateAll.call(this,["selected"]),this},this.exportExcel=function(t){var e=[];return e.push('<table border="1">'),e.push(i.header.getExcelString.call(this)),e.push(i.body.getExcelString.call(this)),e.push("</table>"),"undefined"==typeof t?e.join(""):(i.excel["export"].call(this,[e.join("")],t),this)},this.focus=function(t){var e=this;if(i.body.moveFocus.call(this,t)){var n=void 0;for(var o in this.focusedColumn){n=jQuery.extend({},this.focusedColumn[o],!0);break}n&&this.select(n.dindex,{selectedClear:!0})}else"undefined"==typeof this.selectedDataIndexs[0]?this.select(0):!function(){var n=e.selectedDataIndexs[0],o={UP:function(){n>0&&(this.select(n-1,{selectedClear:!0}),i.body.moveFocus.call(this,n-1))},DOWN:function(){n<this.list.length-1&&(this.select(n+1,{selectedClear:!0}),i.body.moveFocus.call(this,n+1))},HOME:function(){this.select(0,{selectedClear:!0}),i.body.moveFocus.call(this,0)},END:function(){this.select(this.list.length-1,{selectedClear:!0}),i.body.moveFocus.call(this,this.list.length-1)}};t in o&&o[t].call(e)}();return this},this.main=function(){t.grid_instance=t.grid_instance||[],t.grid_instance.push(this),arguments&&e.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return n}()),i=ax5.ui.grid}(),function(){var t=ax5.ui.grid,e=ax5.util,i={focusClear:function(){var t=this,e=void 0;for(var i in t.focusedColumn)e=t.focusedColumn[i],e&&t.$.panel[e.panelName].find('[data-ax5grid-tr-data-index="'+e.dindex+'"]').find('[data-ax5grid-column-rowindex="'+e.rowIndex+'"][data-ax5grid-column-colindex="'+e.colIndex+'"]').removeAttr("data-ax5grid-column-focused");t.focusedColumn={}},clear:function(){var t=this,e=void 0;for(var i in t.selectedColumn)e=t.selectedColumn[i],e&&t.$.panel[e.panelName].find('[data-ax5grid-tr-data-index="'+e.dindex+'"]').find('[data-ax5grid-column-rowindex="'+e.rowIndex+'"][data-ax5grid-column-colindex="'+e.colIndex+'"]').removeAttr("data-ax5grid-column-selected");t.selectedColumn={}},init:function(e){var n=this;if(this.isInlineEditing)for(var o in this.inlineEditing)if(o==e.dindex+"_"+e.colIndex+"_"+e.rowIndex)return this;i.focusClear.call(n),n.focusedColumn[e.dindex+"_"+e.colIndex+"_"+e.rowIndex]={panelName:e.panelName,dindex:e.dindex,rowIndex:e.rowIndex,colIndex:e.colIndex,colspan:e.colspan},i.clear.call(n),n.xvar.selectedRange={start:[e.dindex,e.rowIndex,e.colIndex,e.colspan-1],end:null},n.selectedColumn[e.dindex+"_"+e.colIndex+"_"+e.rowIndex]=function(t){return t?!1:{panelName:e.panelName,dindex:e.dindex,rowIndex:e.rowIndex,colIndex:e.colIndex,colspan:e.colspan}}(n.selectedColumn[e.dindex+"_"+e.colIndex+"_"+e.rowIndex]),this.$.panel[e.panelName].find('[data-ax5grid-tr-data-index="'+e.dindex+'"]').find('[data-ax5grid-column-rowindex="'+e.rowIndex+'"][data-ax5grid-column-colindex="'+e.colIndex+'"]').attr("data-ax5grid-column-focused","true").attr("data-ax5grid-column-selected","true"),this.isInlineEditing&&t.body.inlineEdit.deActive.call(this,"RETURN")},update:function(t){var e,n,o,a,l=this;l.xvar.selectedRange.end=[t.dindex,t.rowIndex,t.colIndex,t.colspan-1],i.clear.call(l);var s={r:{s:Math.min(l.xvar.selectedRange.start[0],l.xvar.selectedRange.end[0]),e:Math.max(l.xvar.selectedRange.start[0],l.xvar.selectedRange.end[0])},c:{s:Math.min(l.xvar.selectedRange.start[2],l.xvar.selectedRange.end[2]),e:Math.max(l.xvar.selectedRange.start[2]+l.xvar.selectedRange.start[3],l.xvar.selectedRange.end[2]+l.xvar.selectedRange.end[3])}};for(e=s.r.s;e<=s.r.e;e++)for(a=this.bodyRowTable.rows.length,o=0;a>o;o++)for(n=s.c.s;n<=s.c.e;n++){var r=[],d="";l.xvar.frozenRowIndex>e&&r.push("top"),l.xvar.frozenColumnIndex>n&&r.push("left"),r.push("body"),"top"!==r[0]&&r.push("scroll"),d=r.join("-"),l.selectedColumn[e+"_"+n+"_"+o]={panelName:d,dindex:e,rowIndex:o,colIndex:n,colspan:t.colspan},r=null,d=null}e=null,n=null,o=null;for(var c in l.selectedColumn){var u=l.selectedColumn[c];u&&l.$.panel[u.panelName].find('[data-ax5grid-tr-data-index="'+u.dindex+'"]').find('[data-ax5grid-column-rowindex="'+u.rowIndex+'"][data-ax5grid-column-colindex="'+u.colIndex+'"]').attr("data-ax5grid-column-selected","true")}}},n={on:function(t){var o=this;this.inlineEditing[t.dindex+"_"+t.colIndex+"_"+t.rowIndex]||(i.init.call(o,t),this.$.container.body.on("mousemove.ax5grid-"+this.instanceId,'[data-ax5grid-column-attr="default"]',function(t){this.getAttribute("data-ax5grid-column-rowIndex")&&(i.update.call(o,{panelName:this.getAttribute("data-ax5grid-panel-name"),dindex:Number(this.getAttribute("data-ax5grid-data-index")),rowIndex:Number(this.getAttribute("data-ax5grid-column-rowIndex")),colIndex:Number(this.getAttribute("data-ax5grid-column-colIndex")),colspan:Number(this.getAttribute("colspan"))}),e.stopEvent(t))}).on("mouseup.ax5grid-"+this.instanceId,function(){n.off.call(o)}).on("mouseleave.ax5grid-"+this.instanceId,function(){n.off.call(o)}),jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",!1))},off:function(){this.$.container.body.off("mousemove.ax5grid-"+this.instanceId).off("mouseup.ax5grid-"+this.instanceId).off("mouseleave.ax5grid-"+this.instanceId),jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart")}},o=function(t,e,i){var n=this,o=this.config,a={selected:function(t){for(var e=this.$.livePanelKeys.length;e--;)this.$.panel[this.$.livePanelKeys[e]].find('[data-ax5grid-tr-data-index="'+t+'"]').attr("data-ax5grid-selected",this.list[t][o.columnKeys.selected])},selectedClear:function(){for(var t=this.selectedDataIndexs.length;t--;)for(var e=this.selectedDataIndexs[t],i=this.$.livePanelKeys.length;i--;)this.$.panel[this.$.livePanelKeys[i]].find('[data-ax5grid-tr-data-index="'+e+'"]').attr("data-ax5grid-selected",!1),this.list[e][o.columnKeys.selected]=!1},cellChecked:function(t,e){var i=(e.key,e.rowIndex),n=e.colIndex,o=function(){var e=[];return this.xvar.frozenRowIndex>t&&e.push("top"),this.xvar.frozenColumnIndex>n&&e.push("left"),e.push("body"),"top"!==e[0]&&e.push("scroll"),e.join("-")}.call(this);this.$.panel[o].find('[data-ax5grid-tr-data-index="'+t+'"]').find('[data-ax5grid-column-rowIndex="'+i+'"][data-ax5grid-column-colIndex="'+n+'"]').find('[data-ax5grid-editor="checkbox"]').attr("data-ax5grid-checked",""+e.checked)}};t.forEach(function(t){if(!a[t])throw"invaild state name";a[t].call(n,e,i)})},a=function(e,i){var n=this,o=(this.config,{selected:function(){t.body.repaint.call(this,!0)}});e.forEach(function(t){if(!o[t])throw"invaild state name";o[t].call(n,i)})},l=function(){var i=this;this.$.container.body.on("click","[data-ax5grid-column-attr]",function(){var e=void 0,n=void 0,a=void 0,l=void 0,s=void 0,r=void 0,d=void 0,c={"default":function(e){var n=i.bodyRowMap[e.rowIndex+"_"+e.colIndex],a={self:i,page:i.page,list:i.list,item:i.list[e.dindex],dindex:e.dindex,rowIndex:e.rowIndex,colIndex:e.colIndex,column:n,value:i.list[e.dindex][n.key]};if(n.editor&&"checkbox"==n.editor.type){var l=t.data.getValue.call(i,e.dindex,n.key),s=void 0,r=void 0;r=n.editor.config&&n.editor.config.trueValue?(s=!(l==n.editor.config.trueValue))?n.editor.config.trueValue:n.editor.config.falseValue:s=0==l||"false"==l||"1">l?"true":"false",t.data.setValue.call(i,e.dindex,n.key,r),o.call(i,["cellChecked"],e.dindex,{key:n.key,rowIndex:e.rowIndex,colIndex:e.colIndex,editorConfig:n.editor.config,checked:s})}else i.config.body.onClick&&i.config.body.onClick.call(a)},rowSelector:function(e){return i.list[e.dindex][i.config.columnKeys.disableSelection]?!1:(i.config.multipleSelect||i.selectedDataIndexs[0]===e.dindex||(t.body.updateRowState.call(i,["selectedClear"]),t.data.clearSelect.call(i)),t.data.select.call(i,e.dindex,void 0,{internalCall:!0}),void o.call(i,["selected"],e.dindex))},lineNumber:function(){}};e=this.getAttribute("data-ax5grid-panel-name"),n=this.getAttribute("data-ax5grid-column-attr"),a=Number(this.getAttribute("data-ax5grid-column-row")),l=Number(this.getAttribute("data-ax5grid-column-col")),r=Number(this.getAttribute("data-ax5grid-column-rowIndex")),d=Number(this.getAttribute("data-ax5grid-column-colIndex")),s=Number(this.getAttribute("data-ax5grid-data-index")),n in c&&c[n]({panelName:e,attr:n,row:a,col:l,dindex:s,rowIndex:r,colIndex:d})}),this.$.container.body.on("dblclick","[data-ax5grid-column-attr]",function(e){var n=void 0,o=void 0,a=void 0,l=void 0,s=void 0,r=void 0,d=void 0,c={"default":function(n){if(this.isInlineEditing)for(var o in this.inlineEditing)if(o==n.dindex+"_"+n.colIndex+"_"+n.rowIndex)return this;var a=i.bodyRowMap[n.rowIndex+"_"+n.colIndex],l="";a&&(i.list[s].__isGrouping||(l=t.data.getValue.call(i,s,a.key))),t.body.inlineEdit.active.call(i,i.focusedColumn,e,l)},rowSelector:function(){},lineNumber:function(){}};n=this.getAttribute("data-ax5grid-panel-name"),o=this.getAttribute("data-ax5grid-column-attr"),a=Number(this.getAttribute("data-ax5grid-column-row")),l=Number(this.getAttribute("data-ax5grid-column-col")),r=Number(this.getAttribute("data-ax5grid-column-rowIndex")),d=Number(this.getAttribute("data-ax5grid-column-colIndex")),s=Number(this.getAttribute("data-ax5grid-data-index")),o in c&&c[o]({panelName:n,attr:o,row:a,col:l,dindex:s,rowIndex:r,colIndex:d})}),this.$.container.body.on("mousedown",'[data-ax5grid-column-attr="default"]',function(){return i.xvar.touchmoved?!1:void(this.getAttribute("data-ax5grid-column-rowIndex")&&n.on.call(i,{panelName:this.getAttribute("data-ax5grid-panel-name"),dindex:Number(this.getAttribute("data-ax5grid-data-index")),rowIndex:Number(this.getAttribute("data-ax5grid-column-rowIndex")),colIndex:Number(this.getAttribute("data-ax5grid-column-colIndex")),colspan:Number(this.getAttribute("colspan"))}))}).on("dragstart",function(t){return e.stopEvent(t),!1}),s.call(this)},s=function(){var e=this.config,i=t.util.divideTableByFrozenColumnIndex(this.bodyRowTable,this.xvar.frozenColumnIndex);if(this.asideBodyRowData=function(t){for(var i={rows:[]},n=0,o=t.rows.length;o>n;n++)if(i.rows[n]={cols:[]},0===n){var a={label:"",colspan:1,rowspan:t.rows.length,colIndex:null},l={};e.showLineNumber&&(l=jQuery.extend({},a,{width:e.lineNumberColumnWidth,_width:e.lineNumberColumnWidth,columnAttr:"lineNumber",label:"&nbsp;",key:"__d-index__"}),i.rows[n].cols.push(l)),e.showRowSelector&&(l=jQuery.extend({},a,{width:e.rowSelectorColumnWidth,_width:e.rowSelectorColumnWidth,columnAttr:"rowSelector",label:"",key:"__d-checkbox__"}),i.rows[n].cols.push(l))}return i}.call(this,this.bodyRowTable),this.leftBodyRowData=i.leftData,this.bodyRowData=i.rightData,e.body.grouping){var n=t.util.divideTableByFrozenColumnIndex(this.bodyGroupingTable,this.xvar.frozenColumnIndex);this.asideBodyGroupingData=function(t){for(var i={rows:[]},n=0,o=t.rows.length;o>n;n++)if(i.rows[n]={cols:[]},0===n){var a={label:"",colspan:1,rowspan:t.rows.length,colIndex:null},l={};e.showLineNumber&&(l=jQuery.extend({},a,{width:e.lineNumberColumnWidth,_width:e.lineNumberColumnWidth,columnAttr:"lineNumber",label:"&nbsp;",key:"__d-index__"}),i.rows[n].cols.push(l)),e.showRowSelector&&(l=jQuery.extend({},a,{width:e.rowSelectorColumnWidth,_width:e.rowSelectorColumnWidth,columnAttr:"rowSelector",label:"",key:"__d-checkbox__"}),i.rows[n].cols.push(l))}return i}.call(this,this.bodyGroupingTable),this.leftBodyGroupingData=n.leftData,this.bodyGroupingData=n.rightData}if(this.leftFootSumData={},this.footSumData={},this.config.footSum){var o=t.util.divideTableByFrozenColumnIndex(this.footSumTable,this.xvar.frozenColumnIndex);this.leftFootSumData=o.leftData,this.footSumData=o.rightData}},r=function(i,n,o,a,l,s){var r=a.key,d={"<":"&lt;",">":"&gt;"};if("__d-index__"===r)return"undefined"!=typeof n.__index?n.__index+1:"";if("__d-checkbox__"===r)return'<div class="checkBox"></div>';if(a.editor&&function(e){return e.type in t.inlineEditor?"inline"==t.inlineEditor[e.type].editMode:!1}(a.editor))return l=l||t.data.getValue.call(this,o,r),e.isFunction(a.editor.disabled)&&a.editor.disabled.call({list:i,dindex:o,item:i[o],key:r,value:l})?l:s?l:t.inlineEditor[a.editor.type].getHtml(this,a.editor,l);if(a.formatter){var c={key:r,value:l||t.data.getValue.call(this,o,r),dindex:o,item:n,list:i};return e.isFunction(a.formatter)?a.formatter.call(c):t.formatter[a.formatter].call(c)}var u="";return"undefined"!=typeof l?u=l:(l=t.data.getValue.call(this,o,r),null!==l&&"undefined"!=typeof l&&(u=l)),"number"==typeof u?u:u.replace(/[<>]/g,function(t){return d[t]||t})},d=function(i,n,o){var a=void 0,l=void 0,s=o.key,r=o.label;return"undefined"==typeof s?(l={key:s,list:i.__groupingList,groupBy:i.__groupingBy},a=e.isFunction(r)?r.call(l):r,i[o.colIndex]=a,a):"__d-index__"===s?"":"__d-checkbox__"===s?"":o.collector?(l={key:s,list:i.__groupingList},a=e.isFunction(o.collector)?o.collector.call(l):t.collector[o.collector].call(l),i[o.colIndex]=a,o.formatter?(l.value=a,e.isFunction(o.formatter)?o.formatter.call(l):t.formatter[o.formatter].call(l)):a):"&nbsp;"},c=function(i,n){var o=n.key,a=n.label;if("undefined"==typeof o)return a;if("__d-index__"===o||"__d-checkbox__"===o)return"&nbsp;";if(n.collector){var l={key:o,list:i},s=void 0;return s=e.isFunction(n.collector)?n.collector.call(l):t.collector[n.collector].call(l),n.formatter?(l.value=s,e.isFunction(n.formatter)?n.formatter.call(l):t.formatter[n.formatter].call(l)):s}return"&nbsp;"},u=function(i){var n=this.config,o=this.list;i&&(s.call(this),this.xvar.paintStartRowIndex=void 0);var a=Math.floor(Math.abs(this.$.panel["body-scroll"].position().top)/this.xvar.bodyTrHeight)+this.xvar.frozenRowIndex;if(this.xvar.dataRowCount===o.length&&this.xvar.paintStartRowIndex===a)return this;var l="undefined"==typeof this.xvar.paintStartRowIndex,u=this.asideBodyRowData,h=this.leftBodyRowData,p=this.bodyRowData,f=this.leftFootSumData,g=this.footSumData,m=this.asideBodyGroupingData,x=this.leftBodyGroupingData,v=this.bodyGroupingData,b=n.body.align,y=Math.ceil(this.$.panel.body.height()/this.xvar.bodyTrHeight)+1;document.addEventListener&&ax5.info.supportTouch&&(y=2*y),this.xvar.scrollContentHeight=this.xvar.bodyTrHeight*(this.list.length-this.xvar.frozenRowIndex),this.$.livePanelKeys=[];var w=function(t,i,o,a,s,c){var u=this.$.panel[t];if(!l&&!c)return this.$.livePanelKeys.push(t),!1;var h=[],p=void 0,f=void 0,g=void 0,m=void 0,x=void 0,v=void 0,y=void 0,w=void 0,_=void 0,I=void 0,$=void 0,C=function(){return"undefined"==typeof c||"undefined"==typeof c.paintStartRowIndex?(c={paintStartRowIndex:0,paintRowCount:s.length},!1):!0}();for(C&&h.push('<div style="font-size:0;line-height:0;height: '+(c.paintStartRowIndex-this.xvar.frozenRowIndex)*c.bodyTrHeight+'px;"></div>'),h.push('<table border="0" cellpadding="0" cellspacing="0">'),h.push("<colgroup>"),p=0,f=i.length;f>p;p++)h.push('<col style="width:'+i[p]._width+'px;"  />');for(h.push("<col  />"),h.push("</colgroup>"),g=c.paintStartRowIndex,m=function(){var t=void 0;return t=s.length,c.paintRowCount+c.paintStartRowIndex<t&&(t=c.paintRowCount+c.paintStartRowIndex),t}();m>g;g++){var k=!1,S=void 0;a&&"__isGrouping"in s[g]?(S=a,k=!0):S=o;for(x=0,v=S.rows.length;v>x;x++){for(h.push('<tr class="tr-'+g%4+'"',k?' data-ax5grid-grouping-tr="true"':"",' data-ax5grid-tr-data-index="'+g+'"',' data-ax5grid-selected="'+(s[g][n.columnKeys.selected]||"false")+'"',' data-ax5grid-disable-selection="'+(s[g][n.columnKeys.disableSelection]||"false")+'"',">"),y=0,w=S.rows[x].cols.length;w>y;y++)_=S.rows[x].cols[y],I=n.body.columnHeight*_.rowspan-n.body.columnBorderWidth,$=_.align||b,h.push("<td ",'data-ax5grid-panel-name="'+t+'" ','data-ax5grid-data-index="'+g+'" ','data-ax5grid-column-row="'+x+'" ','data-ax5grid-column-col="'+y+'" ','data-ax5grid-column-rowIndex="'+_.rowIndex+'" ','data-ax5grid-column-colIndex="'+_.colIndex+'" ','data-ax5grid-column-attr="'+(_.columnAttr||"default")+'" ',function(t,e){var i="";return t&&(i+='data-ax5grid-column-focused="true" '),e&&(i+='data-ax5grid-column-selected="true" '),i}(this.focusedColumn[g+"_"+_.colIndex+"_"+_.rowIndex],this.selectedColumn[g+"_"+_.colIndex+"_"+_.rowIndex]),'colspan="'+_.colspan+'" ','rowspan="'+_.rowspan+'" ','class="'+function(t){var i="";return t.styleClass&&(i+=e.isFunction(t.styleClass)?t.styleClass.call({column:t,key:t.key,item:s[g],index:g})+" ":t.styleClass+" "),n.body.columnBorderWidth&&(i+="hasBorder "),y==w-1&&(i+="isLastColumn "),i}.call(this,_)+'" ','style="height: '+I+'px;min-height: 1px;">'),h.push(function(t){var e=n.body.columnHeight-2*n.body.columnPadding-n.body.columnBorderWidth;return _.multiLine||(t=n.body.columnHeight-n.body.columnBorderWidth),'<span data-ax5grid-cellHolder="'+(_.multiLine?"multiLine":"")+'" '+($?'data-ax5grid-text-align="'+$+'"':"")+'" style="height:'+t+"px;line-height: "+e+'px;">'}(I),k?d.call(this,s[g],g,_):r.call(this,s,s[g],g,_),"</span>"),h.push("</td>");h.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','data-ax5grid-data-index="'+g+'" ','data-ax5grid-column-attr="default" ','style="height: '+n.body.columnHeight+'px;min-height: 1px;" ',"></td>"),h.push("</tr>")}}return h.push("</table>"),C&&s.length&&h.push('<div style="font-size:0;line-height:0;height: '+(s.length-g)*c.bodyTrHeight+'px;"></div>'),u.empty().get(0).innerHTML=h.join(""),this.$.livePanelKeys.push(t),!0},_=function(t,i,o,a,s){var r=this.$.panel[t];if(!l&&!s)return this.$.livePanelKeys.push(t),!1;var d=[],u=void 0,h=void 0,p=void 0,f=void 0,g=void 0,m=void 0,x=void 0,v=void 0,y=void 0;for(d.push('<table border="0" cellpadding="0" cellspacing="0">'),d.push("<colgroup>"),u=0,h=i.length;h>u;u++)d.push('<col style="width:'+i[u]._width+'px;"  />');for(d.push("<col  />"),d.push("</colgroup>"),p=0,f=o.rows.length;f>p;p++){for(d.push('<tr class="tr-sum">'),g=0,m=o.rows[p].cols.length;m>g;g++)x=o.rows[p].cols[g],v=n.body.columnHeight*x.rowspan-n.body.columnBorderWidth,y=x.align||b,d.push("<td ",'data-ax5grid-panel-name="'+t+'" ','data-ax5grid-column-row="'+p+'" ','data-ax5grid-column-col="'+g+'" ','data-ax5grid-column-rowIndex="'+p+'" ','data-ax5grid-column-colIndex="'+x.colIndex+'" ','data-ax5grid-column-attr="'+(x.columnAttr||"sum")+'" ',function(t,e){var i="";return t&&(i+='data-ax5grid-column-focused="true" '),e&&(i+='data-ax5grid-column-selected="true" '),i}(this.focusedColumn["sum_"+x.colIndex+"_"+p],this.selectedColumn["sum_"+x.colIndex+"_"+p]),'colspan="'+x.colspan+'" ','rowspan="'+x.rowspan+'" ','class="'+function(t){var i="";return t.styleClass&&(i+=e.isFunction(t.styleClass)?t.styleClass.call({column:t,key:t.key,isFootSum:!0})+" ":t.styleClass+" "),n.body.columnBorderWidth&&(i+="hasBorder "),g==m-1&&(i+="isLastColumn "),i}.call(this,x)+'" ','style="height: '+v+'px;min-height: 1px;">'),d.push(function(t){var e=n.body.columnHeight-2*n.body.columnPadding-n.body.columnBorderWidth;return x.multiLine||(t=n.body.columnHeight-n.body.columnBorderWidth),'<span data-ax5grid-cellHolder="'+(x.multiLine?"multiLine":"")+'" '+(y?'data-ax5grid-text-align="'+y+'"':"")+'" style="height:'+t+"px;line-height: "+e+'px;">'}(v),c.call(this,a,x),"</span>"),d.push("</td>");d.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','data-ax5grid-column-attr="sum" ','style="height: '+n.body.columnHeight+'px;min-height: 1px;" ',"></td>"),d.push("</tr>")}return d.push("</table>"),r.empty().get(0).innerHTML=d.join(""),this.$.livePanelKeys.push(t),!0},I=function(t,i){for(var o=[],a=this.$.panel[t],l={},s=void 0,r=a.find("tr"),d=0,c=r.length;c>d;d++){var u=void 0,h=void 0;if(!r[d].getAttribute("data-ax5grid-grouping-tr")){u=r[d].childNodes,h=[];for(var p=0,f=u.length;f>p;p++){var g={$:jQuery(u[p])};"null"!=g.$.attr("data-ax5grid-column-col")&&(g.dindex=g.$.attr("data-ax5grid-data-index"),g.tri=g.$.attr("data-ax5grid-column-row"),g.ci=g.$.attr("data-ax5grid-column-col"),g.rowIndex=g.$.attr("data-ax5grid-column-rowIndex"),g.colIndex=g.$.attr("data-ax5grid-column-colIndex"),g.rowspan=g.$.attr("rowspan"),g.text=g.$.text(),h.push(g)),g=null}o.push(h)}}if(o.length>1){s=!1;for(var m=function(t){for(var a=[],r=function(r){!i[r].editor&&function(){return e.isArray(n.body.mergeCells)?ax5.util.search(n.body.mergeCells,i[r].key)>-1:!0}()&&(l[r]&&function(){if(a.length>0){var e=!0;return a.forEach(function(i){o[t-1][i].text!=o[t][i].text&&(e=!1)}),e}return!0}()&&l[r].text==o[t][r].text?(o[t][r].rowspan=0,o[l[r].ri][r].rowspan++,s=!0):l[r]={ri:t,ci:r,text:o[t][r].text},a.push(r))},d=0,c=o[t].length;c>d;d++)r(d,c)},x=0,v=o.length;v>x;x++)m(x,v);if(s)for(var b=0,y=o.length;y>b;b++)for(var w=0,_=o[b].length;_>w;w++)0==o[b][w].rowspan?o[b][w].$.remove():o[b][w].rowspan>1&&o[b][w].$.attr("rowspan",o[b][w].rowspan).addClass("merged")}},$={paintStartRowIndex:a,paintRowCount:y,bodyTrHeight:this.xvar.bodyTrHeight};n.asidePanelWidth>0&&(this.xvar.frozenRowIndex>0&&w.call(this,"top-aside-body",this.asideColGroup,u,m,o.slice(0,this.xvar.frozenRowIndex)),w.call(this,"aside-body-scroll",this.asideColGroup,u,m,o,$),n.footSum),this.xvar.frozenColumnIndex>0&&(this.xvar.frozenRowIndex>0&&w.call(this,"top-left-body",this.leftHeaderColGroup,h,x,o.slice(0,this.xvar.frozenRowIndex)),w.call(this,"left-body-scroll",this.leftHeaderColGroup,h,x,o,$),n.footSum&&this.needToPaintSum&&_.call(this,"bottom-left-body",this.leftHeaderColGroup,f,o)),this.xvar.frozenRowIndex>0&&w.call(this,"top-body-scroll",this.headerColGroup,p,v,o.slice(0,this.xvar.frozenRowIndex)),w.call(this,"body-scroll",this.headerColGroup,p,v,o,$),n.footSum&&this.needToPaintSum&&_.call(this,"bottom-body-scroll",this.headerColGroup,g,o,$),n.rightSum,n.body.mergeCells&&this.list.length&&(this.xvar.frozenColumnIndex>0&&(this.xvar.frozenRowIndex>0&&I.call(this,"top-left-body",this.leftHeaderColGroup,h,o.slice(0,this.xvar.frozenRowIndex)),I.call(this,"left-body-scroll",this.leftHeaderColGroup,h,o,$)),this.xvar.frozenRowIndex>0&&I.call(this,"top-body-scroll",this.headerColGroup,p,o.slice(0,this.xvar.frozenRowIndex)),I.call(this,"body-scroll",this.headerColGroup,p,o,$)),this.xvar.paintStartRowIndex=a,this.xvar.paintRowCount=y,this.xvar.dataRowCount=o.length,this.needToPaintSum=!1,t.page.statusUpdate.call(this)},h=function(i,n,o,a){var l=this,s=this.config,u=this.list,h=this.$.panel[i].find('[data-ax5grid-tr-data-index="'+n+'"]').find('[data-ax5grid-column-rowindex="'+o+'"][data-ax5grid-column-colindex="'+a+'"]').find("[data-ax5grid-cellholder]"),p=this.colGroup,f=p[a];h.html(r.call(this,u,u[n],n,f)),f.editor&&f.editor.updateWith&&f.editor.updateWith.forEach(function(e){p.forEach(function(i){if(i.key==e){var o=i.rowIndex,a=i.colIndex,s=t.util.findPanelByColumnIndex.call(l,n,a,o).panelName,d=l.$.panel[s].find('[data-ax5grid-tr-data-index="'+n+'"]').find('[data-ax5grid-column-rowindex="'+o+'"][data-ax5grid-column-colindex="'+a+'"]').find("[data-ax5grid-cellholder]");d.html(r.call(l,u,u[n],n,i))}})});var g=Math.floor(Math.abs(this.$.panel["body-scroll"].position().top)/this.xvar.bodyTrHeight)+this.xvar.frozenRowIndex,m=this.leftFootSumData,x=this.footSumData,v=(this.asideBodyGroupingData,this.leftBodyGroupingData),b=this.bodyGroupingData,y=s.body.align,w=Math.ceil(this.$.panel.body.height()/this.xvar.bodyTrHeight)+1,_={paintStartRowIndex:g,paintRowCount:w,bodyTrHeight:this.xvar.bodyTrHeight},I=function(t,i,n,o){var a=this.$.panel[t],l=[],r=void 0,d=void 0,u=void 0,h=void 0,p=void 0,f=void 0,g=void 0,m=void 0,x=void 0;for(l.push('<table border="0" cellpadding="0" cellspacing="0">'),l.push("<colgroup>"),r=0,d=i.length;d>r;r++)l.push('<col style="width:'+i[r]._width+'px;"  />');for(l.push("<col  />"),l.push("</colgroup>"),u=0,h=n.rows.length;h>u;u++){for(l.push('<tr class="tr-sum">'),p=0,f=n.rows[u].cols.length;f>p;p++)g=n.rows[u].cols[p],m=s.body.columnHeight*g.rowspan-s.body.columnBorderWidth,x=g.align||y,l.push("<td ",'data-ax5grid-panel-name="'+t+'" ','data-ax5grid-column-row="'+u+'" ','data-ax5grid-column-col="'+p+'" ','data-ax5grid-column-rowIndex="'+u+'" ','data-ax5grid-column-colIndex="'+g.colIndex+'" ','data-ax5grid-column-attr="'+(g.columnAttr||"sum")+'" ',function(t,e){var i="";return t&&(i+='data-ax5grid-column-focused="true" '),e&&(i+='data-ax5grid-column-selected="true" '),i}(this.focusedColumn["sum_"+g.colIndex+"_"+u],this.selectedColumn["sum_"+g.colIndex+"_"+u]),'colspan="'+g.colspan+'" ','rowspan="'+g.rowspan+'" ','class="'+function(t){var i="";return t.styleClass&&(i+=e.isFunction(t.styleClass)?t.styleClass.call({column:t,key:t.key,isFootSum:!0})+" ":t.styleClass+" "),s.body.columnBorderWidth&&(i+="hasBorder "),p==f-1&&(i+="isLastColumn "),i}.call(this,g)+'" ','style="height: '+m+'px;min-height: 1px;">'),l.push(function(t){var e=s.body.columnHeight-2*s.body.columnPadding-s.body.columnBorderWidth;return g.multiLine||(t=s.body.columnHeight-s.body.columnBorderWidth),'<span data-ax5grid-cellHolder="'+(g.multiLine?"multiLine":"")+'" '+(x?'data-ax5grid-text-align="'+x+'"':"")+'" style="height:'+t+"px;line-height: "+e+'px;">'}(m),c.call(this,o,g),"</span>"),l.push("</td>");l.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','data-ax5grid-column-attr="sum" ','style="height: '+s.body.columnHeight+'px;min-height: 1px;" ',"></td>"),l.push("</tr>")}return l.push("</table>"),a.empty().get(0).innerHTML=l.join(""),!0},$=function(t,i,n,o,a){var l=this.$.panel[t],r=[],c=void 0,u=void 0,h=void 0,p=void 0,f=void 0,g=void 0,m=void 0,x=void 0,v=void 0;for(c=a.paintStartRowIndex,u=function(){var t=void 0;return t=o.length,a.paintRowCount+a.paintStartRowIndex<t&&(t=a.paintRowCount+a.paintStartRowIndex),t}();u>c;c++)if(n&&"__isGrouping"in o[c]){var b=n;for(r=[],h=0,p=b.rows.length;p>h;h++){for(f=0,g=b.rows[h].cols.length;g>f;f++)m=b.rows[h].cols[f],x=s.body.columnHeight*m.rowspan-s.body.columnBorderWidth,v=m.align||y,r.push("<td ",'data-ax5grid-panel-name="'+t+'" ','data-ax5grid-data-index="'+c+'" ','data-ax5grid-column-row="'+h+'" ','data-ax5grid-column-col="'+f+'" ','data-ax5grid-column-rowIndex="'+m.rowIndex+'" ','data-ax5grid-column-colIndex="'+m.colIndex+'" ','data-ax5grid-column-attr="'+(m.columnAttr||"default")+'" ',function(t,e){var i="";return t&&(i+='data-ax5grid-column-focused="true" '),e&&(i+='data-ax5grid-column-selected="true" '),i}(this.focusedColumn[c+"_"+m.colIndex+"_"+m.rowIndex],this.selectedColumn[c+"_"+m.colIndex+"_"+m.rowIndex]),'colspan="'+m.colspan+'" ','rowspan="'+m.rowspan+'" ','class="'+function(t){var i="";return t.styleClass&&(i+=e.isFunction(t.styleClass)?t.styleClass.call({column:t,key:t.key,item:o[c],index:c})+" ":t.styleClass+" "),s.body.columnBorderWidth&&(i+="hasBorder "),f==g-1&&(i+="isLastColumn "),i}.call(this,m)+'" ','style="height: '+x+'px;min-height: 1px;">'),r.push(function(t){var e=s.body.columnHeight-2*s.body.columnPadding-s.body.columnBorderWidth;return m.multiLine||(t=s.body.columnHeight-s.body.columnBorderWidth),'<span data-ax5grid-cellHolder="'+(m.multiLine?"multiLine":"")+'" '+(v?'data-ax5grid-text-align="'+v+'"':"")+'" style="height:'+t+"px;line-height: "+e+'px;">'}(x),d.call(this,o[c],c,m),"</span>"),r.push("</td>");r.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','data-ax5grid-data-index="'+c+'" ','data-ax5grid-column-attr="default" ','style="height: '+s.body.columnHeight+'px;min-height: 1px;" ',"></td>")}l.find('tr[data-ax5grid-tr-data-index="'+c+'"]').empty().get(0).innerHTML=r.join("")}};s.body.grouping&&(this.xvar.frozenColumnIndex>0&&(this.xvar.frozenRowIndex>0&&$.call(this,"top-left-body",this.leftHeaderColGroup,v,u.slice(0,this.xvar.frozenRowIndex),{paintStartRowIndex:0,paintRowCount:this.xvar.frozenRowIndex,bodyTrHeight:this.xvar.bodyTrHeight}),$.call(this,"left-body-scroll",this.leftHeaderColGroup,v,u,_)),this.xvar.frozenRowIndex>0&&$.call(this,"top-body-scroll",this.headerColGroup,b,u.slice(0,this.xvar.frozenRowIndex),{paintStartRowIndex:0,paintRowCount:this.xvar.frozenRowIndex,bodyTrHeight:this.xvar.bodyTrHeight}),$.call(this,"body-scroll",this.headerColGroup,b,u,_)),this.xvar.frozenColumnIndex>0&&s.footSum&&this.needToPaintSum&&I.call(this,"bottom-left-body",this.leftHeaderColGroup,m,u),s.footSum&&this.needToPaintSum&&I.call(this,"bottom-body-scroll",this.headerColGroup,x,u,_)},p=function(t){var i=this.config,n=this.list,o=Math.floor(Math.abs(this.$.panel["body-scroll"].position().top)/this.xvar.bodyTrHeight)+this.xvar.frozenRowIndex,a=(this.asideBodyRowData,this.leftBodyRowData),l=this.bodyRowData,s=this.leftFootSumData,u=this.footSumData,h=(this.asideBodyGroupingData,this.leftBodyGroupingData),p=this.bodyGroupingData,f=i.body.align,g=Math.ceil(this.$.panel.body.height()/this.xvar.bodyTrHeight)+1,m={paintStartRowIndex:o,paintRowCount:g,bodyTrHeight:this.xvar.bodyTrHeight},x=function(t,n,o,a){var l=this.$.panel[t],s=[],r=void 0,d=void 0,u=void 0,h=void 0,p=void 0,g=void 0,m=void 0,x=void 0,v=void 0;for(s.push('<table border="0" cellpadding="0" cellspacing="0">'),s.push("<colgroup>"),r=0,d=n.length;d>r;r++)s.push('<col style="width:'+n[r]._width+'px;"  />');for(s.push("<col  />"),s.push("</colgroup>"),u=0,h=o.rows.length;h>u;u++){for(s.push('<tr class="tr-sum">'),p=0,g=o.rows[u].cols.length;g>p;p++)m=o.rows[u].cols[p],x=i.body.columnHeight*m.rowspan-i.body.columnBorderWidth,v=m.align||f,s.push("<td ",'data-ax5grid-panel-name="'+t+'" ','data-ax5grid-column-row="'+u+'" ','data-ax5grid-column-col="'+p+'" ','data-ax5grid-column-rowIndex="'+u+'" ','data-ax5grid-column-colIndex="'+m.colIndex+'" ','data-ax5grid-column-attr="'+(m.columnAttr||"sum")+'" ',function(t,e){var i="";return t&&(i+='data-ax5grid-column-focused="true" '),e&&(i+='data-ax5grid-column-selected="true" '),i}(this.focusedColumn["sum_"+m.colIndex+"_"+u],this.selectedColumn["sum_"+m.colIndex+"_"+u]),'colspan="'+m.colspan+'" ','rowspan="'+m.rowspan+'" ','class="'+function(t){var n="";return t.styleClass&&(n+=e.isFunction(t.styleClass)?t.styleClass.call({column:t,key:t.key,isFootSum:!0})+" ":t.styleClass+" "),i.body.columnBorderWidth&&(n+="hasBorder "),p==g-1&&(n+="isLastColumn "),n}.call(this,m)+'" ','style="height: '+x+'px;min-height: 1px;">'),s.push(function(t){var e=i.body.columnHeight-2*i.body.columnPadding-i.body.columnBorderWidth;return m.multiLine||(t=i.body.columnHeight-i.body.columnBorderWidth),'<span data-ax5grid-cellHolder="'+(m.multiLine?"multiLine":"")+'" '+(v?'data-ax5grid-text-align="'+v+'"':"")+'" style="height:'+t+"px;line-height: "+e+'px;">'}(x),c.call(this,a,m),"</span>"),s.push("</td>");s.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','data-ax5grid-column-attr="sum" ','style="height: '+i.body.columnHeight+'px;min-height: 1px;" ',"></td>"),s.push("</tr>")}return s.push("</table>"),l.empty().get(0).innerHTML=s.join(""),!0},v=function(t,n,o,a,l){var s=this.$.panel[t],r=[],c=void 0,u=void 0,h=void 0,p=void 0,g=void 0,m=void 0,x=void 0,v=void 0,b=void 0;for(("undefined"==typeof l||"undefined"==typeof l.paintStartRowIndex)&&(l={paintStartRowIndex:0,paintRowCount:a.length}),c=l.paintStartRowIndex,u=function(){var t=void 0;return t=a.length,l.paintRowCount+l.paintStartRowIndex<t&&(t=l.paintRowCount+l.paintStartRowIndex),t}();u>c;c++)if(o&&"__isGrouping"in a[c]){var y=o;for(r=[],h=0,p=y.rows.length;p>h;h++){for(g=0,m=y.rows[h].cols.length;m>g;g++)x=y.rows[h].cols[g],v=i.body.columnHeight*x.rowspan-i.body.columnBorderWidth,b=x.align||f,r.push("<td ",'data-ax5grid-panel-name="'+t+'" ','data-ax5grid-data-index="'+c+'" ','data-ax5grid-column-row="'+h+'" ','data-ax5grid-column-col="'+g+'" ','data-ax5grid-column-rowIndex="'+x.rowIndex+'" ','data-ax5grid-column-colIndex="'+x.colIndex+'" ','data-ax5grid-column-attr="'+(x.columnAttr||"default")+'" ',function(t,e){
var i="";return t&&(i+='data-ax5grid-column-focused="true" '),e&&(i+='data-ax5grid-column-selected="true" '),i}(this.focusedColumn[c+"_"+x.colIndex+"_"+x.rowIndex],this.selectedColumn[c+"_"+x.colIndex+"_"+x.rowIndex]),'colspan="'+x.colspan+'" ','rowspan="'+x.rowspan+'" ','class="'+function(t){var n="";return t.styleClass&&(n+=e.isFunction(t.styleClass)?t.styleClass.call({column:t,key:t.key,item:a[c],index:c})+" ":t.styleClass+" "),i.body.columnBorderWidth&&(n+="hasBorder "),g==m-1&&(n+="isLastColumn "),n}.call(this,x)+'" ','style="height: '+v+'px;min-height: 1px;">'),r.push(function(t){var e=i.body.columnHeight-2*i.body.columnPadding-i.body.columnBorderWidth;return x.multiLine||(t=i.body.columnHeight-i.body.columnBorderWidth),'<span data-ax5grid-cellHolder="'+(x.multiLine?"multiLine":"")+'" '+(b?'data-ax5grid-text-align="'+b+'"':"")+'" style="height:'+t+"px;line-height: "+e+'px;">'}(v),d.call(this,a[c],c,x),"</span>"),r.push("</td>");r.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','data-ax5grid-data-index="'+c+'" ','data-ax5grid-column-attr="default" ','style="height: '+i.body.columnHeight+'px;min-height: 1px;" ',"></td>")}s.find('tr[data-ax5grid-tr-data-index="'+c+'"]').empty().get(0).innerHTML=r.join("")}},b=function(t,n,o,a,l){var s=this.$.panel[t],d=[],c=void 0,u=void 0,h=void 0,p=void 0,g=void 0,m=void 0,x=void 0,v=o;for(c=0,u=v.rows.length;u>c;c++){for(h=0,p=v.rows[c].cols.length;p>h;h++)g=v.rows[c].cols[h],m=i.body.columnHeight*g.rowspan-i.body.columnBorderWidth,x=g.align||f,d.push("<td ",'data-ax5grid-panel-name="'+t+'" ','data-ax5grid-data-index="'+l+'" ','data-ax5grid-column-row="'+c+'" ','data-ax5grid-column-col="'+h+'" ','data-ax5grid-column-rowIndex="'+g.rowIndex+'" ','data-ax5grid-column-colIndex="'+g.colIndex+'" ','data-ax5grid-column-attr="'+(g.columnAttr||"default")+'" ',function(t,e){var i="";return t&&(i+='data-ax5grid-column-focused="true" '),e&&(i+='data-ax5grid-column-selected="true" '),i}(this.focusedColumn[l+"_"+g.colIndex+"_"+g.rowIndex],this.selectedColumn[l+"_"+g.colIndex+"_"+g.rowIndex]),'colspan="'+g.colspan+'" ','rowspan="'+g.rowspan+'" ','class="'+function(t){var n="";return t.styleClass&&(n+=e.isFunction(t.styleClass)?t.styleClass.call({column:t,key:t.key,item:a[l],index:l})+" ":t.styleClass+" "),i.body.columnBorderWidth&&(n+="hasBorder "),h==p-1&&(n+="isLastColumn "),n}.call(this,g)+'" ','style="height: '+m+'px;min-height: 1px;">'),d.push(function(t){var e=i.body.columnHeight-2*i.body.columnPadding-i.body.columnBorderWidth;return g.multiLine||(t=i.body.columnHeight-i.body.columnBorderWidth),'<span data-ax5grid-cellHolder="'+(g.multiLine?"multiLine":"")+'" '+(x?'data-ax5grid-text-align="'+x+'"':"")+'" style="height:'+t+"px;line-height: "+e+'px;">'}(m),r.call(this,a,a[l],l,g),"</span>"),d.push("</td>");d.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','data-ax5grid-data-index="'+l+'" ','data-ax5grid-column-attr="default" ','style="height: '+i.body.columnHeight+'px;min-height: 1px;" ',"></td>")}s.find('tr[data-ax5grid-tr-data-index="'+l+'"]').empty().get(0).innerHTML=d.join("")};this.xvar.frozenColumnIndex>0&&(this.xvar.frozenRowIndex>t?b.call(this,"top-left-body",this.leftHeaderColGroup,a,n.slice(0,this.xvar.frozenRowIndex),t):b.call(this,"left-body-scroll",this.leftHeaderColGroup,a,n,t)),this.xvar.frozenRowIndex>t?b.call(this,"top-body-scroll",this.headerColGroup,l,n.slice(0,this.xvar.frozenRowIndex),t):b.call(this,"body-scroll",this.headerColGroup,l,n,t),i.body.grouping&&(this.xvar.frozenColumnIndex>0&&(this.xvar.frozenRowIndex>t?v.call(this,"top-left-body",this.leftHeaderColGroup,h,n.slice(0,this.xvar.frozenRowIndex)):v.call(this,"left-body-scroll",this.leftHeaderColGroup,h,n,m)),this.xvar.frozenRowIndex>t?v.call(this,"top-body-scroll",this.headerColGroup,p,n.slice(0,this.xvar.frozenRowIndex)):v.call(this,"body-scroll",this.headerColGroup,p,n,m)),this.xvar.frozenColumnIndex>0&&i.footSum&&this.needToPaintSum&&x.call(this,"bottom-left-body",this.leftHeaderColGroup,s,n),i.footSum&&this.needToPaintSum&&x.call(this,"bottom-body-scroll",this.headerColGroup,u,n,m)},f=function(e,i){var n=this.config;if(this.isInlineEditing)for(var o in this.inlineEditing)t.body.inlineEdit.deActive.call(this,"ESC",o);n.asidePanelWidth>0&&"top"in e&&this.$.panel["aside-body-scroll"].css({top:e.top}),this.xvar.frozenColumnIndex>0&&"top"in e&&this.$.panel["left-body-scroll"].css({top:e.top}),this.xvar.frozenRowIndex>0&&"left"in e&&this.$.panel["top-body-scroll"].css({left:e.left}),this.$.panel["body-scroll"].css(e),n.footSum&&"left"in e&&this.$.panel["bottom-body-scroll"].css({left:e.left}),!i&&"top"in e&&u.call(this)},g=function(){i.focusClear.call(this),i.clear.call(this),this.isInlineEditing&&x.deActive.call(this)},m=function(e){var n={UD:function(e){var n=!0,o=void 0,a=void 0,l=void 0;for(var s in this.focusedColumn){o=jQuery.extend({},this.focusedColumn[s],!0);break}if(!o)return!1;for(a=this.bodyRowMap[o.rowIndex+"_"+o.colIndex],i.focusClear.call(this),i.clear.call(this),e>0?o.rowIndex+(a.rowspan-1)+e>this.bodyRowTable.rows.length-1?(o.dindex=o.dindex+e,o.rowIndex=0,o.dindex>this.list.length-1&&(o.dindex=this.list.length-1,n=!1)):o.rowIndex=o.rowIndex+e:o.rowIndex+e<0?(o.dindex=o.dindex+e,o.rowIndex=this.bodyRowTable.rows.length-1,o.dindex<0&&(o.dindex=0,n=!1)):o.rowIndex=o.rowIndex+e,l=0;"undefined"==typeof this.bodyRowMap[o.rowIndex+"_"+o.colIndex];){if(0==o.rowIndex||l%2==(e>0?0:1)?o.colIndex--:o.rowIndex--,o.rowIndex<=0&&o.colIndex<=0){n=!1;break}l++}var r=t.util.findPanelByColumnIndex.call(this,o.dindex,o.colIndex);return o.panelName=r.panelName,function(){o.dindex+1>this.xvar.frozenRowIndex&&(o.dindex<=this.xvar.paintStartRowIndex?(f.call(this,{top:-(o.dindex-this.xvar.frozenRowIndex)*this.xvar.bodyTrHeight}),t.scroller.resize.call(this)):o.dindex+1>this.xvar.paintStartRowIndex+(this.xvar.paintRowCount-2)&&(f.call(this,{top:-(o.dindex-this.xvar.frozenRowIndex-this.xvar.paintRowCount+3)*this.xvar.bodyTrHeight}),t.scroller.resize.call(this)))}.call(this),this.focusedColumn[o.dindex+"_"+o.colIndex+"_"+o.rowIndex]=o,this.$.panel[o.panelName].find('[data-ax5grid-tr-data-index="'+o.dindex+'"]').find('[data-ax5grid-column-rowindex="'+o.rowIndex+'"][data-ax5grid-column-colindex="'+o.colIndex+'"]').attr("data-ax5grid-column-focused","true"),n},LR:function(e){var n,o,a=!0,l=0,s=!1,r="";for(var d in this.focusedColumn){n=jQuery.extend({},this.focusedColumn[d],!0);break}if(!n)return!1;for(o=this.bodyRowMap[n.rowIndex+"_"+n.colIndex],i.focusClear.call(this),i.clear.call(this),0>e?(n.colIndex=n.colIndex+e,n.colIndex<0&&(n.colIndex=0,a=!1)):(n.colIndex=n.colIndex+(o.colspan-1)+e,n.colIndex>this.colGroup.length-1&&(n.colIndex=this.colGroup.length-1,a=!1)),"undefined"==typeof this.bodyRowMap[n.rowIndex+"_"+n.colIndex]&&(n.rowIndex=0),l=0;"undefined"==typeof this.bodyRowMap[n.rowIndex+"_"+n.colIndex];){if(n.colIndex--,n.rowIndex<=0&&n.colIndex<=0){a=!1;break}l++}var c=t.util.findPanelByColumnIndex.call(this,n.dindex,n.colIndex);n.panelName=c.panelName,r=c.containerPanelName,s=c.isScrollPanel,this.focusedColumn[n.dindex+"_"+n.colIndex+"_"+n.rowIndex]=n;var u=this.$.panel[n.panelName].find('[data-ax5grid-tr-data-index="'+n.dindex+'"]').find('[data-ax5grid-column-rowindex="'+n.rowIndex+'"][data-ax5grid-column-colindex="'+n.colIndex+'"]').attr("data-ax5grid-column-focused","true");if(u&&s){var h=function(){return u.position().left+u.outerWidth()>Math.abs(this.$.panel[n.panelName].position().left)+this.$.panel[r].width()?u.position().left+u.outerWidth()-this.$.panel[r].width():Math.abs(this.$.panel[n.panelName].position().left)>u.position().left?u.position().left:void 0}.call(this);"undefined"!=typeof h&&(t.header.scrollTo.call(this,{left:-h}),f.call(this,{left:-h}),t.scroller.resize.call(this))}return a},INDEX:function(e){var n=!0,o=void 0,a=void 0,l=void 0;for(var s in this.focusedColumn){o=jQuery.extend({},this.focusedColumn[s],!0);break}for(o||(o={rowIndex:0,colIndex:0}),a=this.bodyRowMap[o.rowIndex+"_"+o.colIndex],i.focusClear.call(this),i.clear.call(this),"end"==e&&(e=this.list.length-1),o.dindex=e,o.rowIndex=0,l=0;"undefined"==typeof this.bodyRowMap[o.rowIndex+"_"+o.colIndex]&&(0==o.rowIndex||l%2==(_dy>0?0:1)?o.colIndex--:o.rowIndex--,!(o.rowIndex<=0&&o.colIndex<=0));)l++;var r=t.util.findPanelByColumnIndex.call(this,o.dindex,o.colIndex);return o.panelName=r.panelName,function(){o.dindex+1>this.xvar.frozenRowIndex&&(o.dindex<this.xvar.paintStartRowIndex?(f.call(this,{top:-(o.dindex-this.xvar.frozenRowIndex)*this.xvar.bodyTrHeight}),t.scroller.resize.call(this)):o.dindex+1>this.xvar.paintStartRowIndex+(this.xvar.paintRowCount-2)&&(f.call(this,{top:-(o.dindex-this.xvar.frozenRowIndex-this.xvar.paintRowCount+3)*this.xvar.bodyTrHeight}),t.scroller.resize.call(this)))}.call(this),this.focusedColumn[o.dindex+"_"+o.colIndex+"_"+o.rowIndex]=o,this.$.panel[o.panelName].find('[data-ax5grid-tr-data-index="'+o.dindex+'"]').find('[data-ax5grid-column-rowindex="'+o.rowIndex+'"][data-ax5grid-column-colindex="'+o.colIndex+'"]').attr("data-ax5grid-column-focused","true"),n}},o={UP:function(){return n.UD.call(this,-1)},DOWN:function(){return n.UD.call(this,1)},LEFT:function(){return n.LR.call(this,-1)},RIGHT:function(){return n.LR.call(this,1)},HOME:function(){return n.INDEX.call(this,0)},END:function(){return n.INDEX.call(this,"end")},position:function(t){return n.INDEX.call(this,t)}};return e in o?o[e].call(this):o.position.call(this,e)},x={active:function(i,n,a){var l,s,r,d,c,u,h,p=this,f=this;for(var g in i){if(d=i[g].panelName,l=i[g].dindex,s=i[g].colIndex,r=i[g].rowIndex,c=i[g].colspan,u=this.colGroup[s],!(h=u.editor))return this;if(e.isFunction(h.disabled)&&h.disabled.call({list:this.list,dindex:l,item:this.list[l],key:u.key,value:a}))return this;if(!function(e){return e.type in t.inlineEditor?"popup"==t.inlineEditor[e.type].editMode:void 0}(h)){if("checkbox"==h.type){var m,x;x=h.config&&h.config.trueValue?(m=!(a==h.config.trueValue))?h.config.trueValue:h.config.falseValue:m=0==a||"false"==a||"1">a?"true":"false",t.data.setValue.call(f,l,u.key,x),o.call(f,["cellChecked"],l,{key:u.key,rowIndex:r,colIndex:s,editorConfig:u.editor.config,checked:m})}return this}if(this.list[l].__isGrouping)return!1;if(g in this.inlineEditing)return!1;this.inlineEditing[g]={editor:h,panelName:d,columnKey:g,column:i[g],useReturnToSave:t.inlineEditor[h.type].useReturnToSave},this.isInlineEditing=!0}if(this.isInlineEditing){var v=function(){var i=t.data.getValue.call(f,l,u.key),n=function(t,n){return e.isNothing(t)&&(t=e.isNothing(i)?"":i),"money"==n.type?e.number(t,{money:!0}):t}.call(p,a,h);return p.inlineEditing[g].$inlineEditorCell=p.$.panel[d].find('[data-ax5grid-tr-data-index="'+l+'"]').find('[data-ax5grid-column-rowindex="'+r+'"][data-ax5grid-column-colindex="'+s+'"]').find("[data-ax5grid-cellholder]"),p.inlineEditing[g].$inlineEditor=t.inlineEditor[h.type].init(p,g,h,p.inlineEditing[g].$inlineEditorCell,n),{v:!0}}();if("object"===("undefined"==typeof v?"undefined":_typeof(v)))return v.v}},deActive:function(i,n,o){if(!this.inlineEditing[n])return this;var a=this.inlineEditing[n].panelName,l=this.inlineEditing[n].column.dindex,s=this.inlineEditing[n].column.rowIndex,r=this.inlineEditing[n].column.colIndex,d=this.bodyRowMap[this.inlineEditing[n].column.rowIndex+"_"+this.inlineEditing[n].column.colIndex],c=function(t){return"undefined"==typeof o?"SELECT"==t.get(0).tagName||"INPUT"==t.get(0).tagName||"TEXTAREA"==t.get(0).tagName?t.val():(i="CANCEL",!1):o}(this.inlineEditing[n].$inlineEditor),u=function(t,i){return"money"==i.type?e.number(t):t}.call(this,c,d.editor),h={CANCEL:function(){h.__clear.call(this)},RETURN:function(e,i,n){t.data.setValue.call(this,e,i.key,n)?(h.__clear.call(this),t.body.repaintCell.call(this,a,l,s,r,n)):h.__clear.call(this)},__clear:function(){this.isInlineEditing=!1;var t=this.inlineEditing[n].$inlineEditor.data("binded-ax5ui");"ax5picker"==t?this.inlineEditing[n].$inlineEditor.ax5picker("close"):"ax5select"==t&&this.inlineEditing[n].$inlineEditor.ax5select("close"),this.inlineEditing[n].$inlineEditor.remove(),this.inlineEditing[n].$inlineEditor=null,this.inlineEditing[n].$inlineEditorCell=null,this.inlineEditing[n]=void 0,delete this.inlineEditing[n]}};i in h?h[i||"RETURN"].call(this,l,d,u):h.__clear.call(this)},keydown:function(e,i,n){var a={ESC:function(){for(var t in this.inlineEditing)x.deActive.call(this,"CANCEL",t)},RETURN:function(){if(this.isInlineEditing)this.inlineEditing[i]&&this.inlineEditing[i].useReturnToSave&&x.deActive.call(this,"RETURN",i);else for(var e in this.focusedColumn){var a=this.focusedColumn[e],l=this.bodyRowMap[a.rowIndex+"_"+a.colIndex],s=a.dindex,r="",d=this.colGroup[a.colIndex];if(l&&(this.list[s].__isGrouping||(r=t.data.getValue.call(this,s,l.key))),d.editor&&"inline"===t.inlineEditor[d.editor.type].editMode){if(n&&n.moveFocus);else if(l.editor&&"checkbox"==l.editor.type){r=t.data.getValue.call(this,s,l.key);var c=void 0,u=void 0;u=l.editor.config&&l.editor.config.trueValue?(c=!(r==l.editor.config.trueValue))?l.editor.config.trueValue:l.editor.config.falseValue:c=0==r||"false"==r||"1">r?"true":"false",t.data.setValue.call(this,a.dindex,l.key,u),o.call(this,["cellChecked"],s,{key:l.key,rowIndex:a.rowIndex,colIndex:a.colIndex,editorConfig:l.editor.config,checked:c})}}else t.body.inlineEdit.active.call(this,this.focusedColumn,null,r)}}};e in a&&a[e].call(this,e,i,n)}},v=function(){var t=this.config,e=this.list,i=this.bodyRowTable,n=this.footSumTable,o=this.bodyGroupingTable,a=function(t,e,i,n){var o=[],a=void 0,l=void 0,s=void 0,c=void 0,u=void 0,h=void 0,p=void 0;for(a=0,l=n.length;l>a;a++){var f=!1,g=void 0;i&&"__isGrouping"in n[a]?(g=i,f=!0):g=e;for(s=0,c=g.rows.length;c>s;s++){for(o.push("\n<tr>"),u=0,h=g.rows[s].cols.length;h>u;u++)p=g.rows[s].cols[u],o.push("<td ",'colspan="'+p.colspan+'" ','rowspan="'+p.rowspan+'" ',">",f?d.call(this,n[a],a,p):r.call(this,n,n[a],a,p,void 0,"text"),"&nbsp;</td>");o.push("\n</tr>")}}return o.join("")},l=function(t,e,i){var n=[],o=void 0,a=void 0,l=void 0,s=void 0,r=void 0;for(o=0,a=e.rows.length;a>o;o++){for(n.push("\n<tr>"),l=0,s=e.rows[o].cols.length;s>l;l++)r=e.rows[o].cols[l],n.push("<td ",'colspan="'+r.colspan+'" ','rowspan="'+r.rowspan+'" ',">",c.call(this,i,r),"</td>");n.push("\n</tr>")}return n.join("")},s=[];return s.push(a.call(this,this.headerColGroup,i,o,e)),t.footSum&&s.push(l.call(this,this.headerColGroup,n,e)),t.rightSum,s.join("")};t.body={init:l,repaint:u,repaintCell:h,repaintRow:p,updateRowState:o,updateRowStateAll:a,scrollTo:f,blur:g,moveFocus:m,inlineEdit:x,getExcelString:v}}(),function(){var t=ax5.ui.grid,e=ax5.util,i=function(){for(var t=0,i=this.list.length;i--;)"__groupingList"in this.list[i]||(t+=e.number(this.list[i][this.key]));return t},n=function(){for(var t=0,i=this.list.length,n=0;i--;)"__groupingList"in this.list[i]||(t+=e.number(this.list[i][this.key]),n++);return e.number(t/(n||1),{round:2})};t.collector={sum:i,avg:n}}(),function(){var t=ax5.ui.grid,e=ax5.util,i=function(){},n=function(t){for(var e=0,i=t.length,n=[];i>e;e++)t[e]&&!t[e].__isGrouping&&(t[e][this.config.columnKeys.selected]&&this.selectedDataIndexs.push(e),n.push(jQuery.extend({},t[e])));return n},o=function(t){this.selectedDataIndexs=[];var i=0,n=t.length,o=[],a=0,l=0;if(this.config.body.grouping)for(var s=e.map(this.bodyGrouping.by,function(){return{key:this,compareString:"",grouping:!1,list:[]}}),r=0,d=s.length,c=void 0,u=[],h=void 0;n+1>i;i++)if(r=0,t[i]&&t[i][this.config.columnKeys.deleted])this.deletedList.push(t[i]);else{for(c="",u=[];d>r;r++){if(t[i]&&(c+="$|$"+t[i][s[r].key]),a>0&&c!=s[r].compareString){for(var p={keys:[],labels:[],list:s[r].list},f=0;r+1>f;f++)p.keys.push(s[f].key),p.labels.push(t[i-1][s[f].key]);u.push(p),s[r].list=[]}s[r].list.push(t[i]),s[r].compareString=c}for(h=u.length;h--;)o.push({__isGrouping:!0,__groupingList:u[h].list,__groupingBy:{keys:u[h].keys,labels:u[h].labels}});t[i]&&(t[i][this.config.columnKeys.selected]&&this.selectedDataIndexs.push(i),l=t[i].__index=i,o.push(t[i]),a++)}else for(;n>i;i++)t[i]&&t[i][this.config.columnKeys.deleted]?this.deletedList.push(t[i]):t[i]&&(t[i][this.config.columnKeys.selected]&&this.selectedDataIndexs.push(i),t[i].__index=i,l++,o.push(t[i]));return this.xvar.dataRealRowCount=l,o},a=function(i){return e.isArray(i)?(this.page=null,this.list=o.call(this,!this.config.remoteSort&&Object.keys(this.sortInfo).length?x.call(this,this.sortInfo,i):i),this.deletedList=[]):"page"in i&&(this.page=jQuery.extend({},i.page),this.list=o.call(this,!this.config.remoteSort&&Object.keys(this.sortInfo).length?x.call(this,this.sortInfo,i.list):i.list),this.deletedList=[]),this.needToPaintSum=!0,this.xvar.frozenRowIndex=this.config.frozenRowIndex>this.list.length?this.list.length:this.config.frozenRowIndex,this.xvar.paintStartRowIndex=void 0,t.page.navigationUpdate.call(this),this.config.body.grouping,this},l=function(){return{list:this.list,page:this.page}},s=function(e){var i=[],n=0,o=this.list.length;switch(e){case"modified":for(;o>n;n++)this.list[n]&&!this.list[n].__isGrouping&&this.list[n][this.config.columnKeys.modified]&&i.push(jQuery.extend({},this.list[n]));break;case"selected":for(;o>n;n++)this.list[n]&&!this.list[n].__isGrouping&&this.list[n][this.config.columnKeys.selected]&&i.push(jQuery.extend({},this.list[n]));break;case"deleted":i=[].concat(this.deletedList);break;default:i=t.data.clearGroupingData.call(this,this.list)}return i},r=function(i,a,l){var s=this.config.body.grouping?n.call(this,this.list):this.list,r={first:function(){s=[].concat(i).concat(s)},last:function(){s=s.concat([].concat(i))}};if("undefined"==typeof a&&(a="last"),a in r)i[this.config.columnKeys.modified]=!0,r[a].call(this,i);else{if(!e.isNumber(a))throw"invalid argument _dindex";s=s.splice(a,[].concat(i))}return s=this.config.body.grouping?o.call(this,x.call(this,this.sortInfo,s)):l&&l.sort&&Object.keys(this.sortInfo).length?o.call(this,x.call(this,this.sortInfo,s)):o.call(this,s),this.list=s,this.needToPaintSum=!0,this.xvar.frozenRowIndex=this.config.frozenRowIndex>this.list.length?this.list.length:this.config.frozenRowIndex,this.xvar.paintStartRowIndex=void 0,t.page.navigationUpdate.call(this),this},d=function(i){var a=this.config.body.grouping?n.call(this,this.list):this.list,l={first:function(){a.splice(i,1)},last:function(){var t=a.length-1;a.splice(t,1)}};if("undefined"==typeof i&&(i="last"),i in l)l[i].call(this,i);else{if(!e.isNumber(i))throw"invalid argument _dindex";a.splice(i,1)}return a=this.config.body.grouping?o.call(this,x.call(this,this.sortInfo,a)):Object.keys(this.sortInfo).length?o.call(this,x.call(this,this.sortInfo,a)):o.call(this,a),this.list=a,this.needToPaintSum=!0,this.xvar.frozenRowIndex=this.config.frozenRowIndex>this.list.length?this.list.length:this.config.frozenRowIndex,this.xvar.paintStartRowIndex=void 0,t.page.navigationUpdate.call(this),this},c=function(i){var a=this.config.body.grouping?n.call(this,this.list):this.list,l={first:function(){a[0][this.config.columnKeys.deleted]=!0},last:function(){a[a.length-1][this.config.columnKeys.deleted]=!0},selected:function(){for(var t=a.length;t--;)a[t][this.config.columnKeys.selected]&&(a[t][this.config.columnKeys.deleted]=!0)}};if("undefined"==typeof i&&(i="last"),i in l)l[i].call(this,i);else{if(!e.isNumber(i))throw"invalid argument _dindex";a[i][this.config.columnKeys.deleted]=!0}return a=this.config.body.grouping?o.call(this,x.call(this,this.sortInfo,a)):Object.keys(this.sortInfo).length?o.call(this,x.call(this,this.sortInfo,a)):o.call(this,a),this.list=a,this.needToPaintSum=!0,this.xvar.frozenRowIndex=this.config.frozenRowIndex>this.list.length?this.list.length:this.config.frozenRowIndex,this.xvar.paintStartRowIndex=void 0,t.page.navigationUpdate.call(this),this},u=function(t,i){if(!e.isNumber(i))throw"invalid argument _dindex";this.needToPaintSum=!0,this.list.splice(i,1,t),this.config.body.grouping&&(this.list=o.call(this,n.call(this,this.list)))},h=function(e,i,n){var o=p.call(this,e,i);if(this.needToPaintSum=!0,o!==n){if(/[\.\[\]]/.test(i))try{this.list[e][this.config.columnKeys.modified]=!0,Function("val","this"+t.util.getRealPathForDataItem(i)+" = val;").call(this.list[e],n)}catch(a){}else this.list[e][this.config.columnKeys.modified]=!0,this.list[e][i]=n;this.onDataChanged&&this.onDataChanged.call({self:this,list:this.list,dindex:e,item:this.list[e],key:i,value:n})}return!0},p=function(e,i,n){if(/[\.\[\]]/.test(i))try{n=Function("","return this"+t.util.getRealPathForDataItem(i)+";").call(this.list[e])}catch(o){}else n=this.list[e][i];return n},f=function(){this.selectedDataIndexs=[]},g=function(t,e,i){var n=this.config;return this.list[t].__isGrouping?!1:this.list[t][n.columnKeys.disableSelection]?!1:("undefined"==typeof e?(this.list[t][n.columnKeys.selected]=!this.list[t][n.columnKeys.selected])&&this.selectedDataIndexs.push(t):(this.list[t][n.columnKeys.selected]=e)&&this.selectedDataIndexs.push(t),this.onDataChanged&&i&&i.internalCall&&this.onDataChanged.call({self:this,list:this.list,dindex:t,item:this.list[t],key:n.columnKeys.selected,value:this.list[t][n.columnKeys.selected]}),this.list[t][n.columnKeys.selected])},m=function(t,e){var i=this.config,n=this.list.length;if("undefined"==typeof t)for(;n--;)this.list[n].__isGrouping||e&&e.filter&&e.filter.call(this.list[n])!==!0||this.list[n][i.columnKeys.disableSelection]||(this.list[n][i.columnKeys.selected]=!this.list[n][i.columnKeys.selected])&&this.selectedDataIndexs.push(n);else for(;n--;)this.list[n].__isGrouping||e&&e.filter&&e.filter.call(this.list[n])!==!0||this.list[n][i.columnKeys.disableSelection]||(this.list[n][i.columnKeys.selected]=t)&&this.selectedDataIndexs.push(n);return this.onDataChanged&&e&&e.internalCall&&this.onDataChanged.call({self:this,list:this.list}),this.list},x=function(i,n){var o=n||this.list,a=[],l=function(e,i,n){if(/[\.\[\]]/.test(i))try{n=Function("","return this"+t.util.getRealPathForDataItem(i)+";").call(e)}catch(o){}else n=e[i];return n};for(var s in i)a[i[s].seq]={key:s,order:i[s].orderBy};a=e.filter(a,function(){return"undefined"!=typeof this});var r=0,d=a.length,c=void 0,u=void 0;return o.sort(function(t,e){for(r=0;d>r;r++){if(c=l(t,a[r].key),u=l(e,a[r].key),("undefined"==typeof c?"undefined":_typeof(c))!==("undefined"==typeof u?"undefined":_typeof(u))&&(c=""+c,u=""+u),u>c)return"asc"===a[r].order?-1:1;if(c>u)return"asc"===a[r].order?1:-1}}),n?o:(this.xvar.frozenRowIndex=this.config.frozenRowIndex>this.list.length?this.list.length:this.config.frozenRowIndex,this.xvar.paintStartRowIndex=void 0,t.page.navigationUpdate.call(this),this)},v=function(e,i){var n=this;if(this.list=this.list.concat([].concat(e)),this.appendProgress=!0,t.page.statusUpdate.call(this),this.appendDebouncer){if(!(n.appendDebounceTimes<this.config.debounceTime/10))return n.appendDebounceTimes=0,b.call(n),i(),!1;clearTimeout(this.appendDebouncer),n.appendDebounceTimes++}this.appendDebouncer=setTimeout(function(){n.appendDebounceTimes=0,b.call(n),i()},this.config.debounceTime)},b=function(){this.appendProgress=!1,this.config.body.grouping?this.list=o.call(this,x.call(this,this.sortInfo,this.list)):this.list=o.call(this,this.list),this.needToPaintSum=!0,this.xvar.frozenRowIndex=this.config.frozenRowIndex>this.list.length?this.list.length:this.config.frozenRowIndex,this.xvar.paintStartRowIndex=void 0,t.page.navigationUpdate.call(this)};t.data={init:i,set:a,get:l,getList:s,setValue:h,getValue:p,clearSelect:f,select:g,selectAll:m,add:r,remove:d,deleteRow:c,update:u,sort:x,initData:o,clearGroupingData:n,append:v}}(),function(){var t=ax5.ui.grid,e=(ax5.util,function(t){return window.btoa(unescape(encodeURIComponent(t)))}),i="data:application/vnd.ms-excel;base64,",n=function(){return"\ufeff\n{{#tables}}{{{body}}}{{/tables}}\n"},o=function(t,o){var a=void 0,l=[].concat(t);a=ax5.mustache.render(n(),{worksheet:function(){var t=[];return l.forEach(function(e,i){t.push({name:"Sheet"+(i+1)})}),t}(),tables:function(){var t=[];return l.forEach(function(e){t.push({body:e})}),t}()});var s=navigator.userAgent.indexOf("Chrome")>-1,r=!s&&navigator.userAgent.indexOf("Safari")>-1,d=!!document.documentMode,c=void 0,u=void 0,h=void 0,p=void 0,f=void 0;return navigator.msSaveOrOpenBlob?(c=new Blob([a],{type:"text/html"}),window.navigator.msSaveOrOpenBlob(c,o)):r?(u=window.open("about:blank",this.id+"-excel-export","width=600,height=400"),u.document.write(a),u=null):d&&"undefined"==typeof Blob?(h=jQuery('<iframe id="'+this.id+'-excel-export" style="display:none"></iframe>'),jQuery(document.body).append(h),p=window[this.id+"-excel-export"],p.document.open("text/html","replace"),p.document.write(a),p.document.close(),p.focus(),p.document.execCommand("SaveAs",!0,o),h.remove()):(f=document.body.appendChild(document.createElement("a")),"download"in f&&(f.download=o,f.href=i+e(a),f.click(),document.body.removeChild(f))),!0};t.excel={"export":o}}(),function(){var t=ax5.ui.grid,e=ax5.util,i=function(){return e.number(this.value,{money:!0})};t.formatter={money:i}}(),function(){var t=ax5.ui.grid,e=ax5.util,i={on:function(n,o){var a=this,l=$(n),s=l.offset().left,r=a.$.container.root.offset().left;a.xvar.columnResizerIndex=o;var d={min:-a.colGroup[o]._width+2,max:a.colGroup[o+1]?a.colGroup[o+1]._width:a.$.container.root.width()-2};jQuery(document.body).bind(t.util.ENM.mousemove+".ax5grid-"+this.instanceId,function(e){var i=t.util.getMousePosition(e);a.xvar.__da=i.clientX-a.xvar.mousePosition.clientX,d.min>a.xvar.__da?a.xvar.__da=d.min:d.max<a.xvar.__da&&(a.xvar.__da=d.max),a.xvar.columnResizerLived||a.$.resizer.horizontal.addClass("live"),a.xvar.columnResizerLived=!0,a.$.resizer.horizontal.css({left:s+a.xvar.__da-r})}).bind(t.util.ENM.mouseup+".ax5grid-"+this.instanceId,function(t){i.off.call(a),e.stopEvent(t)}).bind("mouseleave.ax5grid-"+this.instanceId,function(t){i.off.call(a),e.stopEvent(t)}),jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",!1)},off:function(){this.$.resizer.horizontal.removeClass("live"),this.xvar.columnResizerLived=!1,"undefined"==typeof this.xvar.__da||this.setColumnWidth(this.colGroup[this.xvar.columnResizerIndex]._width+this.xvar.__da,this.xvar.columnResizerIndex),jQuery(document.body).unbind(t.util.ENM.mousemove+".ax5grid-"+this.instanceId).unbind(t.util.ENM.mouseup+".ax5grid-"+this.instanceId).unbind("mouseleave.ax5grid-"+this.instanceId),jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart")}},n=function(){var n=this;this.$.container.header.on("click","[data-ax5grid-column-attr]",function(){var i=this.getAttribute("data-ax5grid-column-key"),o=this.getAttribute("data-ax5grid-column-colindex"),a=(this.getAttribute("data-ax5grid-column-rowindex"),n.colGroup[o]);if("__checkbox_header__"===i){var l=this.getAttribute("data-ax5grid-selected");l=e.isNothing(l)?!0:"true"===l?!1:!0,$(this).attr("data-ax5grid-selected",l),n.selectAll({selected:l})}else i&&a&&(a.sortable!==!0&&n.config.sortable!==!0||a.sortable===!1||a.sortFixed||r.call(n,a.key));t.body.blur.call(n)}),this.$.container.header.on("mousedown","[data-ax5grid-column-resizer]",function(o){var a=this.getAttribute("data-ax5grid-column-resizer");n.xvar.mousePosition=t.util.getMousePosition(o),i.on.call(n,this,Number(a)),e.stopEvent(o)}).on("dragstart",function(t){return e.stopEvent(t),!1}),o.call(this)},o=function(){var e=this.config,i=t.util.divideTableByFrozenColumnIndex(this.headerTable,this.config.frozenColumnIndex);this.asideHeaderData=function(t){for(var i=[],n={rows:[]},o=0,a=t.rows.length;a>o;o++)if(n.rows[o]={cols:[]},0===o){var l={label:"",colspan:1,rowspan:t.rows.length,colIndex:null},s={};e.showLineNumber&&(s=jQuery.extend({},l,{width:e.lineNumberColumnWidth,_width:e.lineNumberColumnWidth,columnAttr:"lineNumber",key:"__index_header__",label:"&nbsp;"}),i.push(s),n.rows[o].cols.push(s)),e.showRowSelector&&(s=jQuery.extend({},l,{width:e.rowSelectorColumnWidth,_width:e.rowSelectorColumnWidth,columnAttr:"rowSelector",key:"__checkbox_header__",label:""}),i.push(s),n.rows[o].cols.push(s))}return this.asideColGroup=i,n}.call(this,this.headerTable),this.leftHeaderData=i.leftData,this.headerData=i.rightData},a=function(t){var e=(this.config,this.colGroup,t.key);return"__checkbox_header__"===e?'<div class="checkBox"></div>':t.label||"&nbsp;"},l=function(t){var i=this.config,n=this.colGroup;t&&(o.call(this),this.xvar.paintStartRowIndex=void 0);var l=this.asideHeaderData,s=this.leftHeaderData,r=this.headerData,d=i.header.align;this.leftHeaderColGroup=n.slice(0,this.config.frozenColumnIndex),this.headerColGroup=n.slice(this.config.frozenColumnIndex);var c=function(t,o,l){var s=0,r=[];r.push('<table border="0" cellpadding="0" cellspacing="0">'),r.push("<colgroup>");for(var c=0,u=o.length;u>c;c++)r.push('<col style="width:'+o[c]._width+'px;"  />'),s+=o[c]._width;r.push("<col  />"),r.push("</colgroup>");for(var h=0,p=l.rows.length;p>h;h++){var f="";r.push('<tr class="'+f+'">');for(var g=0,m=l.rows[h].cols.length;m>g;g++){var x=l.rows[h].cols[g],v=i.header.columnHeight*x.rowspan-i.header.columnBorderWidth,b=d||x.align;r.push("<td ",'data-ax5grid-column-attr="'+(x.columnAttr||"default")+'" ','data-ax5grid-column-row="'+h+'" ','data-ax5grid-column-col="'+g+'" ',function(){return"undefined"!=typeof x.key?'data-ax5grid-column-key="'+x.key+'" ':""}(),'data-ax5grid-column-colindex="'+x.colIndex+'" ','data-ax5grid-column-rowindex="'+x.rowIndex+'" ','colspan="'+x.colspan+'" ','rowspan="'+x.rowspan+'" ','class="'+function(t){var n="";return t.styleClass&&(n+=e.isFunction(t.styleClass)?t.styleClass.call({column:t,key:t.key})+" ":t.styleClass+" "),i.header.columnBorderWidth&&(n+="hasBorder "),g==m-1&&(n+="isLastColumn "),n}.call(this,x)+'" ','style="height: '+v+'px;min-height: 1px;">'),r.push(function(){var t=i.header.columnHeight-2*i.header.columnPadding-i.header.columnBorderWidth;return'<span data-ax5grid-cellHolder="" '+(b?'data-ax5grid-text-align="'+b+'"':"")+' style="height: '+(i.header.columnHeight-i.header.columnBorderWidth)+"px;line-height: "+t+'px;">'}(),function(){var t="";return e.isNothing(x.key)||e.isNothing(x.colIndex)||i.sortable!==!0&&x.sortable!==!0||x.sortable===!1||(t+='<span data-ax5grid-column-sort="'+x.colIndex+'" data-ax5grid-column-sort-order="'+(n[x.colIndex].sort||"")+'" />'),t}(),a.call(this,x),"</span>"),e.isNothing(x.colIndex)||i.enableFilter&&r.push('<span data-ax5grid-column-filter="'+x.colIndex+'" data-ax5grid-column-filter-value=""  />'),r.push("</td>")}r.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','style="height: '+i.header.columnHeight+'px;min-height: 1px;" ',"></td>"),r.push("</tr>")}return r.push("</table>"),t.html(r.join("")),function(){for(var n=i.header.columnHeight*l.rows.length-i.header.columnBorderWidth,a=0,s=[],r=0,d=o.length;d>r;r++){var c=o[r];e.isNothing(c.colIndex)||(a+=c._width,s.push('<div data-ax5grid-column-resizer="'+c.colIndex+'" style="height:'+n+"px;left: "+(a-4)+'px;"  />'))}t.append(s)}.call(this),s};i.asidePanelWidth>0&&c.call(this,this.$.panel["aside-header"],this.asideColGroup,l),i.frozenColumnIndex>0&&c.call(this,this.$.panel["left-header"],this.leftHeaderColGroup,s),this.xvar.scrollContentWidth=c.call(this,this.$.panel["header-scroll"],this.headerColGroup,r),i.rightSum},s=function(t){return this.$.panel["header-scroll"].css(t),this},r=function(t){var e="",i={},n=0;for(var o in this.sortInfo)this.sortInfo[o].fixed&&(i[o]=this.sortInfo[o],n++);for(var a=0,l=this.colGroup.length;l>a;a++)this.colGroup[a].key==t?(""==e&&(e="undefined"==typeof this.colGroup[a].sort?"desc":"desc"===this.colGroup[a].sort?"asc":void 0),this.colGroup[a].sort=e):this.config.multiSort||(this.colGroup[a].sort=void 0),"undefined"!=typeof this.colGroup[a].sort&&(i[this.colGroup[a].key]||(i[this.colGroup[a].key]={seq:n++,orderBy:this.colGroup[a].sort}));return this.setColumnSort(i),this},d=function(t){for(var e=0,i=this.colGroup.length;i>e;e++)for(var n in t)this.colGroup[e].key==n&&(this.colGroup[e].sort=t[n].orderBy);return this;
},c=function(){var t=(this.config,this.colGroup),e=this.headerTable,i=function(t,e){for(var i=[],n=0,o=e.rows.length;o>n;n++){i.push("<tr>");for(var l=0,s=e.rows[n].cols.length;s>l;l++){var r=e.rows[n].cols[l];i.push("<td ",'colspan="'+r.colspan+'" ','rowspan="'+r.rowspan+'" ',">",a.call(this,r),"</td>")}i.push("</tr>")}return i.join("")};return i.call(this,t,e)};t.header={init:n,repaint:l,scrollTo:s,toggleSort:r,applySortStatus:d,getExcelString:c}}(),function(){var t=ax5.ui.grid,e={useReturnToSave:!0,editMode:"popup",getHtml:function(t,e,i,n){return'<input type="text" data-ax5grid-editor="text" value="'+n+'" >'},init:function(e,i,n,o,a){var l;return o.append(l=jQuery(this.getHtml(e,i,n,a))),this.bindUI(e,i,l,n,o,a),l.on("blur",function(){t.body.inlineEdit.deActive.call(e,"RETURN",i)}),l},bindUI:function(t,e,i){i.focus().select()}},i={useReturnToSave:!0,editMode:"popup",getHtml:function(t,e,i,n){return'<input type="text" data-ax5grid-editor="money" value="'+n+'" >'},init:function(e,i,n,o,a){var l;return o.append(l=jQuery(this.getHtml(e,i,n,a))),this.bindUI(e,i,l,n,o,a),l.on("blur",function(){t.body.inlineEdit.deActive.call(e,"RETURN",i)}),l},bindUI:function(t,e,i){i.data("binded-ax5ui","ax5formater"),i.ax5formatter({pattern:"money"}),i.focus().select()}},n={useReturnToSave:!0,editMode:"popup",getHtml:function(t,e,i,n){return'<input type="text" data-ax5grid-editor="number" value="'+n+'" >'},init:function(e,i,n,o,a){var l;return o.append(l=jQuery(this.getHtml(e,i,n,a))),this.bindUI(e,i,l,n,o,a),l.on("blur",function(){t.body.inlineEdit.deActive.call(e,"RETURN",i)}),l},bindUI:function(t,e,i){i.data("binded-ax5ui","ax5formater"),i.ax5formatter({pattern:"number"}),i.focus().select()}},o={useReturnToSave:!0,editMode:"popup",getHtml:function(t,e,i,n){return'<input type="text" data-ax5grid-editor="calendar" value="'+n+'" >'},init:function(t,e,i,n,o){var a;return n.append(a=jQuery(this.getHtml(t,e,i,o))),this.bindUI(t,e,a,i,n,o),a},bindUI:function(e,i,n){var o=e;n.data("binded-ax5ui","ax5picker"),n.ax5picker({direction:"auto",content:{type:"date",formatter:{pattern:"date"}},onStateChanged:function(){"open"==this.state?this.self.activePicker.attr("data-ax5grid-inline-edit-picker","date"):"close"==this.state&&t.body.inlineEdit.deActive.call(o,"RETURN",i)}}),n.focus().select()}},a={useReturnToSave:!1,editMode:"popup",getHtml:function(){var t=[];return t.push('<div data-ax5select="ax5grid-editor" data-ax5select-config="{}">'),t.push("</div>"),t.join("")},init:function(t,e,i,n,o){var a;return n.append(a=jQuery(this.getHtml(t,e,i,o))),this.bindUI(t,e,a,i,n,o),a},bindUI:function(e,i,n,o,a,l){var s={columnKeys:{optionValue:"value",optionText:"text",optionSelected:"selected"}};jQuery.extend(!0,s,o.config),s.options.forEach(function(t){t[s.columnKeys.optionValue]==l&&(t[s.columnKeys.optionSelected]=!0)});var r=e;n.data("binded-ax5ui","ax5select"),n.ax5select({direction:"auto",columnKeys:s.columnKeys,options:s.options,onStateChanged:function(){"open"==this.state?this.self.activeSelectOptionGroup.attr("data-ax5grid-inline-edit-picker","select"):"changeValue"==this.state?t.body.inlineEdit.deActive.call(r,"RETURN",i,this.value[0][s.columnKeys.optionValue]):"close"==this.state&&t.body.inlineEdit.deActive.call(r,"ESC",i)}}),n.ax5select("open"),n.ax5select("setValue",l),n.find("a").focus()}},l={editMode:"inline",getHtml:function(t,e,i){var n,o=t.config.body.columnHeight-2*t.config.body.columnPadding-t.config.body.columnBorderWidth;n=e.config&&e.config.trueValue?i==e.config.trueValue?"true":"false":0==i||"false"==i||"1">i?"false":"true";var a={marginTop:2,height:o-4};return jQuery.extend(!0,a,e.config),a.marginTop=(o-a.height)/2,'<div data-ax5grid-editor="checkbox" data-ax5grid-checked="'+n+'" style="height:'+a.height+"px;width:"+a.height+"px;margin-top:"+a.marginTop+'px;"></div>'}};t.inlineEditor={text:e,money:i,number:n,date:o,select:a,checkbox:l}}(),function(){var t=ax5.ui.grid,e=ax5.util,i=function(t){var e=function(t){this.page.currentPage!=t&&(this.page.selectPage=t,this.config.page.onChange&&this.config.page.onChange.call({self:this,page:this.page,data:this.data}))},i={first:function(){e.call(this,0)},prev:function(){var t=this.page.currentPage-1;0>t&&(t=0),e.call(this,t)},next:function(){var t=this.page.currentPage+1;t>this.page.totalPages-1&&(t=this.page.totalPages-1),e.call(this,t)},last:function(){e.call(this,this.page.totalPages-1)}};t in i?i[t].call(this):e.call(this,t-1)},n=function(){var e=this;if(this.page){var n={hasPage:!1,currentPage:this.page.currentPage,pageSize:this.page.pageSize,totalElements:this.page.totalElements,totalPages:this.page.totalPages,firstIcon:this.config.page.firstIcon,prevIcon:this.config.page.prevIcon||"",nextIcon:this.config.page.nextIcon||"",lastIcon:this.config.page.lastIcon},o=this.config.page.navigationItemCount;n["@paging"]=function(){var t=[],e=n.currentPage-Math.floor(o/2);0>e&&(e=0);var i=n.currentPage+o;i>n.totalPages&&(i=n.totalPages),i-e>o&&(i=e+o),o>i-e&&(e=i-o),0>e&&(e=0);for(var a=e,l=i;l>a;a++)t.push({pageNo:a+1,selected:n.currentPage==a});return t}(),n["@paging"].length>0&&(n.hasPage=!0),this.$.page.navigation.html(t.tmpl.get("page_navigation",n)),this.$.page.navigation.find("[data-ax5grid-page-move]").on("click",function(){var t=this.getAttribute("data-ax5grid-page-move");i.call(e,t)})}else this.$.page.navigation.empty()},o=function(){var i=this.xvar.paintStartRowIndex,n=this.xvar.paintStartRowIndex+this.xvar.paintRowCount-1,o=this.xvar.dataRowCount;n>o&&(n=o),this.$.page.status.html(t.tmpl.get("page_status",{fromRowIndex:e.number(i+1,{money:!0}),toRowIndex:e.number(n,{money:!0}),totalElements:e.number(o,{money:!0}),dataRowCount:o!==this.xvar.dataRealRowCount?e.number(this.xvar.dataRealRowCount,{money:!0}):!1,progress:this.appendProgress?this.config.appendProgressIcon:""}))};t.page={navigationUpdate:n,statusUpdate:o}}(),function(){var t=ax5.ui.grid,e=ax5.util,i={vertical:function(t,e){var i=e._content_height-e._panel_height,n=e._vertical_scroller_height-e.verticalScrollBarHeight,o=i*t.top/n;return 0>o?o=0:o>i&&(o=i),{top:-o}},horizontal:function(t,e){var i=e._content_width-e._panel_width,n=e._horizontal_scroller_width-e.horizontalScrollBarWidth,o=i*t.left/n;return 0>o?o=0:o>i&&(o=i),{left:-o}}},n={vertical:function(e,n){var o="vertical",a=n._content_height-n._panel_height,l=n._vertical_scroller_height-n.verticalScrollBarHeight,s=l*e/a;if(-s>l){s=-l;var r=i[o].call(this,{top:-s},{_content_width:n._content_width,_content_height:n._content_height,_panel_width:n._panel_width,_panel_height:n._panel_height,_horizontal_scroller_width:n._horizontal_scroller_width,_vertical_scroller_height:n._vertical_scroller_height,verticalScrollBarHeight:n.verticalScrollBarHeight,horizontalScrollBarWidth:n.horizontalScrollBarWidth});t.body.scrollTo.call(this,r)}return-s},horizontal:function(e,n){var o="horizontal",a=n._content_width-n._panel_width,l=n._horizontal_scroller_width-n.horizontalScrollBarWidth,s=l*e/a;if(-s>l){s=-l;var r=i[o].call(this,{left:-s},{_content_width:n._content_width,_content_height:n._content_height,_panel_width:n._panel_width,_panel_height:n._panel_height,_horizontal_scroller_width:n._horizontal_scroller_width,_vertical_scroller_height:n._vertical_scroller_height,verticalScrollBarHeight:n.verticalScrollBarHeight,horizontalScrollBarWidth:n.horizontalScrollBarWidth});t.header.scrollTo.call(this,r),t.body.scrollTo.call(this,r)}return-s}},o={click:function(e,n,o,a){if((new Date).getTime()-t.scroller.moveout_timer<20)return!1;var l=this,s=e.offset(),r={width:n.outerWidth(),height:n.outerHeight()},d={width:e.innerWidth(),height:e.innerHeight()},c=l.$.scroller.vertical.innerHeight(),u=l.$.panel.body.height(),h=l.$.scroller.horizontal.innerWidth(),p=l.$.panel.body.width(),f=l.xvar.scrollContentHeight,g=l.xvar.scrollContentWidth,m=l.$.scroller["vertical-bar"].outerHeight(),x=l.$.scroller["horizontal-bar"].outerWidth(),v={vertical:function(e){var i=t.util.getMousePosition(e),n=i.clientY-s.top;return 0>n?n=0:n+r.height>d.height&&(n=d.height-r.height),{top:n}},horizontal:function(e){var i=t.util.getMousePosition(e),n=i.clientX-s.left;return 0>n?n=0:n+r.width>d.width&&(n=d.width-r.width),{left:n}}},b=v[o](a);n.css(b);var y=i[o].call(l,b,{_content_width:g,_content_height:f,_panel_width:p,_panel_height:u,_horizontal_scroller_width:h,_vertical_scroller_height:c,verticalScrollBarHeight:m,horizontalScrollBarWidth:x});"horizontal"===o&&t.header.scrollTo.call(l,y),t.body.scrollTo.call(l,y)},on:function(e,n,a){var l=this,s=n.position(),r={width:n.outerWidth(),height:n.outerHeight()},d={width:e.innerWidth(),height:e.innerHeight()},c=l.$.scroller.vertical.innerHeight(),u=l.$.panel.body.height(),h=l.$.scroller.horizontal.innerWidth(),p=l.$.panel.body.width(),f=l.xvar.scrollContentHeight,g=l.xvar.scrollContentWidth,m=l.$.scroller["vertical-bar"].outerHeight(),x=l.$.scroller["horizontal-bar"].outerWidth(),v={vertical:function(e){var i=t.util.getMousePosition(e);l.xvar.__da=i.clientY-l.xvar.mousePosition.clientY;var n=s.top+l.xvar.__da;return 0>n?n=0:n+r.height>d.height&&(n=d.height-r.height),{top:n}},horizontal:function(e){var i=t.util.getMousePosition(e);l.xvar.__da=i.clientX-l.xvar.mousePosition.clientX;var n=s.left+l.xvar.__da;return 0>n?n=0:n+r.width>d.width&&(n=d.width-r.width),{left:n}}};l.xvar.__da=0,jQuery(document.body).bind(t.util.ENM.mousemove+".ax5grid-"+this.instanceId,function(e){var o=v[a](e);n.css(o);var s=i[a].call(l,o,{_content_width:g,_content_height:f,_panel_width:p,_panel_height:u,_horizontal_scroller_width:h,_vertical_scroller_height:c,verticalScrollBarHeight:m,horizontalScrollBarWidth:x});"horizontal"===a&&t.header.scrollTo.call(l,s),t.body.scrollTo.call(l,s)}).bind(t.util.ENM.mouseup+".ax5grid-"+this.instanceId,function(){o.off.call(l)}).bind("mouseleave.ax5grid-"+this.instanceId,function(){o.off.call(l)}),jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",!1)},off:function(){t.scroller.moveout_timer=(new Date).getTime(),jQuery(document.body).unbind(t.util.ENM.mousemove+".ax5grid-"+this.instanceId).unbind(t.util.ENM.mouseup+".ax5grid-"+this.instanceId).unbind("mouseleave.ax5grid-"+this.instanceId),jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart")}},a={wheel:function(e){var i=this,n=i.$.panel["body-scroll"].position(),o=i.$.panel.body.height(),a=i.$.panel.body.width(),l=i.xvar.scrollContentHeight,r=i.xvar.scrollContentWidth;if(isNaN(l)||isNaN(r))return!1;var d=void 0,c=void 0,u=!1,h=!1;return d=n.left-e.x,c=n.top-e.y,c>=0?(c=0,u=!0):o-l>=c?(c=o-l,c>=0&&(c=0),u=!0):0==e.y&&(u=!0),d>=0?(d=0,h=!0):a-r>=d?(d=a-r,d>=0&&(d=0),h=!0):0==e.x&&(h=!0),t.header.scrollTo.call(this,{left:d}),t.body.scrollTo.call(this,{left:d,top:c}),s.call(this),!u||!h},on:function(){var i=this,n=i.$.panel["body-scroll"].position(),o=i.$.panel.body.height(),l=i.$.panel.body.width(),r=i.xvar.scrollContentHeight,d=i.xvar.scrollContentWidth,c=function(e){var a=t.util.getMousePosition(e),s=void 0,c=void 0;return i.xvar.__x_da=a.clientX-i.xvar.mousePosition.clientX,i.xvar.__y_da=a.clientY-i.xvar.mousePosition.clientY,s=n.left+i.xvar.__x_da,c=n.top+i.xvar.__y_da,c>=0?c=0:o-r>=c&&(c=o-r,c>=0&&(c=0)),s>=0?s=0:l-d>=s&&(s=l-d,s>=0&&(s=0)),{left:s,top:c}};this.xvar.__x_da=0,this.xvar.__y_da=0,this.xvar.touchmoved=!1,jQuery(document.body).on("touchmove.ax5grid-"+this.instanceId,function(n){var o=c(n);t.header.scrollTo.call(i,{left:o.left}),t.body.scrollTo.call(i,o,"noRepaint"),s.call(i),e.stopEvent(n),i.xvar.touchmoved=!0}).on("touchend.ax5grid-"+this.instanceId,function(n){if(i.xvar.touchmoved){var o=c(n);t.header.scrollTo.call(i,{left:o.left}),t.body.scrollTo.call(i,o),s.call(i),e.stopEvent(n),a.off.call(i)}}),jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",!1)},off:function(){jQuery(document.body).off("touchmove.ax5grid-"+this.instanceId).off("touchend.ax5grid-"+this.instanceId),jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart")}},l=function(){var i=this,n=this.config.scroller.trackPadding;this.$.scroller["vertical-bar"].css({width:this.config.scroller.size-(n+1),left:n/2}),this.$.scroller["horizontal-bar"].css({height:this.config.scroller.size-(n+1),top:n/2}),this.$.scroller["vertical-bar"].on(t.util.ENM.mousedown,function(e){this.xvar.mousePosition=t.util.getMousePosition(e),o.on.call(this,this.$.scroller.vertical,this.$.scroller["vertical-bar"],"vertical",e)}.bind(this)).on("dragstart",function(t){return e.stopEvent(t),!1}),this.$.scroller.vertical.on("click",function(t){"vertical"==t.target.getAttribute("data-ax5grid-scroller")&&o.click.call(this,this.$.scroller.vertical,this.$.scroller["vertical-bar"],"vertical",t)}.bind(this)),this.$.scroller["horizontal-bar"].on(t.util.ENM.mousedown,function(e){this.xvar.mousePosition=t.util.getMousePosition(e),o.on.call(this,this.$.scroller.horizontal,this.$.scroller["horizontal-bar"],"horizontal",e)}.bind(this)).on("dragstart",function(t){return e.stopEvent(t),!1}),this.$.scroller.horizontal.on("click",function(t){"horizontal"==t.target.getAttribute("data-ax5grid-scroller")&&o.click.call(this,this.$.scroller.horizontal,this.$.scroller["horizontal-bar"],"horizontal",t)}.bind(this)),this.$.container.body.on("mousewheel DOMMouseScroll",function(t){var i=t.originalEvent,n={x:0,y:0};i.detail?n.y=10*i.detail:"undefined"==typeof i.deltaY?(n.y=-i.wheelDelta,n.x=0):(n.y=i.deltaY,n.x=i.deltaX),a.wheel.call(this,n)&&e.stopEvent(t)}.bind(this)),document.addEventListener&&ax5.info.supportTouch&&this.$.container.body.on("touchstart","[data-ax5grid-panel]",function(e){i.xvar.mousePosition=t.util.getMousePosition(e),a.on.call(i)})},s=function(){var t=this.$.scroller.vertical.height(),e=this.$.scroller.horizontal.width(),i=this.$.panel.body.height(),o=this.$.panel.body.width(),a=this.xvar.scrollContentHeight,l=this.xvar.scrollContentWidth,s=i*t/a,r=o*e/l;s<this.config.scroller.barMinSize&&(s=this.config.scroller.barMinSize),r<this.config.scroller.barMinSize&&(r=this.config.scroller.barMinSize),this.$.scroller["vertical-bar"].css({top:n.vertical.call(this,this.$.panel["body-scroll"].position().top,{_content_width:l,_content_height:a,_panel_width:o,_panel_height:i,_horizontal_scroller_width:e,_vertical_scroller_height:t,verticalScrollBarHeight:s,horizontalScrollBarWidth:r}),height:s}),this.$.scroller["horizontal-bar"].css({left:n.horizontal.call(this,this.$.panel["body-scroll"].position().left,{_content_width:l,_content_height:a,_panel_width:o,_panel_height:i,_horizontal_scroller_width:e,_vertical_scroller_height:t,verticalScrollBarHeight:s,horizontalScrollBarWidth:r}),width:r}),t=null,e=null,i=null,o=null,a=null,l=null,s=null,r=null};t.scroller={moveout_timer:(new Date).getTime(),init:l,resize:s}}(),function(){var t=ax5.ui.grid,e=function(){return'<div data-ax5grid-container="root" data-ax5grid-instance="{{instanceId}}">\n            <div data-ax5grid-container="hidden">\n                <textarea data-ax5grid-form="clipboard"></textarea>\n            </div>\n            <div data-ax5grid-container="header">\n                <div data-ax5grid-panel="aside-header"></div>\n                <div data-ax5grid-panel="left-header"></div>\n                <div data-ax5grid-panel="header">\n                    <div data-ax5grid-panel-scroll="header"></div>\n                </div>\n                <div data-ax5grid-panel="right-header"></div>\n            </div>\n            <div data-ax5grid-container="body">\n                <div data-ax5grid-panel="top-aside-body"></div>\n                <div data-ax5grid-panel="top-left-body"></div>\n                <div data-ax5grid-panel="top-body">\n                    <div data-ax5grid-panel-scroll="top-body"></div>\n                </div>\n                <div data-ax5grid-panel="top-right-body"></div>\n                <div data-ax5grid-panel="aside-body">\n                    <div data-ax5grid-panel-scroll="aside-body"></div>\n                </div>\n                <div data-ax5grid-panel="left-body">\n                    <div data-ax5grid-panel-scroll="left-body"></div>\n                </div>\n                <div data-ax5grid-panel="body">\n                    <div data-ax5grid-panel-scroll="body"></div>\n                </div>\n                <div data-ax5grid-panel="right-body">\n                  <div data-ax5grid-panel-scroll="right-body"></div>\n                </div>\n                <div data-ax5grid-panel="bottom-aside-body"></div>\n                <div data-ax5grid-panel="bottom-left-body"></div>\n                <div data-ax5grid-panel="bottom-body">\n                    <div data-ax5grid-panel-scroll="bottom-body"></div>\n                </div>\n                <div data-ax5grid-panel="bottom-right-body"></div>\n            </div>\n            <div data-ax5grid-container="page">\n                <div data-ax5grid-page="holder">\n                    <div data-ax5grid-page="navigation"></div>\n                    <div data-ax5grid-page="status"></div>\n                </div>\n            </div>\n            <div data-ax5grid-container="scroller">\n                <div data-ax5grid-scroller="vertical">\n                    <div data-ax5grid-scroller="vertical-bar"></div>    \n                </div>\n                <div data-ax5grid-scroller="horizontal">\n                    <div data-ax5grid-scroller="horizontal-bar"></div>\n                </div>\n                <div data-ax5grid-scroller="corner"></div>\n            </div>\n            <div data-ax5grid-resizer="vertical"></div>\n            <div data-ax5grid-resizer="horizontal"></div>\n        </div>'},i=function(){return'<div data-ax5grid-page-navigation="holder">\n            {{#hasPage}}\n            <div data-ax5grid-page-navigation="cell">    \n                {{#firstIcon}}<button data-ax5grid-page-move="first">{{{firstIcon}}}</button>{{/firstIcon}}\n                <button data-ax5grid-page-move="prev">{{{prevIcon}}}</button>\n            </div>\n            <div data-ax5grid-page-navigation="cell-paging">\n                {{#@paging}}\n                <button data-ax5grid-page-move="{{pageNo}}" data-ax5grid-page-selected="{{selected}}">{{pageNo}}</button>\n                {{/@paging}}\n            </div>\n            <div data-ax5grid-page-navigation="cell">\n                <button data-ax5grid-page-move="next">{{{nextIcon}}}</button>\n                {{#lastIcon}}<button data-ax5grid-page-move="last">{{{lastIcon}}}</button>{{/lastIcon}}\n            </div>\n            {{/hasPage}}\n        </div>'},n=function(){return"<span>{{{progress}}} {{fromRowIndex}} - {{toRowIndex}} of {{totalElements}}{{#dataRowCount}} ({{dataRowCount}}){{/dataRowCount}}</span>"};t.tmpl={main:e,page_navigation:i,page_status:n,get:function(e,i,n){return ax5.mustache.render(t.tmpl[e].call(this,n),i)}}}(),function(){var t=ax5.ui.grid,e=ax5.util,i=function(t,e){for(var i={rows:[]},n={rows:[]},o=0,a=t.rows.length;a>o;o++){var l=t.rows[o];i.rows[o]={cols:[]},n.rows[o]={cols:[]};for(var s=0,r=l.cols.length;r>s;s++){var d=jQuery.extend({},l.cols[s]),c=d.colIndex,u=d.colIndex+d.colspan;if(e>c)if(e>=u)i.rows[o].cols.push(d);else{var h=jQuery.extend({},d),p=jQuery.extend({},h);h.colspan=e-h.colIndex,p.colIndex=e,p.colspan=d.colspan-h.colspan,i.rows[o].cols.push(h),n.rows[o].cols.push(p)}else n.rows[o].cols.push(d)}}return{leftData:i,rightData:n}},n=function(t){var e,i=t.originalEvent?t.originalEvent:t;return e="changedTouches"in i?i.changedTouches[0]:i,{clientX:e.pageX,clientY:e.pageY}},o={mousedown:ax5.info.supportTouch?"touchstart":"mousedown",mousemove:ax5.info.supportTouch?"touchmove":"mousemove",mouseup:ax5.info.supportTouch?"touchend":"mouseup"},a=function(t){var i=e.deepCopy(t),n=this.config,o={rows:[]},a=0,l=function u(t,e,i){for(var l={cols:[]},s=0,r=t.length;r>s;s++){var d=t[s],c=1;d.hidden||(d.colspan=1,d.rowspan=1,d.rowIndex=e,d.colIndex=function(){return i?(a=i.colIndex+s+1,i.colIndex+s):a++}(),l.cols.push(d),"columns"in d?c=u(d.columns,e+1,d):d.width="width"in d?d.width:n.columnMinWidth,d.colspan=c)}return l.cols.length>0?(o.rows[e]||(o.rows[e]={cols:[]}),o.rows[e].cols=o.rows[e].cols.concat(l.cols),l.cols.length-1+c):c};l(i,0);for(var s=0,r=o.rows.length;r>s;s++)for(var d=0,c=o.rows[s].cols.length;c>d;d++)"columns"in o.rows[s].cols[d]||(o.rows[s].cols[d].rowspan=r-s);return o},l=function(t){var i=e.deepCopy(t),n={rows:[]},o=0,a=function l(t,e,i){for(var a={cols:[]},s=0,r=t.length,d=(function h(t){for(var n=0,s=t.length;s>n;n++){var r=t[n],d=1;r.hidden||("key"in r?(r.colspan=1,r.rowspan=1,r.rowIndex=e,r.colIndex=function(){return i?(o=i.colIndex+n+1,i.colIndex+n):o++}(),a.cols.push(r),"columns"in r&&(d=l(r.columns,e+1,r)),r.colspan=d):"columns"in r&&h(r.columns,e))}});r>s;s++){var c=t[s],u=1;c.hidden||("key"in c?(c.colspan=1,c.rowspan=1,c.rowIndex=e,c.colIndex=function(){return i?(o=i.colIndex+s+1,i.colIndex+s):o++}(),a.cols.push(c),"columns"in c&&(u=l(c.columns,e+1,c)),c.colspan=u):"columns"in c&&d(c.columns,e))}return a.cols.length>0?(n.rows[e]||(n.rows[e]={cols:[]}),n.rows[e].cols=n.rows[e].cols.concat(a.cols),a.cols.length-1+u):u};return a(i,0),function(t){for(var e=0,i=t.rows.length;i>e;e++)for(var n=t.rows[e],o=0,a=n.cols.length;a>o;o++){var l=n.cols[o];"columns"in l||(l.rowspan=i-e)}}(n),n},s=function(t){var e={};return t.rows.forEach(function(t){t.cols.forEach(function(t){e[t.rowIndex+"_"+t.colIndex]=jQuery.extend({},t)})}),e},r=function(t){for(var e={rows:[]},i=0,n=t.length;n>i;i++){var o=t[i];e.rows[i]={cols:[]};for(var a=0,l=0,s=o.length;s>l&&!(a>this.columns.length);l++){var r=o[l].colspan||1;o[l].label||o[l].key?e.rows[i].cols.push({colspan:r,rowspan:1,colIndex:a,columnAttr:"sum",align:o[l].align,label:o[l].label,key:o[l].key,collector:o[l].collector,formatter:o[l].formatter}):e.rows[i].cols.push({colIndex:a,colspan:r,rowspan:1,label:"&nbsp;"}),a+=r}if(a<this.columns.length+1)for(var l=a;l<this.colGroup.length;l++)e.rows[i].cols.push({colIndex:l+1,colspan:1,rowspan:1,label:"&nbsp;"})}return e},d=function(t){var e={rows:[]},i=0,n=0;e.rows[i]={cols:[]};for(var o=0,a=t.length;a>o&&!(n>this.columns.length);o++){var l=t[o].colspan||1;t[o].label||t[o].key?e.rows[i].cols.push({colspan:l,rowspan:1,rowIndex:0,colIndex:n,columnAttr:"default",align:t[o].align,label:t[o].label,key:t[o].key,collector:t[o].collector,formatter:t[o].formatter}):e.rows[i].cols.push({rowIndex:0,colIndex:n,colspan:l,rowspan:1,label:"&nbsp;"}),n+=l}if(n<this.colGroup.length)for(var s=n;s<this.colGroup.length;s++)e.rows[i].cols.push({rowIndex:0,colIndex:s+1,colspan:1,rowspan:1,label:"&nbsp;"});return e},c=function(t,e){var i=void 0,n=!1,o=[];return this.xvar.frozenRowIndex>t&&o.push("top"),this.xvar.frozenColumnIndex>e&&o.push("left"),o.push("body"),(this.xvar.frozenColumnIndex<=e||this.xvar.frozenRowIndex<=t)&&(i=o.join("-"),o.push("scroll"),n=!0),{panelName:o.join("-"),containerPanelName:i,isScrollPanel:n}},u=function(t){var e=[],i=[].concat(t.split(/[\.\[\]]/g));return i.forEach(function(t){""!==t&&e.push('["'+t.replace(/['\"]/g,"")+'"]')}),i=null,e.join("")};t.util={divideTableByFrozenColumnIndex:i,getMousePosition:n,ENM:o,makeHeaderTable:a,makeBodyRowTable:l,makeBodyRowMap:s,makeFootSumTable:r,makeBodyGroupingTable:d,findPanelByColumnIndex:c,getRealPathForDataItem:u}}(),function(){var t,e=ax5.ui,i=ax5.util;e.addClass({className:"mediaViewer",version:"1.3.82"},function(){var n=function(){var n,o=this,a={mousedown:ax5.info.supportTouch?"touchstart":"mousedown",mousemove:ax5.info.supportTouch?"touchmove":"mousemove",mouseup:ax5.info.supportTouch?"touchend":"mouseup"},l=function(t){var e="changedTouches"in t.originalEvent?t.originalEvent.changedTouches[0]:t;return{clientX:e.clientX,clientY:e.clientY,time:(new Date).getTime()}};this.instanceId=ax5.getGuid(),this.config={clickEventName:"click",theme:"default",animateTime:250,columnKeys:{src:"src",poster:"poster",html:"html"},loading:{icon:"",text:"Now Loading"},viewer:{prevHandle:!1,nextHandle:!1,ratio:16/9},media:{prevHandle:"<",nextHandle:">",width:36,height:36,list:[]}},this.queue=[],this.openTimer=null,this.closeTimer=null,this.selectedIndex=0,this.mousePosition={},n=this.config;var s=function(){var e=jQuery.extend(!0,{id:this.id},n);try{return t.tmpl.get.call(this,"frame",e,n.columnKeys)}finally{e=null}},r=function(t,e){var a,l="",s={thumbnail:function(t){this.select(t.getAttribute("data-media-thumbnail"))},prev:function(){this.selectedIndex>0?this.select(this.selectedIndex-1):this.select(n.media.list.length-1)},next:function(){this.selectedIndex<n.media.list.length-1?this.select(this.selectedIndex+1):this.select(0)},viewer:function(){o.onClick&&o.onClick.call({media:n.media.list[this.selectedIndex]})}};if(e=i.findParentNode(t.target,function(t){return t.getAttribute("data-media-thumbnail")?(l="thumbnail",!0):"media-list-prev-handle"==t.getAttribute("data-media-viewer-els")?(l="prev",!0):"media-list-next-handle"==t.getAttribute("data-media-viewer-els")?(l="next",!0):"viewer"==t.getAttribute("data-media-viewer-els")?(l="viewer",!0):o.target.get(0)==t?!0:void 0})){for(var r in s)if(r==l){a=s[r].call(this,e);break}return this}return this},d=function(){if(n.media&&n.media.list&&n.media.list.length>0){for(var t=n.media.list.length,e=0;t--;)if(n.media.list[t].selected){e=t;break}0==e&&(n.media.list[0].selected=!0);try{return e}finally{t=null,e=null}}},c=function(){var t=this.$.list.find("[data-media-thumbnail="+this.selectedIndex+"]"),e=t.position(),i=t.outerWidth(),n=this.$.list.outerWidth(),o=this.$["list-table"].position().left,a=this.$["list-table"].outerWidth(),l=0;e.left+i+o>n?(l=n-(e.left+i),o!=l&&this.$["list-table"].css({left:o=l})):e.left+o<0&&(l=e.left,l>0&&(l=0),o!=l&&this.$["list-table"].css({left:o=l})),o!=l&&n>o+a&&(l=n-a,l>0&&(l=0),this.$["list-table"].css({left:l})),t=null,e=null,i=null,n=null,o=null,l=null},u={on:function(t){var e=function(e){var i=e;return"changedTouches"in e.originalEvent&&(i=e.originalEvent.changedTouches[0]),t.__dx=i.clientX-t.clientX,t.__dy=i.clientY-t.clientY,t.__time=(new Date).getTime(),Math.abs(t.__dx)>Math.abs(t.__dy)?{left:t.__dx}:{top:t.__dy}},l=this.$.viewer.width();jQuery(document.body).bind(a.mousemove+".ax5media-viewer-"+this.instanceId,function(t){var a=e(t);if("left"in a){if(o.$["viewer-holder"].css(a),Math.abs(o.mousePosition.__dx)>l/3){var s=0;o.mousePosition.__dx>0?s=o.selectedIndex>0?o.selectedIndex-1:n.media.list.length-1:o.selectedIndex<n.media.list.length-1&&(s=o.selectedIndex+1),o.select(s),u.off.call(o)}i.stopEvent(t)}}).bind(a.mouseup+".ax5media-viewer-"+this.instanceId,function(){u.off.call(o)}).bind("mouseleave.ax5media-viewer-"+this.instanceId,function(){u.off.call(o)}),jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",!1)},off:function(){o.$["viewer-holder"].css({left:0}),jQuery(document.body).unbind(a.mousemove+".ax5media-viewer-"+this.instanceId).unbind(a.mouseup+".ax5media-viewer-"+this.instanceId).unbind("mouseleave.ax5media-viewer-"+this.instanceId),jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart")}};this.init=function(){this.onStateChanged=n.onStateChanged,this.onClick=n.onClick,this.id="ax5-media-viewer-"+ax5.getGuid(),n.target&&n.media&&n.media.list&&n.media.list.length>0&&this.attach(n.target)},this.attach=function(t,e){return t||console.log(ax5.info.getError("ax5mediaViewer","401","setConfig")),"undefined"!=typeof e&&this.setConfig(e,!1),this.target=jQuery(t),this.target.html(s.call(this)),this.$={root:this.target.find("[data-ax5-ui-media-viewer]"),"viewer-holder":this.target.find('[data-media-viewer-els="viewer-holder"]'),viewer:this.target.find('[data-media-viewer-els="viewer"]'),"viewer-loading":this.target.find('[data-media-viewer-els="viewer-loading"]'),"list-holder":this.target.find('[data-media-viewer-els="media-list-holder"]'),"list-prev-handle":this.target.find('[data-media-viewer-els="media-list-prev-handle"]'),list:this.target.find('[data-media-viewer-els="media-list"]'),"list-table":this.target.find('[data-media-viewer-els="media-list-table"]'),"list-next-handle":this.target.find('[data-media-viewer-els="media-list-next-handle"]')},this.align(),jQuery(window).unbind("resize.ax5media-viewer-"+this.id).bind("resize.ax5media-viewer-"+this.id,function(){this.align(),c.call(this)}.bind(this)),this.target.unbind("click").bind("click",function(t){t=t||window.event,r.call(this,t),i.stopEvent(t)}.bind(this)),this.$.viewer.unbind(a.mousedown).bind(a.mousedown,function(t){this.mousePosition=l(t),u.on.call(this,this.mousePosition)}.bind(this)).unbind("dragstart").bind("dragstart",function(t){return i.stopEvent(t),!1}),this.select(d.call(this)),this},this.align=function(){if(this.$["viewer-holder"].css({height:this.$.viewer.width()/n.viewer.ratio}),this.$.viewer.css({height:this.$.viewer.width()/n.viewer.ratio}),"image"==this.$.viewer.data("media-type")){var t=this.$.viewer.find("img");t.css({width:this.$.viewer.height()*this.$.viewer.data("img-ratio"),height:this.$.viewer.height()}),setTimeout(function(t){t.css({left:(this.$.viewer.width()-t.width())/2})}.bind(this,t),1)}else"video"==this.$.viewer.data("media-type")&&this.$.viewer.find("iframe").css({width:this.$.viewer.height()*this.$.viewer.data("img-ratio"),height:this.$.viewer.height()});this.$["viewer-loading"].css({height:this.$.viewer.height()});var e="%"==i.right(n.media.width,1)?i.number(n.media.width)/100*this.$.viewer.width():i.number(n.media.width),o="%"==i.right(n.media.height,1)?i.number(n.media.height)/100*this.$.viewer.width():i.number(n.media.height);return e=Math.floor(e),o=Math.floor(o),this.$["list-prev-handle"].css({width:1.5*e}),this.$["list-next-handle"].css({width:1.5*e}),this.$.list.css({height:o}),this.$["list-table"].find("[data-media-thumbnail]").css({width:e,height:o}),this.$["list-table"].find("[data-media-thumbnail-video]").css({width:e,height:o}),this},this.select=function(){var t={image:function(t,e){o.$["viewer-loading"].show();var i=[this.$.viewer.width(),this.$.viewer.height()],a=new Image;return a.src=t.image[n.columnKeys.src],a.onload=function(){o.$["viewer-loading"].fadeOut();var t=i[1],n=t*a.width/a.height;e(a,Math.floor(n),t)},a},video:function(t,e){o.$["viewer-loading"].show();var i=[this.$.viewer.width(),this.$.viewer.height()],a=jQuery(t.video[n.columnKeys.html]);e(a,i[0],i[1]),o.$["viewer-loading"].fadeOut()}},e={image:function(t,e,i){t.width=e,t.height=i;var n=$(t);this.$.viewer.html(n),n.css({left:(this.$.viewer.width()-e)/2}),this.$.viewer.data("media-type","image"),this.$.viewer.data("img-ratio",e/i)},video:function(t,e,i){t.css({width:e,height:i}),this.$.viewer.html(t),this.$.viewer.data("media-type","video"),this.$.viewer.data("img-ratio",e/i)}},i=function(t){this.$.list.find("[data-media-thumbnail]").removeClass("selected"),this.$.list.find("[data-media-thumbnail="+t+"]").addClass("selected"),c.call(this)};return function(o){if("undefined"==typeof o)return this;this.selectedIndex=Number(o);var a=n.media.list[o];i.call(this,o);for(var l in t)if(a[l]){t[l].call(this,a,e[l].bind(this));break}return this}}(),this.setMediaList=function(t){return n.media.list=[].concat(t),this.attach(n.target),this},this.main=function(){e.mediaViewer_instance=e.mediaViewer_instance||[],e.mediaViewer_instance.push(this),arguments&&i.isObject(arguments[0])?this.setConfig(arguments[0]):this.init()}.apply(this,arguments)};return n}()),t=ax5.ui.mediaViewer}(),function(){var t=ax5.ui.mediaViewer,e=function(t){return'\n            <div data-ax5-ui-media-viewer="{{id}}" class="{{theme}}">\n                <div data-media-viewer-els="viewer-holder">\n                <div data-media-viewer-els="viewer"></div>\n                </div>\n                <div data-media-viewer-els="viewer-loading">\n                <div class="ax5-ui-media-viewer-loading-holder">\n                <div class="ax5-ui-media-viewer-loading-cell">\n                {{{loading.icon}}}\n            {{{loading.text}}}\n            </div>\n            </div>\n            </div>\n            {{#media}}\n            <div data-media-viewer-els="media-list-holder">\n                <div data-media-viewer-els="media-list-prev-handle">{{{prevHandle}}}</div>\n            <div data-media-viewer-els="media-list">\n                <div data-media-viewer-els="media-list-table">\n                {{#list}}\n            <div data-media-viewer-els="media-list-table-td">\n                {{#image}}\n            <div data-media-thumbnail="{{@i}}">\n                <img src="{{'+t.poster+'}}" data-media-thumbnail-image="{{@i}}" />\n                </div>\n                {{/image}}\n            {{#video}}\n            <div data-media-thumbnail="{{@i}}">{{#'+t.poster+'}}<img src="{{.}}" data-media-thumbnail-video="{{@i}}" />>{{/'+t.poster+"}}{{^"+t.poster+'}}<a data-media-thumbnail-video="{{@i}}">{{{media.'+t.poster+"}}}</a>{{/"+t.poster+'}}</div>\n            {{/video}}\n            </div>\n                {{/list}}\n            </div>\n                </div>\n                <div data-media-viewer-els="media-list-next-handle">{{{nextHandle}}}</div>\n                </div>\n                {{/media}}\n            </div>\n        ';
};t.tmpl={frame:e,get:function(e,i,n){return ax5.mustache.render(t.tmpl[e].call(this,n),i)}}}(),function(){var t=ax5.ui,e=ax5.util,i=void 0;t.addClass({className:"uploader",version:"1.3.82"},function(){var n=function(){var n=this,o=void 0;this.instanceId=ax5.getGuid(),this.config={clickEventName:"click",theme:"default",lang:{upload:"Upload",abort:"Abort"},uploadedBox:{columnKeys:{name:"name",type:"type",size:"size",uploadedName:"uploadedName",uploadedPath:"uploadedPath",downloadPath:"downloadPath",previewPath:"previewPath",thumbnail:"thumbnail"}},animateTime:100,accept:"*/*",multiple:!1,manualUpload:!1,progressBox:!0},this.defaultBtns={upload:{label:this.config.lang.upload,theme:"btn-primary"},abort:{label:this.config.lang.abort,theme:this.config.theme}},this.uploadedFiles=[],this.$target=null,this.$inputContainer=null,this.$inputFile=null,this.$inputFileForm=null,this.$fileSelector=null,this.$dropZone=null,this.$uploadedBox=null,this.__uploading=!1,this.selectedFiles=[],this.selectedFilesTotal=0,this.__loaded=0,o=this.config;var a=function(t){return o.onStateChanged?o.onStateChanged.call(t,t):this.onStateChanged&&this.onStateChanged.call(t,t),t=null,!0}.bind(this),l=function(t){var i=void 0;return ax5.info.supportFileApi?"dataTransfer"in t?i=t.dataTransfer.files:"target"in t?i=t.target.files:t&&(i=t):i={path:t.target.value},i?(length in i?this.selectedFiles=e.toArray(i):this.selectedFiles=[i],o.progressBox&&c(),o.manualUpload||this.send(),void(ax5.info.supportFileApi||r(!1))):!1}.bind(this),s=function(){this.$fileSelector.off("click.ax5uploader").on("click.ax5uploader",function(){this.$inputFile.trigger("click")}.bind(this)),ax5.info.supportFileApi||(this.$fileSelector.off("mouseover.ax5uploader").on("mouseover.ax5uploader",function(){r(!0)}.bind(this)),this.$inputFile.off("mouseover.ax5uploader").on("mouseover.ax5uploader",function(){this.$fileSelector.addClass("active")}.bind(this)),this.$inputFile.off("mouseout.ax5uploader").on("mouseout.ax5uploader",function(){this.$fileSelector.removeClass("active"),r(!1)}.bind(this))),function(){return this.$uploadedBox&&this.$uploadedBox.get(0)?(this.$uploadedBox.on("click","[data-uploaded-item-cell]",function(){var t=jQuery(this),e=t.attr("data-uploaded-item-cell"),i=Number(t.parents("[data-ax5uploader-uploaded-item]").attr("data-ax5uploader-uploaded-item")),a={};o.uploadedBox&&o.uploadedBox.onclick&&(a={self:n,cellType:e,uploadedFiles:n.uploadedFiles,fileIndex:i},o.uploadedBox.onclick.call(a,a)),t=null,e=null,i=null,a=null}),void this.$uploadedBox.on("dragstart",function(t){return e.stopEvent(t),!1})):!1}.call(this),function(){if(!ax5.info.supportFileApi)return!1;if(!this.$dropZone||!this.$dropZone.get(0))return!1;this.$dropZone.parent().on("click","[data-ax5uploader-dropzone]",function(t){var i=jQuery(t.target);0!=i.parents("[data-ax5uploader-uploaded-item]").length||i.attr("data-ax5uploader-uploaded-item")||(this==t.target||$.contains(this,t.target))&&(e.isFunction(o.dropZone.onclick)?o.dropZone.onclick.call({self:n}):n.$inputFile.trigger("click"))}),this.$dropZone.get(0).addEventListener("dragover",function(t){e.stopEvent(t),e.isFunction(o.dropZone.ondragover)?o.dropZone.ondragover.call({self:n}):n.$dropZone.addClass("dragover")},!1),this.$dropZone.get(0).addEventListener("dragleave",function(t){e.stopEvent(t),e.isFunction(o.dropZone.ondragover)?o.dropZone.ondragout.call({self:n}):n.$dropZone.removeClass("dragover")},!1),this.$dropZone.get(0).addEventListener("drop",function(t){e.stopEvent(t),e.isFunction(o.dropZone.ondrop)?o.dropZone.ondrop.call({self:n}):n.$dropZone.removeClass("dragover"),l(t||window.event)},!1)}.call(this)}.bind(this),r=function(t){if(t){if(!ax5.info.supportFileApi){var e=this.$fileSelector.offset();e.width=this.$fileSelector.outerWidth(),e.height=this.$fileSelector.outerHeight(),this.$inputFile.css(e)}}else this.$inputFile.css({left:-1e3,top:-1e3})}.bind(this),d=function(t){var e=function(){var e=jQuery(window),i=jQuery(document.body),n={},a=6,l={},s={},r=void 0;n=this.$progressBox.parent().get(0)==this.$target.get(0)?this.$fileSelector.position():this.$fileSelector.offset(),l={width:this.$fileSelector.outerWidth(),height:this.$fileSelector.outerHeight()},s={winWidth:Math.max(e.width(),i.width()),winHeight:Math.max(e.height(),i.height()),width:this.$progressBox.outerWidth(),height:this.$progressBox.outerHeight()},o.progressBoxDirection&&""!==o.progressBoxDirection&&"auto"!==o.progressBoxDirection?r=o.progressBoxDirection:(r="top",n.top-s.height-a<0?r="top":n.top+l.height+s.height+a>s.winHeight&&(r="bottom")),t&&this.$progressBox.addClass("direction-"+r);var d=function(){var t={left:0,top:0};switch(r){case"top":t.left=n.left+l.width/2-s.width/2,t.top=n.top+l.height+a;break;case"bottom":t.left=n.left+l.width/2-s.width/2,t.top=n.top-s.height-a;break;case"left":t.left=n.left+l.width+a,t.top=n.top-s.height/2+l.height/2;break;case"right":t.left=n.left-s.width-a,t.top=n.top-s.height/2+l.height/2}return t}();(function(){("top"==r||"bottom"==r)&&(d.left<0?(d.left=a,this.$progressBoxArrow.css({left:n.left+l.width/2-d.left})):d.left+s.width>s.winWidth&&(d.left=s.winWidth-s.width-a,this.$progressBoxArrow.css({left:n.left+l.width/2-d.left})))}).call(this),this.$progressBox.css(d)};this.$progressBox.css({top:-999}),t&&(function(){return o.viewport?jQuery(o.viewport.selector):this.$target}.call(this).append(this.$progressBox),this.$progressBox.off("click.ax5uploader").on("click.ax5uploader","button",function(t){var e=t.target.getAttribute("data-pregressbox-btn"),i={upload:function(){this.send()},abort:function(){this.abort()}};i[e]&&i[e].call(this)}.bind(this))),setTimeout(function(){e.call(this)}.bind(this))}.bind(this),c=function(){this.$progressBox.removeClass("destroy"),this.$progressUpload.removeAttr("disabled"),this.$progressAbort.removeAttr("disabled"),d("append"),a({self:this,state:"open"})}.bind(this),u=function(){this.$progressBox.addClass("destroy"),setTimeout(function(){this.$progressBox.remove()}.bind(this),o.animateTime)}.bind(this),h=function(){var t={html5:function(){var t=this.selectedFiles.shift();if(!t)return g(),this;var i=new FormData;this.$target.find("input").each(function(){i.append(this.name,this.value)}),i.append(o.form.fileName,t),this.xhr=new XMLHttpRequest,this.xhr.open("post",o.form.action,!0),this.xhr.onload=function(t){var i=t.target.response;try{"string"==typeof i&&(i=e.parseJson(i))}catch(t){return!1}return o.debug&&console.log(i),i.error?(o.debug&&console.log(i.error),e.isFunction(o.onuploaderror)&&o.onuploaderror.call({self:this,error:i.error},i),n.send(),!1):(f(i),void n.send())},this.xhr.upload.onprogress=function(t){p(t),e.isFunction(o.onprogress)&&o.onprogress.call({loaded:t.loaded,total:t.total},t)},this.xhr.send(i)},form:function(){this.__uploading=!0;var t=jQuery('<iframe src="javascript:false;" name="ax5uploader-'+this.instanceId+'-iframe" style="display:none;"></iframe>');jQuery(document.body).append(t),t.load(function(){var e=this.contentWindow?this.contentWindow.document:this.contentDocument?this.contentDocument:this.document,i=e.documentElement?e.documentElement:e.body,n=i.textContent?i.textContent:i.innerText,a=void 0;try{a=JSON.parse(n)}catch(l){a={error:"Syntax error",body:n}}o.debug&&console.log(a),a.error?console.log(a):(f(a),t.remove(),setTimeout(function(){g()},300))}),this.$inputFileForm.attr("target","ax5uploader-"+this.instanceId+"-iframe").attr("action",o.form.action).submit(),this.selectedFilesTotal=1,p({loaded:1,total:1})}};if(this.__uploading===!1){var i=0;this.selectedFiles.forEach(function(t){i+=t.size}),this.selectedFilesTotal=i,this.__loaded=0,this.__uploading=!0,this.$progressUpload.attr("disabled","disabled"),this.$progressAbort.removeAttr("disabled")}t[ax5.info.supportFileApi?"html5":"form"].call(this)}.bind(this),p=function(t){this.__loaded+=t.loaded,this.$progressBar.css({width:e.number(this.__loaded/this.selectedFilesTotal*100,{round:2})+"%"}),t.lengthComputable&&t.loaded>=t.total}.bind(this),f=function(t){o.debug&&console.log(t),this.uploadedFiles.push(t),x(),e.isFunction(o.onuploaded)&&o.onuploaded.call({self:this},t)}.bind(this),g=function(){this.__uploading=!1,this.$progressUpload.removeAttr("disabled"),this.$progressAbort.attr("disabled","disabled"),o.progressBox&&u(),e.isFunction(o.onuploadComplete)&&o.onuploadComplete.call({self:this}),v()}.bind(this),m=function(){var t={html5:function(){this.xhr&&this.xhr.abort()},form:function(){}};this.__uploading=!1,this.$progressUpload.removeAttr("disabled"),this.$progressAbort.attr("disabled","disabled"),t[ax5.info.supportFileApi?"html5":"form"].call(this),o.progressBox&&u(),v(),o.debug&&console.log("cancelUpload")}.bind(this),x=function(){return null===this.$uploadedBox?this:(this.$uploadedBox.html(i.tmpl.get("upoadedBox",{uploadedFiles:this.uploadedFiles,icon:o.uploadedBox.icon,lang:o.uploadedBox.lang,supportFileApi:!!ax5.info.supportFileApi},o.uploadedBox.columnKeys)),void this.$uploadedBox.find("img").on("error",function(){$(this).parent().addClass("no-image")}))}.bind(this),v=function(){this.$inputFile&&this.$inputFile.get(0)&&this.$inputFile.remove(),this.$inputFileForm&&this.$inputFileForm.get(0)&&this.$inputFileForm.remove(),this.$inputFile=jQuery(i.tmpl.get.call(this,"inputFile",{instanceId:this.instanceId,multiple:o.multiple,accept:o.accept,name:o.form.fileName})),ax5.info.supportFileApi?jQuery(document.body).append(this.$inputFile):(this.$fileSelector.attr("tabindex",-1),this.$inputFileForm=jQuery(i.tmpl.get.call(this,"inputFileForm",{instanceId:this.instanceId})),this.$inputFileForm.append(this.$inputFile),jQuery(document.body).append(this.$inputFileForm)),this.$inputFile.off("change.ax5uploader").on("change.ax5uploader",function(t){l(t)}.bind(this))}.bind(this);this.init=function(t){return o=jQuery.extend(!0,{},o,t),o.target?(this.$target=jQuery(o.target),o.dropZone&&o.dropZone.target&&ax5.info.supportFileApi&&(this.$dropZone=jQuery(o.dropZone.target),this.$dropZone.attr("data-ax5uploader-dropzone",this.instanceId)),o.uploadedBox&&o.uploadedBox.target&&(this.$uploadedBox=jQuery(o.uploadedBox.target)),function(t){e.isObject(t)&&!t.error&&(o=jQuery.extend(!0,o,t))}.call(this,e.parseJson(this.$target.attr("data-ax5uploader-config"),!0)),this.$fileSelector=this.$target.find('[data-ax5uploader-button="selector"]'),0===this.$fileSelector.length?(console.log(ax5.info.getError("ax5uploader","402","can not find file selector")),this):(v(),o.btns=jQuery.extend({},this.defaultBtns,o.btns),this.$progressBox=jQuery(i.tmpl.get.call(this,"progressBox",{instanceId:this.instanceId,btns:o.btns})),this.$progressBar=this.$progressBox.find('[role="progressbar"]'),this.$progressBoxArrow=this.$progressBox.find(".ax-progressbox-arrow"),this.$progressUpload=this.$progressBox.find('[data-pregressbox-btn="upload"]'),this.$progressAbort=this.$progressBox.find('[data-pregressbox-btn="abort"]'),ax5.info.supportFileApi||this.$progressAbort.hide(),s(),x(),this)):(console.log(ax5.info.getError("ax5uploader","401","init")),this)},this.send=function(){return function(){if(e.isFunction(o.validateSelectedFiles)){var t={self:this,uploadedFiles:this.uploadedFiles,selectedFiles:this.selectedFiles};if(!o.validateSelectedFiles.call(t,t))return m(),!1}return h(),this}}(),this.abort=function(){return function(){return ax5.info.supportFileApi?(m(),this):(alert("This browser not supported abort method"),this)}}(),this.setUploadedFiles=function(t){if(e.isArray(t)&&(this.uploadedFiles=t),e.isString(t))try{this.uploadedFiles=JSON.parse(t)}catch(i){}return x(),this},this.removeFile=function(t){return isNaN(Number(t))||this.uploadedFiles.splice(t,1),x(),this},this.removeFileAll=function(){return this.uploadedFiles=[],x(),this},this.selectFile=function(){return ax5.info.supportFileApi?(this.$inputFile.trigger("click"),!0):!1},this.main=function(){t.uploader_instance=t.uploader_instance||[],t.uploader_instance.push(this),arguments&&e.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return n}()),i=ax5.ui.uploader}(),function(){var t=ax5.ui.uploader,e=function(){return"\n        "},i=function(){return'<input type="file" data-ax5uploader-input="{{instanceId}}" name="{{name}}" {{#multiple}}multiple{{/multiple}} accept="{{accept}}" />'},n=function(){return'<form data-ax5uploader-form="{{instanceId}}" name="ax5uploader-{{instanceId}}-form" method="post" enctype="multipart/form-data"></form>'},o=function(){return'\n<div data-ax5uploader-progressbox="{{instanceId}}" class="{{theme}}">\n    <div class="ax-progressbox-body">\n        <div class="ax-pregressbox-content">\n            <div class="progress">\n              <div class="progress-bar progress-bar-striped active" role="progressbar" style="width: 0">\n                <span class="sr-only">0% Complete</span>\n              </div>\n            </div>\n        </div>\n        {{#btns}}\n            <div class="ax-progressbox-buttons">\n            {{#btns}}\n                {{#@each}}\n                <button data-pregressbox-btn="{{@key}}" class="btn btn-default {{@value.theme}}">{{@value.label}}</button>\n                {{/@each}}\n            {{/btns}}\n            </div>\n        {{/btns}}\n    </div>\n    <div class="ax-progressbox-arrow"></div>\n</div>\n'},a=function(t){return'\n{{#uploadedFiles}}<div data-ax5uploader-uploaded-item="{{@i}}">\n    <div class="uploaded-item-preview">\n        {{#'+t.thumbnail+'}}<img src="'+t.apiServerUrl+"{{"+t.thumbnail+'}}">{{/'+t.thumbnail+'}}\n    </div>\n    <div class="uploaded-item-holder">\n        <div class="uploaded-item-cell" data-uploaded-item-cell="download">{{{icon.download}}}</div>\n        <div class="uploaded-item-cell" data-uploaded-item-cell="filename">{{'+t.name+'}}</div>\n        <div class="uploaded-item-cell" data-uploaded-item-cell="filesize">({{#@fn_get_byte}}{{'+t.size+'}}{{/@fn_get_byte}})</div>\n        <div class="uploaded-item-cell" data-uploaded-item-cell="delete">{{{icon.delete}}}</div>\n    </div>\n</div>{{/uploadedFiles}}\n{{^uploadedFiles}}\n{{#supportFileApi}}{{{lang.supportedHTML5_emptyListMsg}}}{{/supportFileApi}}\n{{^supportFileApi}}{{{lang.emptyListMsg}}}{{/supportFileApi}}\n{{/uploadedFiles}}\n'};t.tmpl={uploadProgress:e,inputFile:i,inputFileForm:n,progressBox:o,upoadedBox:a,get:function(e,i,n){return i["@fn_get_byte"]=function(){return function(t,e){return ax5.util.number(e(t),{round:2,"byte":!0})}},ax5.mustache.render(t.tmpl[e].call(this,n),i)}}}(),function(){var t,e=ax5.ui,i=ax5.util;e.addClass({className:"combobox",version:"1.3.82"},function(){var e=function(){var e,n=this;this.instanceId=ax5.getGuid(),this.config={theme:"default",animateTime:250,removeIcon:"X",lang:{noSelected:"",noOptions:"no options",loading:"now loading.."},columnKeys:{optionValue:"value",optionText:"text",optionSelected:"selected"}},this.queue=[],this.activecomboboxOptionGroup=null,this.activecomboboxQueueIndex=-1,this.openTimer=null,this.closeTimer=null,this.waitOptionsCallback=null,this.keyUpTimer=null,e=this.config;var o=jQuery(window),a=function(t,e){return t&&t.onStateChanged?t.onStateChanged.call(e,e):this.onStateChanged&&this.onStateChanged.call(e,e),"changeValue"==e.state&&(t&&t.onChange?t.onChange.call(e,e):this.onChange&&this.onChange.call(e,e)),t=null,e=null,!0},l=function(){for(var t,e=this.queue.length;e--;){var n=this.queue[e];if(n.$display&&(t=Math.max(n.$select.outerWidth(),i.number(n.minWidth)),n.$display.css({"min-width":t}),n.reset&&n.$display.find(".addon-icon-reset").css({"line-height":this.queue[e].$display.height()+"px"}),n.multiple)){var o=function(){return i.number(n.$display.css("border-top-width"))+i.number(n.$display.css("border-bottom-width"))}.call(this);n.$target.height(""),n.$display.height("");var a=n.$displayTable.outerHeight();Math.abs(a-n.$target.height())>o&&(n.$target.css({height:a+o+4}),n.$display.css({height:a+o+4}))}}return e=null,t=null,this},s=function(t){if(!this.activecomboboxOptionGroup)return this;var e,i=this.queue[this.activecomboboxQueueIndex],n={},a=0,l={},s={};t&&jQuery(document.body).append(this.activecomboboxOptionGroup),n=i.$target.offset(),l={width:i.$target.outerWidth(),height:i.$target.outerHeight()},s={winWidth:Math.max(o.width(),jQuery(document.body).width()),winHeight:Math.max(o.height(),jQuery(document.body).height()),width:this.activecomboboxOptionGroup.outerWidth(),height:this.activecomboboxOptionGroup.outerHeight()},i.direction&&""!==i.direction&&"auto"!==i.direction?e=i.direction:(e="top",n.top-s.height-a<0?e="top":n.top+l.height+s.height+a>s.winHeight&&(e="bottom")),t&&this.activecomboboxOptionGroup.addClass("direction-"+e),this.activecomboboxOptionGroup.css(function(){if("top"==e){if(n.top+l.height+s.height+a>s.winHeight){var t=n.top+l.height/2-s.height/2;return t+s.height+a>s.winHeight&&(t=0),0>t&&(t=0),{left:n.left,top:t,width:l.width}}return{left:n.left,top:n.top+l.height+1,width:l.width}}return"bottom"==e?{left:n.left,top:n.top-s.height-1,width:l.width}:void 0}.call(this))},r=function(t,e){if(!this.activecomboboxOptionGroup)return this;var n=this.queue[this.activecomboboxQueueIndex],o="display";return(e=i.findParentNode(t.target,function(t){return t.getAttribute("data-option-value")?(o="optionItem",!0):n.$target.get(0)==t?(o="display",!0):void 0}))?("optionItem"===o&&(_.call(this,n.id,{index:{gindex:e.getAttribute("data-option-group-index"),index:e.getAttribute("data-option-index")}},void 0,!0),l.call(this),s.call(this),n.multiple||this.close()),this):(this.close(),this)},d=function(e){var i=this.queue[e],n={};return n.id=i.id,n.theme=i.theme,n.size="ax5combobox-option-group-"+i.size,n.multiple=i.multiple,n.lang=i.lang,n.options=i.options,n.selected=i.selected,n.hasSelected=n.selected&&n.selected.length>0,n.removeIcon=i.removeIcon,t.tmpl.get.call(this,"label",n,i.columnKeys)},c=function(t){var e=this.queue[t];e.$displayLabel.find("[data-ax5combobox-selected-label]").remove(),e.$displayLabelInput.before(d.call(this,t))},u=function(t){return this.queue[t].disabled?this:(this.queue[t].$displayLabel.trigger("focus"),void this.queue[t].$displayLabelInput.focus())},h=function(t){this.queue[t].$displayLabelInput.val("")},p=function(t){this.queue[t].$displayLabel.trigger("blur"),this.queue[t].$displayLabelInput.trigger("blur")},f=function(e,n){this.queue[e].waitOptions=!0,this.activecomboboxOptionGroup.find('[data-els="content"]').html(jQuery(t.tmpl.get.call(this,"option",this.queue[e],this.queue[e].columnKeys))),this.queue[e].onSearch.call({self:this,item:this.queue[e],searchWord:n},function(e){var n={},o=this.queue[this.activecomboboxQueueIndex];return o?(function(t,e){var n={};e.options.forEach(function(e,i){e["@index"]=i,n[e[t.columnKeys.optionValue]]=e}),i.isArray(t.selected)&&t.selected.forEach(function(i){n[i[t.columnKeys.optionValue]]&&(e.options[n[i[t.columnKeys.optionValue]]["@index"]][t.columnKeys.optionSelected]=!0)})}(o,e),o.options=v.call(this,this.activecomboboxQueueIndex,e.options),l.call(this),n.id=o.id,n.theme=o.theme,n.size="ax5combobox-option-group-"+o.size,n.multiple=o.multiple,n.lang=o.lang,n.options=o.options,void this.activecomboboxOptionGroup.find('[data-els="content"]').html(jQuery(t.tmpl.get.call(this,"options",n,o.columnKeys)))):!1}.bind(this))},g=function(t,e){if(-1==this.activecomboboxQueueIndex)return this;var i,n=[],o=-1,a=this.queue[t].indexedOptions.length-1;if(""!=e){var l=/[\{\}\[\]\/?.,;:|\)*~`!^\-_+<>@\#$%&\\\=\(\'\"]/gi;if(e=e.replace(l,""),this.queue[t].onSearch){f.call(this,t,e);try{return n}finally{n=null,o=null,a=null,i=null}}for(;a-o++;){if(i=this.queue[t].indexedOptions[o],(""+i.text).toLowerCase()==e.toLowerCase()){n=[{"@findex":i["@findex"],optionsSort:0}];break}var s=(""+i.text).toLowerCase().search(e.toLowerCase());if(s>-1&&(n.push({"@findex":i["@findex"],optionsSort:s}),n.length>2))break;s=null}n.sort(function(t,e){return t.optionsSort-e.optionsSort})}n&&n.length>0?x.call(this,t,void 0,n[0]["@findex"]):m.call(this,t);try{return n}finally{n=null,o=null,a=null,i=null}},m=function(t){this.activecomboboxOptionGroup&&this.activecomboboxOptionGroup.find("[data-option-focus-index]").removeClass("hover").removeAttr("data-option-selected"),this.queue[t].optionFocusIndex=-1},x=function(t,e,i){var n,o,a,l,s=this.queue[t];if(this.activecomboboxOptionGroup&&s.options&&s.options.length>0){if("undefined"!=typeof i?n=i:(o=-1==s.optionFocusIndex?s.optionSelectedIndex||-1:s.optionFocusIndex,-1==o?n=0:(n=o+e,0>n?n=0:n>s.optionItemLength-1&&(n=s.optionItemLength-1))),s.optionFocusIndex=n,s.options[n]&&s.options[n].hide){if("undefined"==typeof e)return this;for(;s.options[n].hide;){if(n+=e,0>n){n=0;break}if(n>s.optionItemLength-1){n=s.optionItemLength-1;break}}}if("undefined"!=typeof n&&(this.activecomboboxOptionGroup.find("[data-option-focus-index]").removeClass("hover"),a=this.activecomboboxOptionGroup.find('[data-option-focus-index="'+n+'"]').addClass("hover"),l=this.activecomboboxOptionGroup.find('[data-els="content"]'),a.get(0))){var r=a.outerHeight(),d=l.innerHeight(),c=l.scrollTop(),u=a.position().top+l.scrollTop();u+r>d+c?l.scrollTop(u+r-d):c>u&&l.scrollTop(u),"undefined"!=typeof e&&s.$displayLabelInput.val(s.options[n].text)}}},v=function(){var t=function(t,e){e?this.queue[t].selected.push(jQuery.extend({},e)):this.queue[t].selected=[]};return function(e,o){var a,l,s,r=this.queue[e],d=0;return t.call(this,e,!1),o?(r.options=o,r.indexedOptions=[],a=[],a.push('<option value=""></option>'),r.options.forEach(function(i,o){i.optgroup?(i["@gindex"]=o,i.options.forEach(function(i,l){i["@index"]=l,i["@findex"]=d,a.push('<option value="'+i[r.columnKeys.optionValue]+'" '+(i[r.columnKeys.optionSelected]?' selected="selected"':"")+">"+i[r.columnKeys.optionText]+"</option>"),i[r.columnKeys.optionSelected]&&t.call(n,e,i),r.indexedOptions.push({"@gindex":o,"@index":l,"@findex":d,value:i[r.columnKeys.optionValue],text:i[r.columnKeys.optionText]}),d++})):(i["@index"]=o,i["@findex"]=d,a.push('<option value="'+i[r.columnKeys.optionValue]+'" '+(i[r.columnKeys.optionSelected]?' selected="selected"':"")+">"+i[r.columnKeys.optionText]+"</option>"),i[r.columnKeys.optionSelected]&&t.call(n,e,i),r.indexedOptions.push({"@index":o,"@findex":d,value:i[r.columnKeys.optionValue],text:i[r.columnKeys.optionText]}),d++)}),r.optionItemLength=d,r.$select.html(a.join(""))):(r.$select.get(0).options&&r.$select.get(0).options.length&&(r.$select.get(0).options[0].selected=!1),l=i.toArray(r.$select.get(0).options),s=[],l.forEach(function(i,o){var a={};a[r.columnKeys.optionValue]=i.value,a[r.columnKeys.optionText]=i.text,a[r.columnKeys.optionSelected]=i.selected,a["@index"]=o,a["@findex"]=d,i.selected&&t.call(n,e,a),s.push(a),d++,a=null}),r.options=s,r.indexedOptions=s,r.$select.prepend('<option value=""></option>'),r.$select.get(0).options[0].selected=!0),a=null,l=null,s=null,r.options}}(),b=function(t){return t instanceof jQuery?t=t.data("data-ax5combobox-id"):i.isString(t)||(t=jQuery(t).data("data-ax5combobox-id")),i.isString(t)?i.search(this.queue,function(){return this.id==t}):void console.log(ax5.info.getError("ax5combobox","402","getQueIdx"))},y=function(t,e,i){return"undefined"==typeof i?t.multiple?!e:!0:i},w=function(t){this.queue[t].options.forEach(function(t){t.optgroup?t.options.forEach(function(t){t.selected=!1}):t.selected=!1})},_=function(){var t={index:function(t,e,o,a){var l=this.queue[t];i.isString(e.index.gindex)?"undefined"!=typeof l.options[e.index.gindex]&&(l.options[e.index.gindex].options[e.index.index][l.columnKeys.optionSelected]=y(l,l.options[e.index.gindex].options[e.index.index][l.columnKeys.optionSelected],o),n.activecomboboxOptionGroup&&n.activecomboboxOptionGroup.find('[data-option-group-index="'+e.index.gindex+'"][data-option-index="'+e.index.index+'"]').attr("data-option-Selected",l.options[e.index.gindex].options[e.index.index][l.columnKeys.optionSelected].toString())):"undefined"!=typeof l.options[e.index.index]&&(l.options[e.index.index][l.columnKeys.optionSelected]=y(l,l.options[e.index.index][l.columnKeys.optionSelected],o),n.activecomboboxOptionGroup&&n.activecomboboxOptionGroup.find('[data-option-index="'+e.index.index+'"]').attr("data-option-Selected",l.options[e.index.index][l.columnKeys.optionSelected].toString())),("undefined"==typeof a||"justSetValue"!==a)&&(v.call(this,t,l.options),s.call(this))},arr:function(e,o,a){o.forEach(function(o){if(i.isString(o)||i.isNumber(o))t.text.call(n,e,o,a,"justSetValue");else for(var l in t)if(o[l]){t[l].call(n,e,o,a,"justSetValue");break}}),v.call(this,e,this.queue[e].options),s.call(this)},value:function(t,e,n,o){var a,l=this.queue[t],r=i.search(l.options,function(){return this[l.columnKeys.optionValue]==e[l.columnKeys.optionValue]});r>-1?l.options[r][l.columnKeys.optionSelected]=y(l,l.options[r][l.columnKeys.optionSelected],n):(r=l.options.length,a={"@index":r,hide:!0,addedOption:!0},a[l.columnKeys.optionValue]=e,a[l.columnKeys.optionText]=e,l.options.push(a),l.options[r][l.columnKeys.optionSelected]=y(l,l.options[r][l.columnKeys.optionSelected],n)),("undefined"==typeof o||"justSetValue"!==o)&&(v.call(this,t,this.queue[t].options),s.call(this))},text:function(t,e,n,o){var a,l=this.queue[t],r=i.search(l.options,function(){return this[l.columnKeys.optionText]==e});r>-1?l.options[r][l.columnKeys.optionSelected]=y(l,l.options[r][l.columnKeys.optionSelected],n):(r=l.options.length,a={"@index":r,hide:!0,addedOption:!0},a[l.columnKeys.optionValue]=e,a[l.columnKeys.optionText]=e,l.options.push(a),l.options[r][l.columnKeys.optionSelected]=y(l,l.options[r][l.columnKeys.optionSelected],n)),("undefined"==typeof o||"justSetValue"!==o)&&(v.call(this,t,this.queue[t].options),s.call(this))},clear:function(t){w.call(this,t),v.call(this,t,this.queue[t].options),m.call(this,t),this.activecomboboxOptionGroup&&this.activecomboboxOptionGroup.find("[data-option-index]").attr("data-option-Selected","false"),this.queue[t].optionSelectedIndex=-1}};return function(e,n,o,l){var s=i.isNumber(e)?e:b.call(this,e);if(-1===s)return void console.log(ax5.info.getError("ax5combobox","402","val"));if("undefined"==typeof n)throw"error not found value";if(i.isArray(n))t.clear.call(this,s),t.arr.call(this,s,this.queue[s].multiple||0==n.length?n:[n[n.length-1]],o);else if(i.isString(n)||i.isNumber(n))"undefined"==typeof n||null===n||this.queue[s].multiple||w.call(this,s),t.text.call(this,s,n,o,"justSetValue");else if(null===n)t.clear.call(this,s);else{this.queue[s].multiple||w.call(this,s);for(var r in t)if(n[r]){t[r].call(this,s,n,o,"justSetValue");break}}return v.call(this,s,this.queue[s].options),c.call(this,s),u.call(this,s),"undefined"!=typeof n&&l&&!l.noStateChange&&a.call(this,this.queue[s],{self:this,item:this.queue[s],state:"changeValue",value:this.queue[s].selected}),e=null,this}}();this.init=function(){this.onStateChanged=e.onStateChanged,this.onChange=e.onChange,jQuery(window).bind("resize.ax5combobox-display-"+this.instanceId,function(){l.call(this)}.bind(this))},this.bind=function(o){var a,r=function(){var e=i.debounce(function(t){return-1==this.activecomboboxQueueIndex?this:void g.call(n,t,this.queue[t].$displayLabelInput.val())},150),a=function(t){h.call(this,t)},r={click:function(t,e){var o,a=i.findParentNode(e.target,function(t){return t.getAttribute("data-ax5combobox-remove")?(o="optionItemRemove",!0):t.getAttribute("data-selected-clear")?(o="clear",!0):void 0});if(a){if("optionItemRemove"===o){var r=a.getAttribute("data-ax5combobox-remove-index"),d=this.queue[t].selected[r];return _.call(this,t,{index:{gindex:d["@gindex"],index:d["@index"]}},!1,!0),l.call(this),s.call(this),u.call(this,t),i.stopEvent(e),this}"clear"===o&&(_.call(this,t,{clear:!0}),l.call(this),s.call(this),u.call(this,t))}else n.activecomboboxQueueIndex==t?-1==this.queue[t].optionFocusIndex&&n.close():(n.open(t),u.call(this,t))},keyUp:function(t,o){if(o.which==ax5.info.eventKeys.ESC&&-1===n.activecomboboxQueueIndex)return i.stopEvent(o),this;n.activecomboboxQueueIndex!=t&&(n.open(t),i.stopEvent(o));var a={40:"KEY_DOWN",38:"KEY_UP"};if(!a[o.which])if(o.which==ax5.info.eventKeys.BACKSPACE&&""==this.queue[t].$displayLabelInput.val()){if(this.queue[t].selected.length>0){var r=this.queue[t].selected[this.queue[t].selected.length-1];_.call(this,t,{index:{gindex:r["@gindex"],index:r["@index"]}},!1,!0)}l.call(this),s.call(this),i.stopEvent(o)}else e.call(this,t)},keyDown:function(t,e){e.which==ax5.info.eventKeys.ESC?(h.call(this,t),this.close(),i.stopEvent(e)):e.which==ax5.info.eventKeys.RETURN?(_.call(this,o.id,{index:{gindex:o.indexedOptions[o.optionFocusIndex]["@gindex"],index:o.indexedOptions[o.optionFocusIndex]["@index"]}},void 0,!0),h.call(this,t),l.call(this),this.close(),i.stopEvent(e)):e.which==ax5.info.eventKeys.DOWN?(x.call(this,t,1),i.stopEvent(e)):e.which==ax5.info.eventKeys.UP&&(x.call(this,t,-1),i.stopEvent(e))},focus:function(){},blur:function(t,e){a.call(this,t),i.stopEvent(e)},selectChange:function(t){_.call(this,t,{value:this.queue[t].$select.val()},!0)}};return function(e){var i=this.queue[e],n={};return i.selected=[],i.$display?(i.$displayLabel.html(d.call(this,e)),i.options=v.call(this,e,i.options)):(n.instanceId=this.instanceId,n.id=i.id,n.name=i.name,n.theme=i.theme,n.tabIndex=i.tabIndex,n.multiple=i.multiple,n.reset=i.reset,n.label=d.call(this,e),n.formSize=function(){return i.size?"input-"+i.size:""}(),i.$display=jQuery(t.tmpl.get.call(this,"comboboxDisplay",n,i.columnKeys)),i.$displayTable=i.$display.find('[data-els="display-table"]'),i.$displayLabel=i.$display.find('[data-ax5combobox-display="label"]'),i.$displayLabelInput=i.$display.find('[data-ax5combobox-display="input"]'),i.$target.find("select").get(0)?(i.$select=i.$target.find("select"),i.$select.attr("tabindex","-1").attr("class","form-control "+n.formSize),n.name&&i.$select.attr("name","name"),n.multiple&&i.$select.attr("multiple","multiple")):(i.$select=jQuery(t.tmpl.get.call(this,"formSelect",n,i.columnKeys)),i.$target.append(i.$select)),i.$target.append(i.$display),i.options=v.call(this,e,i.options)),l.call(this),i.$display.unbind("click.ax5combobox").bind("click.ax5combobox",r.click.bind(this,e)),i.$displayLabelInput.unbind("focus.ax5combobox").bind("focus.ax5combobox",r.focus.bind(this,e)).unbind("blur.ax5combobox").bind("blur.ax5combobox",r.blur.bind(this,e)).unbind("keyup.ax5combobox").bind("keyup.ax5combobox",r.keyUp.bind(this,e)).unbind("keydown.ax5combobox").bind("keydown.ax5combobox",r.keyDown.bind(this,e)),i.$select.unbind("change.ax5combobox").bind("change.ax5combobox",r.selectChange.bind(this,e)),n=null,i=null,e=null,this}}(),c={};return o=jQuery.extend(!0,c,e,o),o.target?(o.$target=jQuery(o.target),o.id||(o.id=o.$target.data("data-ax5combobox-id")),o.id||(o.id="ax5combobox-"+ax5.getGuid(),o.$target.data("data-ax5combobox-id",o.id)),o.name=o.$target.attr("data-ax5combobox"),o.options&&(o.options=JSON.parse(JSON.stringify(o.options))),function(t){i.isObject(t)&&!t.error&&(o=jQuery.extend(!0,o,t))}(i.parseJson(o.$target.attr("data-ax5combobox-config"),!0)),a=i.search(this.queue,function(){return this.id==o.id}),-1===a?(this.queue.push(o),r.call(this,this.queue.length-1)):(this.queue[a]=jQuery.extend(!0,{},this.queue[a],o),r.call(this,a)),c=null,a=null,this):(console.log(ax5.info.getError("ax5combobox","401","bind")),this)},this.open=function(){var n=function(e){e.onExpand.call({self:this,item:e},function(e){if(this.waitOptionsCallback){var n={},o=this.queue[this.activecomboboxQueueIndex];!function(t,e){var n={};e.options.forEach(function(e,i){e["@index"]=i,n[e[t.columnKeys.optionValue]]=e}),i.isArray(t.selected)&&t.selected.forEach(function(i){n[i[t.columnKeys.optionValue]]&&(e.options[n[i[t.columnKeys.optionValue]]["@index"]][t.columnKeys.optionSelected]=!0)})}(o,e),o.options=v.call(this,this.activecomboboxQueueIndex,e.options),c.call(this,this.activecomboboxQueueIndex),l.call(this),n.id=o.id,n.theme=o.theme,n.size="ax5combobox-option-group-"+o.size,n.multiple=o.multiple,n.lang=o.lang,n.options=o.options,this.activecomboboxOptionGroup.find('[data-els="content"]').html(jQuery(t.tmpl.get.call(this,"options",n,o.columnKeys)))}}.bind(this))};return function(o,l){
this.waitOptionsCallback=null;var d,c,u=i.isNumber(o)?o:b.call(this,o),h=this.queue[u],p={};return h.$display.attr("disabled")?this:(this.openTimer&&clearTimeout(this.openTimer),this.activecomboboxOptionGroup?this.activecomboboxQueueIndex==u?this:l>2?this:(this.close(),this.openTimer=setTimeout(function(){this.open(u,(l||0)+1)}.bind(this),e.animateTime),this):(h.optionFocusIndex=-1,h.selected&&h.selected.length>0&&(h.optionSelectedIndex=h.selected[0]["@findex"]),p.id=h.id,p.theme=h.theme,p.size="ax5combobox-option-group-"+h.size,p.multiple=h.multiple,p.lang=h.lang,h.$display.attr("data-combobox-option-group-opened","true"),h.onExpand&&(p.waitOptions=!0),p.options=i.filter(h.options,function(){return!this.hide}),this.activecomboboxOptionGroup=jQuery(t.tmpl.get.call(this,"optionGroup",p,h.columnKeys)),this.activecomboboxOptionGroup.find('[data-els="content"]').html(jQuery(t.tmpl.get.call(this,"options",p,h.columnKeys))),this.activecomboboxQueueIndex=u,s.call(this,"append"),jQuery(window).bind("resize.ax5combobox-"+this.instanceId,function(){s.call(this)}.bind(this)),h.selected&&h.selected.length>0&&(c=this.activecomboboxOptionGroup.find('[data-option-index="'+h.selected[0]["@index"]+'"]'),c.get(0)&&(d=c.position().top-this.activecomboboxOptionGroup.height()/3,this.activecomboboxOptionGroup.find('[data-els="content"]').stop().animate({scrollTop:d},h.animateTime,"swing",function(){}))),jQuery(window).bind("click.ax5combobox-"+this.instanceId,function(t){t=t||window.event,r.call(this,t),i.stopEvent(t)}.bind(this)),a.call(this,h,{self:this,state:"open",item:h}),h.onExpand&&(this.waitOptionsCallback=!0,n.call(this,h)),p=null,d=null,c=null,this))}}(),this.update=function(t){return this.bind(t),this},this.setValue=function(t,e,n){var o=i.isNumber(t)?t:b.call(this,t);if(-1===o)return void console.log(ax5.info.getError("ax5combobox","402","val"));if(w.call(this,o),i.isArray(e)){var a=i.map(e,function(){return{value:this}});_.call(this,o,a,n||!0,{noStateChange:!0})}else i.isString(e)||i.isNumber(e)?_.call(this,o,{value:e},n||!0,{noStateChange:!0}):c.call(this,o);return p.call(this,o),l.call(this),this},this.setText=function(t,e){var n=i.isNumber(t)?t:b.call(this,t);return-1===n?void console.log(ax5.info.getError("ax5combobox","402","val")):(w.call(this,n),_.call(this,n,e,!0,{noStateChange:!0}),p.call(this,n),l.call(this),this)},this.getSelectedOption=function(t){var e=i.isNumber(t)?t:b.call(this,t);return-1===e?void console.log(ax5.info.getError("ax5combobox","402","val")):i.deepCopy(this.queue[e].selected)},this.close=function(t){return this.closeTimer&&clearTimeout(this.closeTimer),this.activecomboboxOptionGroup?(t=this.queue[this.activecomboboxQueueIndex],t.optionFocusIndex=-1,t.$display.removeAttr("data-combobox-option-group-opened").trigger("focus"),t.$displayLabel.attr("contentEditable","false"),this.activecomboboxOptionGroup.addClass("destroy"),jQuery(window).unbind("resize.ax5combobox-"+this.instanceId).unbind("click.ax5combobox-"+this.instanceId).unbind("keyup.ax5combobox-"+this.instanceId),this.closeTimer=setTimeout(function(){this.activecomboboxOptionGroup&&this.activecomboboxOptionGroup.remove(),this.activecomboboxOptionGroup=null,this.activecomboboxQueueIndex=-1,a.call(this,t,{self:this,state:"close"})}.bind(this),e.animateTime),this.waitOptionsCallback=null,this):this},this.blur=function(t){var e=i.isNumber(t)?t:b.call(this,t);return-1===e?void console.log(ax5.info.getError("ax5combobox","402","val")):(p.call(this,e),this)},this.enable=function(t){var e=b.call(this,t);return"undefined"!=typeof e&&(this.queue[e].disabled=!1,this.queue[e].$display[0]&&(this.queue[e].$display.removeAttr("disabled"),this.queue[e].$displayLabelInput.removeAttr("disabled")),this.queue[e].$select[0]&&this.queue[e].$select.removeAttr("disabled"),a.call(this,this.queue[e],{self:this,state:"enable"})),this},this.disable=function(t){var e=b.call(this,t);return"undefined"!=typeof e&&(this.queue[e].disabled=!0,this.queue[e].$display[0]&&(this.queue[e].$display.attr("disabled","disabled"),this.queue[e].$displayLabelInput.attr("disabled","disabled")),this.queue[e].$select[0]&&this.queue[e].$select.attr("disabled","disabled"),a.call(this,this.queue[e],{self:this,state:"disable"})),this},this.align=function(){return l.call(this),this},this.main=function(){arguments&&i.isObject(arguments[0])?this.setConfig(arguments[0]):this.init()}.apply(this,arguments)};return e}()),t=ax5.ui.combobox}(),ax5.ui.combobox_instance=new ax5.ui.combobox,jQuery.fn.ax5combobox=function(){return function(t){if(ax5.util.isString(arguments[0])){var e=arguments[0];switch(e){case"open":return ax5.ui.combobox_instance.open(this);case"close":return ax5.ui.combobox_instance.close(this);case"setValue":return ax5.ui.combobox_instance.setValue(this,arguments[1],arguments[2],arguments[3],arguments[4]||"justSetValue");case"setText":return ax5.ui.combobox_instance.setText(this,arguments[1],arguments[2],arguments[3],arguments[4]||"justSetValue");case"getSelectedOption":return ax5.ui.combobox_instance.getSelectedOption(this);case"enable":return ax5.ui.combobox_instance.enable(this);case"disable":return ax5.ui.combobox_instance.disable(this);case"blur":return ax5.ui.combobox_instance.blur(this);default:return this}}else"undefined"==typeof t&&(t={}),jQuery.each(this,function(){var e={target:this};t=jQuery.extend({},t,e),ax5.ui.combobox_instance.bind(t)});return this}}(),function(){var t=ax5.ui.combobox,e=(ax5.util,function(){return'\n            <div class="ax5combobox-option-group {{theme}} {{size}}" data-ax5combobox-option-group="{{id}}">\n                <div class="ax-combobox-body">\n                    <div class="ax-combobox-option-group-content" data-els="content"></div>\n                </div>\n                <div class="ax-combobox-arrow"></div> \n            </div>\n        '}),i=function(){return'\n<div class="form-control {{formSize}} ax5combobox-display {{theme}}" \ndata-ax5combobox-display="{{id}}" data-ax5combobox-instance="{{instanceId}}">\n    <div class="ax5combobox-display-table" data-els="display-table">\n        <div data-ax5combobox-display="label-holder"> \n            <a {{^tabIndex}}{{/tabIndex}}{{#tabIndex}}tabindex="{{tabIndex}}" {{/tabIndex}}\n            data-ax5combobox-display="label"\n            spellcheck="false"><input type="text"data-ax5combobox-display="input" style="border:0 none;" /></a>\n        </div>\n        <div data-ax5combobox-display="addon"> \n            {{#multiple}}{{#reset}}\n            <span class="addon-icon-reset" data-selected-clear="true">{{{.}}}</span>\n            {{/reset}}{{/multiple}}\n            {{#icons}}\n            <span class="addon-icon-closed">{{clesed}}</span>\n            <span class="addon-icon-opened">{{opened}}</span>\n            {{/icons}}\n            {{^icons}}\n            <span class="addon-icon-closed"><span class="addon-icon-arrow"></span></span>\n            <span class="addon-icon-opened"><span class="addon-icon-arrow"></span></span>\n            {{/icons}}\n        </div>\n    </div>\n</div>\n        '},n=function(){return'\n            <select tabindex="-1" class="form-control {{formSize}}" name="{{name}}" {{#multiple}}multiple="multiple"{{/multiple}}></select>\n        '},o=function(t){return'\n{{#selected}}\n<option value="{{'+t.optionValue+'}}" selected="true">{{'+t.optionText+"}}</option>\n{{/selected}}\n"},a=function(t){return'\n            {{#waitOptions}}\n                <div class="ax-combobox-option-item">\n                        <div class="ax-combobox-option-item-holder">\n                            <span class="ax-combobox-option-item-cell ax-combobox-option-item-label">\n                                {{{lang.loading}}}\n                            </span>\n                        </div>\n                    </div>\n            {{/waitOptions}}\n            {{^waitOptions}}\n                {{#options}}\n                    {{#optgroup}}\n                        <div class="ax-combobox-option-group">\n                            <div class="ax-combobox-option-item-holder">\n                                <span class="ax-combobox-option-group-label">\n                                    {{{.}}}\n                                </span>\n                            </div>\n                            {{#options}}\n                            {{^hide}}\n                            <div class="ax-combobox-option-item" data-option-focus-index="{{@findex}}" data-option-group-index="{{@gindex}}" data-option-index="{{@index}}" \n                            data-option-value="{{'+t.optionValue+'}}" \n                            {{#'+t.optionSelected+'}}data-option-selected="true"{{/'+t.optionSelected+'}}>\n                                <div class="ax-combobox-option-item-holder">\n                                    {{#multiple}}\n                                    <span class="ax-combobox-option-item-cell ax-combobox-option-item-checkbox">\n                                        <span class="item-checkbox-wrap useCheckBox" data-option-checkbox-index="{{@i}}"></span>\n                                    </span>\n                                    {{/multiple}}\n                                    <span class="ax-combobox-option-item-cell ax-combobox-option-item-label">{{'+t.optionText+'}}</span>\n                                </div>\n                            </div>\n                            {{/hide}}\n                            {{/options}}\n                        </div>                            \n                    {{/optgroup}}\n                    {{^optgroup}}\n                    {{^hide}}\n                    <div class="ax-combobox-option-item" data-option-focus-index="{{@findex}}" data-option-index="{{@index}}" data-option-value="{{'+t.optionValue+'}}" {{#'+t.optionSelected+'}}data-option-selected="true"{{/'+t.optionSelected+'}}>\n                        <div class="ax-combobox-option-item-holder">\n                            {{#multiple}}\n                            <span class="ax-combobox-option-item-cell ax-combobox-option-item-checkbox">\n                                <span class="item-checkbox-wrap useCheckBox" data-option-checkbox-index="{{@i}}"></span>\n                            </span>\n                            {{/multiple}}\n                            <span class="ax-combobox-option-item-cell ax-combobox-option-item-label">{{'+t.optionText+'}}</span>\n                        </div>\n                    </div>\n                    {{/hide}}\n                    {{/optgroup}}\n                {{/options}}\n                {{^options}}\n                    <div class="ax-combobox-option-item">\n                        <div class="ax-combobox-option-item-holder">\n                            <span class="ax-combobox-option-item-cell ax-combobox-option-item-label">\n                                {{{lang.noOptions}}}\n                            </span>\n                        </div>\n                    </div>\n                {{/options}}\n            {{/waitOptions}}\n        '},l=function(){return'{{#selected}}<div tabindex="-1" data-ax5combobox-selected-label="{{@i}}" data-ax5combobox-selected-text="{{text}}"><div data-ax5combobox-remove="true" \ndata-ax5combobox-remove-index="{{@i}}">{{{removeIcon}}}</div><span>{{text}}</span></div>{{/selected}}'};t.tmpl={comboboxDisplay:i,formSelect:n,formSelectOptions:o,optionGroup:e,options:a,label:l,get:function(e,i,n){return ax5.mustache.render(t.tmpl[e].call(this,n),i)}}}(),function(){var t=ax5.ui.combobox,e=(ax5.util,{1:function(t,e,i){var n=this.config,o=e;$(e).find("span").get(0)&&(o=$(e).find("span").get(0));var a,l,s=(o.textContent||o.innerText).replace(/^[\s\r\n\t]*|[\s\r\n\t]*$/g,""),r=this.queue[t];if(r.selected&&r.selected.length>0&&e.getAttribute("data-ax5combobox-selected-text")==s)return a=e.getAttribute("data-ax5combobox-selected-label"),l=r.selected[a],{index:{gindex:l["@gindex"],index:l["@index"],value:l[n.columnKeys.optionValue]}};if(e.getAttribute("data-ax5combobox-selected-text"))return s;if(""!=s){if(i)return s;var d;return r.optionFocusIndex>-1&&(d=this.activecomboboxOptionGroup.find('[data-option-focus-index="'+r.optionFocusIndex+'"]')),r.optionFocusIndex>-1&&d.get(0)&&d.attr("data-option-value")?{index:{gindex:d.attr("data-option-group-index"),index:d.attr("data-option-index")}}:r.editable?s:void 0}},3:function(t,e,i){var n=(this.config,(e.textContent||e.innerText).replace(/^[\s\r\n\t]*|[\s\r\n\t]*$/g,"")),o=this.queue[t];if(""!=n){if(i)return n;var a;return o.optionFocusIndex>-1&&(a=this.activecomboboxOptionGroup.find('[data-option-focus-index="'+o.optionFocusIndex+'"]')),o.optionFocusIndex>-1&&a.get(0)&&a.attr("data-option-value")?{index:{gindex:a.attr("data-option-group-index"),index:a.attr("data-option-index")}}:o.editable?n:void 0}}});t.util={nodeTypeProcessor:e}}(),function(){var t=ax5.ui,e=ax5.util;t.addClass({className:"layout",version:"1.3.82"},function(){var t=function(){var t,i=this,n={mousedown:ax5.info.supportTouch?"touchstart":"mousedown",mousemove:ax5.info.supportTouch?"touchmove":"mousemove",mouseup:ax5.info.supportTouch?"touchend":"mouseup"},o=function(t){var e="changedTouches"in t.originalEvent?t.originalEvent.changedTouches[0]:t;return{clientX:e.clientX,clientY:e.clientY}};this.instanceId=ax5.getGuid(),this.config={theme:"default",animateTime:250,splitter:{size:1},autoResize:!0},this.queue=[],this.openTimer=null,this.closeTimer=null,this.resizer=null,t=this.config;var a=function(){for(var t=this.queue.length;t--;)"undefined"==typeof this.queue[t].parentQueIdx&&this.queue[t].autoResize&&r.call(this,t,null,"windowResize")},l={width:function(t,e){return e?e.__width+(e.split?t.splitter.size:0):0},height:function(t,e){return e?e.__height+(e.split?t.splitter.size:0):0}},s=function(t,i){return"*"==t?void 0:"%"==e.right(t,1)?i*e.number(t)/100:Number(t)},r=function(){var t={split:{horizontal:function(t,e,i){e.splitter?e.__height=t.splitter.size:i==t.splitPanel.length-1&&0==t.splitPanel.asteriskLength?(e.height="*",e.__height=void 0,t.splitPanel.asteriskLength++):"*"==e.height&&t.splitPanel.asteriskLength++},vertical:function(t,e,i){e.splitter?e.__width=t.splitter.size:i==t.splitPanel.length-1&&0==t.splitPanel.asteriskLength?(e.width="*",e.__width=void 0,t.splitPanel.asteriskLength++):"*"==e.width&&t.splitPanel.asteriskLength++}}},i={top:function(t,e){e.$target.css({height:e.__height||0}),e.split&&e.$splitter.css({height:t.splitter.size,top:e.__height||0})},bottom:function(t,e){e.$target.css({height:e.__height||0}),e.split&&e.$splitter.css({height:t.splitter.size,bottom:e.__height||0})},left:function(t,e){var i={width:e.__width||0,height:t.targetDimension.height};t.dockPanel.top&&(i.height-=t.dockPanel.top.__height,i.top=t.dockPanel.top.__height,t.dockPanel.top.split&&(i.height-=t.splitter.size,i.top+=t.splitter.size)),t.dockPanel.bottom&&(i.height-=t.dockPanel.bottom.__height,t.dockPanel.bottom.split&&(i.height-=t.splitter.size)),e.$target.css(i),e.split&&e.$splitter.css({width:t.splitter.size,height:i.height,top:i.top,left:i.width})},right:function(t,e){var i={width:e.__width||0,height:t.targetDimension.height};t.dockPanel.top&&(i.height-=t.dockPanel.top.__height,i.top=t.dockPanel.top.__height,t.dockPanel.top.split&&(i.height-=t.splitter.size,i.top+=t.splitter.size)),t.dockPanel.bottom&&(i.height-=t.dockPanel.bottom.__height,t.dockPanel.bottom.split&&(i.height-=t.splitter.size)),e.$target.css(i),e.split&&e.$splitter.css({width:t.splitter.size,height:i.height,top:i.top,right:i.width})},center:function(t,e){var i={width:t.targetDimension.width,height:t.targetDimension.height};t.dockPanel.top&&(i.height-=t.dockPanel.top.__height||0,i.top=t.dockPanel.top.__height||0,t.dockPanel.top.split&&(i.height-=t.splitter.size,i.top+=t.splitter.size)),t.dockPanel.bottom&&(i.height-=t.dockPanel.bottom.__height||0,t.dockPanel.bottom.split&&(i.height-=t.splitter.size)),t.dockPanel.left&&(i.width-=t.dockPanel.left.__width||0,i.left=t.dockPanel.left.__width||0,t.dockPanel.left.split&&(i.width-=t.splitter.size,i.left+=t.splitter.size)),t.dockPanel.right&&(i.width-=t.dockPanel.right.__width||0,t.dockPanel.right.split&&(i.width-=t.splitter.size));var n=e.minWidth||0,o=e.minHeight||0;i.width<n&&(i.width=n,t.$target.css({minWidth:n+l.width(t.dockPanel.left,t.splitter.size)+l.width(t.dockPanel.right,t.splitter.size)})),i.height<o&&(i.height=o,t.$target.css({minHeight:o+l.height(t.dockPanel.top,t.splitter.size)+l.height(t.dockPanel.bottom,t.splitter.size)})),e.$target.css(i)},split:{horizontal:function(t,e,i,n,o){var a={display:"block"},l=i?Number(t.splitPanel[i-1].offsetEnd):0;e.splitter?a.height=t.splitter.size:"*"!=e.height||"undefined"!=typeof e.__height&&!o?a.height=e.__height||0:a.height=e.__height=(t.targetDimension.height-n)/t.splitPanel.asteriskLength,a.top=l,e.offsetStart=l,e.offsetEnd=Number(l)+Number(a.height),e.$target.css(a)},vertical:function(t,e,i,n,o){var a={display:"block"},l=i?Number(t.splitPanel[i-1].offsetEnd):0;e.splitter?a.width=t.splitter.size:"*"!=e.width||"undefined"!=typeof e.__width&&!o?a.width=e.__width||0:a.width=e.__width=(t.targetDimension.width-n)/t.splitPanel.asteriskLength,a.left=l,e.offsetStart=l,e.offsetEnd=Number(l)+Number(a.width),e.$target.css(a)}}},n={"dock-panel":function(t){for(var e in t.dockPanel)t.dockPanel[e].$target&&t.dockPanel[e].$target.get(0)&&e in i&&i[e].call(this,t,t.dockPanel[e])},"split-panel":function(n,o){var a;n.splitPanel.asteriskLength=0,n.splitPanel.forEach(function(e,i){t.split[n.orientation].call(this,n,e,i)}),a="horizontal"==n.orientation?e.sum(n.splitPanel,function(t){return"*"!=t.height?e.number(t.__height):void 0}):e.sum(n.splitPanel,function(t){return"*"!=t.width?e.number(t.__width):void 0}),n.splitPanel.forEach(function(t,e){i.split[n.orientation].call(this,n,t,e,a,o)})}},o=function(t){for(var e=t.childQueIdxs.length;e--;)r.call(this,t.childQueIdxs[e])};return function(t,e,i){var a=this.queue[t];a.targetDimension={height:a.$target.innerHeight(),width:a.$target.innerWidth()},a.layout in n&&n[a.layout].call(this,a,i),a.childQueIdxs&&o.call(this,a,i),a.onResize&&setTimeout(function(){this.onResize.call(this,this)}.bind(a),1),e&&e.call(a,a)}}(),d={on:function(t,e,o){var a=this.queue[t],s=o.position(),r={width:o.width(),height:o.height()},c={left:function(t){var i="changedTouches"in t.originalEvent?t.originalEvent.changedTouches[0]:t;e.__da=i.clientX-e.mousePosition.clientX;var n=e.minWidth||0,o=e.maxWidth||a.targetDimension.width-l.width(a,a.dockPanel.left)-l.width(a,a.dockPanel.right);return e.__width+e.__da<n?e.__da=-e.__width+n:o<e.__width+e.__da&&(e.__da=o-e.__width),{left:e.$splitter.position().left+e.__da}},right:function(t){var i="changedTouches"in t.originalEvent?t.originalEvent.changedTouches[0]:t;e.__da=i.clientX-e.mousePosition.clientX;var n=e.minWidth||0,o=e.maxWidth||a.targetDimension.width-l.width(a,a.dockPanel.left)-l.width(a,a.dockPanel.right);return e.__width-e.__da<n?e.__da=e.__width-n:o<e.__width-e.__da&&(e.__da=-o+e.__width),{left:e.$splitter.position().left+e.__da}},top:function(t){var i="changedTouches"in t.originalEvent?t.originalEvent.changedTouches[0]:t;e.__da=i.clientY-e.mousePosition.clientY;var n=e.minHeight||0,o=e.maxHeight||a.targetDimension.height-l.height(a,a.dockPanel.top)-l.height(a,a.dockPanel.bottom);return e.__height+e.__da<n?e.__da=-e.__height+n:o<e.__height+e.__da&&(e.__da=o-e.__height),{top:e.$splitter.position().top+e.__da}},bottom:function(t){var i="changedTouches"in t.originalEvent?t.originalEvent.changedTouches[0]:t;e.__da=i.clientY-e.mousePosition.clientY;var n=e.minHeight||0,o=e.maxHeight||a.targetDimension.height-l.height(a,a.dockPanel.top)-l.height(a,a.dockPanel.bottom);return e.__height-e.__da<n?e.__da=e.__height-n:o<e.__height-e.__da&&(e.__da=-o+e.__height),{top:e.$splitter.position().top+e.__da}},split:function(t){var i="changedTouches"in t.originalEvent?t.originalEvent.changedTouches[0]:t;if("horizontal"==a.orientation){e.__da=i.clientY-e.mousePosition.clientY;var n=a.splitPanel[e.panelIndex-1],o=a.splitPanel[e.panelIndex+1],l=n.minHeight||0,s=o.minHeight||0;return e.offsetStart+e.__da<n.offsetStart+l?e.__da=n.offsetStart-e.offsetStart+l:e.offsetStart+e.__da>o.offsetEnd-s&&(e.__da=o.offsetEnd-e.offsetEnd-s),{top:e.$target.position().top+e.__da}}e.__da=i.clientX-e.mousePosition.clientX;var n=a.splitPanel[e.panelIndex-1],o=a.splitPanel[e.panelIndex+1],r=n.minWidth||0,d=o.minWidth||0;return e.offsetStart+e.__da<n.offsetStart+r?e.__da=n.offsetStart-e.offsetStart+r:e.offsetStart+e.__da>o.offsetEnd-d&&(e.__da=o.offsetEnd-e.offsetEnd-d),{left:Number(e.$target.position().left)+Number(e.__da)}}};e.__da=0,jQuery(document.body).bind(n.mousemove+".ax5layout-"+this.instanceId,function(t){i.resizer||(i.resizer=jQuery('<div class="ax5layout-resizer panel-'+e.resizerType+'" ondragstart="return false;"></div>'),i.resizer.css({left:s.left,top:s.top,width:r.width,height:r.height}),a.$target.append(i.resizer)),i.resizer.css(c[e.resizerType](t))}).bind(n.mouseup+".ax5layout-"+this.instanceId,function(){d.off.call(i,t,e,o)}).bind("mouseleave.ax5layout-"+this.instanceId,function(){d.off.call(i,t,e,o)}),jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",!1)},off:function(t,e){var o=this.queue[t],a={"dock-panel":{left:function(t,e){e.__width+=e.__da},right:function(){e.__width-=e.__da},top:function(){e.__height+=e.__da},bottom:function(){e.__height-=e.__da}},"split-panel":{split:function(){"horizontal"==o.orientation?(o.splitPanel[e.panelIndex-1].__height+=e.__da,o.splitPanel[e.panelIndex+1].__height-=e.__da):(o.splitPanel[e.panelIndex-1].__width+=e.__da,o.splitPanel[e.panelIndex+1].__width-=e.__da)}},"tab-panel":{}};i.resizer&&(i.resizer.remove(),i.resizer=null,a[this.queue[t].layout][e.resizerType].call(this,t,e),r.call(this,t)),jQuery(document.body).unbind(n.mousemove+".ax5layout-"+this.instanceId).unbind(n.mouseup+".ax5layout-"+this.instanceId).unbind("mouseleave.ax5layout-"+this.instanceId),jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart")}},c={open:function(t,e,i){if(e.activePanelIndex!=i&&(e.tabPanel[i].active=!0,e.tabPanel[e.activePanelIndex].active=!1,e.$target.find('[data-tab-panel-label="'+i+'"]').attr("data-tab-active","true"),e.$target.find('[data-tab-panel-label="'+e.activePanelIndex+'"]').removeAttr("data-tab-active"),e.tabPanel[i].$target.attr("data-tab-active","true"),e.tabPanel[e.activePanelIndex].$target.removeAttr("data-tab-active"),e.activePanelIndex=i,e.onOpenTab)){var n={$target:e.$target,name:e.name,id:e.id,layout:e.layout,activePanelIndex:e.activePanelIndex,activePanel:e.tabPanel[e.activePanelIndex],tabPanel:e.tabPanel};e.onOpenTab.call(n)}}},u=function(){return'\n<div data-tab-panel-label-holder="{{id}}">\n    <div data-tab-panel-label-border="{{id}}"></div>\n    <div data-tab-panel-label-table="{{id}}">\n        <div data-tab-panel-aside="left"></div>\n    {{#tabPanel}}\n        <div data-tab-panel-label="{{panelIndex}}" data-tab-active="{{active}}">\n            <div data-tab-label="{{panelIndex}}">{{{label}}}</div>\n        </div>\n    {{/tabPanel}}\n        <div data-tab-panel-aside="right"></div>\n    </div>\n</div>\n'},h=function(){var t={"dock-panel":function(t){var a=this.queue[t];a.dockPanel={},a.$target.find(">[data-dock-panel]").each(function(){var l={};!function(t){e.isObject(t)&&!t.error&&(l=jQuery.extend(!0,l,t))}(e.parseJson(this.getAttribute("data-dock-panel"),!0)),"dock"in l&&(l.$target=jQuery(this),l.$target.addClass("dock-panel-"+l.dock),(l.split=l.split&&"true"==l.split.toString())&&(l.$splitter=jQuery('<div data-splitter="" class="dock-panel-'+l.dock+'"></div>'),l.$splitter.bind(n.mousedown,function(e){l.mousePosition=o(e),d.on.call(i,t,l,l.$splitter)}).bind("dragstart",function(t){return e.stopEvent(t),!1}),a.$target.append(l.$splitter)),"top"==l.dock||"bottom"==l.dock?l.__height=s(l.height,a.targetDimension.height):l.__width=s(l.width,a.targetDimension.width),l.resizerType=l.dock,a.dockPanel[l.dock]=l)})},"split-panel":function(t){var a=this.queue[t];a.splitPanel=[],a.$target.find(">[data-split-panel], >[data-splitter]").each(function(l){var r={};!function(t){e.isObject(t)&&!t.error&&(r=jQuery.extend(!0,r,t))}(e.parseJson(this.getAttribute("data-split-panel")||this.getAttribute("data-splitter"),!0)),r.$target=jQuery(this),r.$target.addClass("split-panel-"+a.orientation),r.panelIndex=l,this.getAttribute("data-splitter")?(r.splitter=!0,r.$target.bind(n.mousedown,function(e){r.panelIndex>0&&r.panelIndex<a.splitPanel.length-1&&(r.mousePosition=o(e),d.on.call(i,t,r,r.$target))}).bind("dragstart",function(t){return e.stopEvent(t),!1}),r.resizerType="split"):"horizontal"==a.orientation?r.__height=s(r.height,a.targetDimension.height):(a.orientation="vertical",r.__width=s(r.width,a.targetDimension.width)),a.splitPanel.push(r)})},"tab-panel":function(t){var n=this.queue[t],o=!1;n.tabPanel=[],n.$target.find(">[data-tab-panel]").each(function(t){var i={};!function(t){e.isObject(t)&&!t.error&&(i=jQuery.extend(!0,i,t))}(e.parseJson(this.getAttribute("data-tab-panel"),!0)),o&&(i.active=!1),i.$target=jQuery(this),i.active&&"false"!=i.active&&(o=!0,n.activePanelIndex=t,i.$target.attr("data-tab-active","true")),i.panelIndex=t,n.tabPanel.push(i)}),o||(n.tabPanel[0].active=!0,n.tabPanel[0].$target.attr("data-tab-active","true"),n.activePanelIndex=0),n.$target.append(jQuery(ax5.mustache.render(u.call(this,t),n))),n.$target.on("click","[data-tab-panel-label]",function(){var e=this.getAttribute("data-tab-panel-label");c.open.call(i,t,n,e)})}};return function(e){var i=this.queue[e];i.targetDimension={height:i.$target.innerHeight(),width:i.$target.innerWidth()},i.$target.parents("[data-ax5layout]").get(0)&&f.call(this,i.$target.parents("[data-ax5layout]").get(0),e),i.layout in t&&t[i.layout].call(this,e),r.call(this,e)}}(),p=function(t){return e.isString(t)||(t=jQuery(t).data("data-ax5layout-id")),e.isString(t)?e.search(this.queue,function(){return this.id==t}):-1},f=function(t,i){var n=e.isNumber(t)?t:p.call(this,t);this.queue[n].childQueIdxs||(this.queue[n].childQueIdxs=[]),this.queue[n].childQueIdxs.push(i),this.queue[i].parentQueIdx=n};this.init=function(){this.onStateChanged=t.onStateChanged,this.onClick=t.onClick,jQuery(window).bind("resize.ax5layout-"+this.instanceId,function(){a.call(this)}.bind(this))},this.bind=function(i){var n,o={};return i=jQuery.extend(!0,o,t,i),i.target?(i.$target=jQuery(i.target),i.id||(i.id=i.$target.data("data-ax5layout-id")),i.id||(i.id="ax5layout-"+ax5.getGuid(),i.$target.data("data-ax5layout-id",i.id)),i.name=i.$target.attr("data-ax5layout"),i.options&&(i.options=JSON.parse(JSON.stringify(i.options))),function(t){e.isObject(t)&&!t.error&&(i=jQuery.extend(!0,i,t))}(e.parseJson(i.$target.attr("data-config"),!0)),n=e.search(this.queue,function(){return this.id==i.id}),-1===n?(this.queue.push(i),h.call(this,this.queue.length-1)):(this.queue[n]=jQuery.extend(!0,{},this.queue[n],i),h.call(this,n)),o=null,n=null,this):(console.log(ax5.info.getError("ax5layout","401","bind")),this)},this.align=function(t,i){var n=e.isNumber(t)?t:p.call(this,t);if(-1===n)for(var o=this.queue.length;o--;)r.call(this,o,null,i);else r.call(this,n,null,i);return this},this.onResize=function(t,i){var n=e.isNumber(t)?t:p.call(this,t);return-1===n?void console.log(ax5.info.getError("ax5layout","402","onResize")):(this.queue[n].onResize=i,this)},this.resize=function(){var t={"dock-panel":function(t,i){["top","bottom","left","right"].forEach(function(n){i[n]&&t.dockPanel[n]&&("top"==n||"bottom"==n?t.dockPanel[n].__height=e.isObject(i[n])?i[n].height:i[n]:("left"==n||"right"==n)&&(t.dockPanel[n].__width=e.isObject(i[n])?i[n].width:i[n]))})},"split-panel":function(){},"tab-panel":function(){}};return function(i,n,o){var a=e.isNumber(i)?i:p.call(this,i);if(-1===a)for(var l=this.queue.length;l--;)t[this.queue[l].layout].call(this,this.queue[l],n),r.call(this,l,o);else this.queue[a]&&(t[this.queue[a].layout].call(this,this.queue[a],n),r.call(this,a,o));return this}}(),this.reset=function(){var t={"dock-panel":function(t){["top","bottom","left","right"].forEach(function(e){t.dockPanel[e]&&("top"==e||"bottom"==e?t.dockPanel[e].__height=t.dockPanel[e].height:("left"==e||"right"==e)&&(t.dockPanel[e].__width=t.dockPanel[e].width))})},"split-panel":function(t){t.splitPanel.forEach(function(e){"vertical"==t.orientation?e.__width=s(e.width,t.targetDimension.width):"horizontal"==t.orientation&&(e.__height=s(e.height,t.targetDimension.height))})},"tab-panel":function(){}};return function(i,n){var o=e.isNumber(i)?i:p.call(this,i);return-1===o||(t[this.queue[o].layout].call(this,this.queue[o]),r.call(this,o,n)),this}}(),this.hide=function(){},this.tabOpen=function(){return function(t,i){var n=e.isNumber(t)?t:p.call(this,t);return-1===n?void console.log(ax5.info.getError("ax5layout","402","tabOpen")):(c.open.call(this,n,this.queue[n],i),this)}}(),this.main=function(){arguments&&e.isObject(arguments[0])?this.setConfig(arguments[0]):this.init()}.apply(this,arguments)};return t}())}(),ax5.ui.layout_instance=new ax5.ui.layout,jQuery.fn.ax5layout=function(){return function(t){if(ax5.util.isString(arguments[0])){var e=arguments[0];switch(e){case"align":return ax5.ui.layout_instance.align(this,arguments[1]);case"resize":return ax5.ui.layout_instance.resize(this,arguments[1],arguments[2]);case"reset":return ax5.ui.layout_instance.reset(this,arguments[1]);case"hide":return ax5.ui.layout_instance.hide(this,arguments[1]);case"onResize":return ax5.ui.layout_instance.onResize(this,arguments[1]);case"tabOpen":return ax5.ui.layout_instance.tabOpen(this,arguments[1]);default:return this}}else"undefined"==typeof t&&(t={}),jQuery.each(this,function(){var e={target:this};t=jQuery.extend({},t,e),ax5.ui.layout_instance.bind(t)});return this}}(),function(){var t=ax5.ui,e=ax5.util;t.addClass({className:"binder",version:"1.3.82"},function(){var t=function(){var t;this.instanceId=ax5.getGuid(),this.config={},t=this.config,this.model={},this.tmpl={},this.view_target=null,this.change_trigger={},this.click_trigger={},this.update_trigger={},this.onerror=null;var i=Object.prototype.toString,n=function(t){var e;return null!=t&&t==t.window?e="window":t&&1==t.nodeType?e="element":t&&11==t.nodeType?e="fragment":"undefined"==typeof t?e="undefined":"[object Object]"==i.call(t)?e="object":"[object Array]"==i.call(t)?e="array":"[object String]"==i.call(t)?e="string":"[object Number]"==i.call(t)?e="number":"[object NodeList]"==i.call(t)?e="nodelist":"function"==typeof t&&(e="function"),e},o=function(t,e,i){return t+"["+e+"]"+("."==i?"":"."+i)},a=function(t){var e=[],i=[].concat(t.split(/[\.\[\]]/g));return i.forEach(function(t){""!==t&&e.push('["'+t.replace(/['\"]/g,"")+'"]')}),i=null,e.join("")};this.setModel=function(t,e){return this.model=t,!this.view_target&&e?(this.view_target=e,this._binding()):this._binding("update"),this},this.set=function(t,e){var i,o,l,s=this;if(Function("val","this"+a(t)+" = val;").call(this.model,e),i=n(e),"object"==i)for(var r in e)this.set(t+"."+r,e[r]);else if("array"==i)for(this.view_target.find('[data-ax-path="'+t+'"]').each(function(){l=(this.type||"").toLowerCase(),("checkbox"==l||"radio"==l)&&s.set_els_value(this,this.tagName.toLowerCase(),l,e,t,"change")}),o=e.length;o--;)this.set(t+"["+o+"]",e[o]);else this.view_target.find('[data-ax-path="'+t+'"]').each(function(){s.set_els_value(this,this.tagName.toLowerCase(),(this.type||"").toLowerCase(),e,t,"change")});return this},this.get=function(t){return"undefined"==typeof t?this.model:Function("","return this"+a(t)+";").call(this.model)},this.onChange=function(t,e){return this.change_trigger[t||"*"]=e,this},this.onClick=function(t,e){return this.click_trigger[t]=e,this},this.add=function(t,e){var i=Function("","return this"+a(t)+";").call(this.model),n=this.tmpl[t];e["@i"]=i.length,e["@r"]=i.length,e.__ADDED__=!0,Function("val","this"+a(t)+".push(val);").call(this.model,e);for(var o in n){var l=$(ax5.mustache.render(n[o].content,e));l.attr("data-ax-repeat-path",t),
l.attr("data-ax-repeat-i",e["@i"]),this.bind_event_tmpl(l,t),n[o].container.append(l)}this.change("*");var s=this.update_trigger[t];if(s){var r={repeat_path:t,tmpl:n,list:i};s.call(r,r)}return this},this.remove=function(t,e){var i=Function("","return this"+a(t)+";").call(this.model),n=this.tmpl[t];"undefined"==typeof e&&(e=i.length-1);var o=i[e];o.__ADDED__?i.splice(e,1):i[e].__DELETED__=!0;for(var l in n)n[l].container.empty(),this.print_tmpl(t,n[l]);this.change("*");var s=this.update_trigger[t];if(s){var r={repeat_path:t,tmpl:n,list:i};s.call(r,r)}return this},this.update=function(t,e,i){var n=Function("","return this"+a(t)+";").call(this.model),o=this.tmpl[t];"undefined"!=typeof e&&i&&n.splice(e,1,i);for(var l in o)o[l].container.empty(),this.print_tmpl(t,o[l]);this.change("*");var s=this.update_trigger[t];if(s){var r={repeat_path:t,tmpl:o,list:n};s.call(r,r)}return this},this.childAdd=function(t,e,i,n){var o=Function("","return this"+a(t)+";").call(this.model),l=Function("","return this"+a(t)+"["+e+"]."+i+";").call(this.model);n.__ADDED__=!0,l.push(n),this.update(t,e,o[e])},this.childRemove=function(t,e,i,n){var o=Function("","return this"+a(t)+";").call(this.model),l=Function("","return this"+a(t)+"["+e+"]."+i+";").call(this.model),s=l[n];s.__ADDED__?l.splice(n,1):l[n].__DELETED__=!0,this.update(t,e,o[e])},this.childUpdate=function(t,e,i,n,o){var l=Function("","return this"+a(t)+";").call(this.model),s=Function("","return this"+a(t)+"["+e+"]."+i+";").call(this.model);s[n]=o,this.update(t,e,l[e])},this.childSet=function(t,e,i,n){var o=this;return Function("val","this"+a(t)+"["+e+"]."+i+" = val;").call(this.model,n),this.view_target.find('[data-ax-repeat="'+t+'"]').find('[data-ax-repeat-i="'+e+'"]').find('[data-ax-item-path="'+i+'"]').each(function(){o.set_els_value(this,this.tagName.toLowerCase(),(this.type||"").toLowerCase(),n,t+"["+e+"]."+i)}),this},this.onUpdate=function(t,e){return this.update_trigger[t]=e,this},this._binding=function(t){var e=this;this.view_target.find("[data-ax-path]").each(function(){var t,i=$(this),n=i.attr("data-ax-path"),o=(this.type||"").toLowerCase();try{t=Function("","return this"+a(n)+";").call(e.model)}catch(l){e.onerror&&e.onerror("not found target [model."+a(n)+"]")}e.set_els_value(this,this.tagName.toLowerCase(),o,t||"",n)}),"undefined"==typeof t?this.view_target.find("[data-ax-repeat]").each(function(){var t=$(this),i=t.attr("data-ax-repeat"),n=t.attr("data-ax-repeat-idx");"undefined"==typeof e.tmpl[i]&&(e.tmpl[i]={}),"undefined"!=typeof n?e.tmpl[i][n]={container:t,content:t.find("script").html()}:e.tmpl[i][0]={container:t,content:t.find("script").html()},t.empty()}):this.view_target.find("[data-ax-repeat]").each(function(){var t=$(this);t.empty().show()}),this.view_target.find("[data-ax-path]").unbind("change.axbinder").bind("change.axbinder",function(t){var i,o,l=!1,s=[],r=$(t.target),d=r.attr("data-ax-path"),c=Function("","return this"+a(d)+";").call(e.model),u=(this.type||"").toLowerCase(),h=n(c),p=!0;if(("object"==h||"array"==h)&&(p=!1),"checkbox"==u){if(e.view_target.find('[data-ax-path="'+d+'"]').length>1){for("array"!=n(c)&&(c="undefined"==typeof c||""==c?[]:[].concat(c)),i=c.length,l=!1,o=this.checked;i--;)c[i]==this.value&&(l=!0);if(o)l||c.push(this.value);else{for(i=c.length;i--;)c[i]==this.value||s.push(c[i]);c=s}}else c=this.checked?this.value:"";Function("val","this"+a(d)+" = val;").call(e.model,c),e.change(d,{el:this,jquery:r,tagname:this.tagName.toLowerCase(),value:c})}else p&&(Function("val","this"+a(d)+" = val;").call(e.model,this.value),e.change(d,{el:this,jquery:r,tagname:this.tagName.toLowerCase(),value:this.value}));r.data("changedTime",(new Date).getTime())});var i;for(var o in e.tmpl){for(var l in e.tmpl[o])this.print_tmpl(o,e.tmpl[o][l],"isInit");if(i=this.update_trigger[o]){var s={repeat_path:o,tmpl:e.tmpl[o],list:Function("","return this."+o+";").call(this.model)};i.call(s,s)}}},this.set_els_value=function(t,e,i,n,o,l){n="undefined"==typeof n?[]:[].concat(n);var s,r;if("input"==e)if("checkbox"==i||"radio"==i){r=n.length;var d=!1;try{if(r>0)for(;r--;)"undefined"!=typeof n[r]&&t.value===n[r].toString()&&(d=!0)}catch(c){console.log(c)}t.checked=d}else t.value=n.join("");else if("select"==e){s=t.options,r=s.length;for(var u,h=!1;r--;){for(u=n.length;u--;)if("undefined"!=typeof n[u]&&s[r].value===n[u].toString()){s[r].selected=!0,h=!0;break}if(h)break}h||(s[0]?(s[0].selected=!0,Function("val","this"+a(o)+" = val;").call(this.model,s[0].value)):Function("val","this"+a(o)+" = val;").call(this.model,"")),window.AXSelect&&$("undefined"!=typeof n&&t).bindSelectSetValue(n[n.length-1])}else"textarea"==e?t.value=n.join("")||"":t.innerText?t.innerText=n.join(""):t.innerHTML=n.join("");return l&&this.change(o,{el:t,tagname:e,value:n}),this},this.change=function(t,e){var i=this.change_trigger[t];i&&i.call(e,e),"*"!=t&&this.change_trigger["*"]&&this.change_trigger["*"].call(e,e)},this.click=function(t,e){var i=this.click_trigger[t];i&&i.call(e,e)},this.sync_model=function(){},this.print_tmpl=function(t,e){var i=Function("","return this"+a(t)+";").call(this.model);if(i&&"array"==n(i))for(var o=0,l=i.length;l>o;o++){var s=i[o];if(jQuery.isPlainObject(s)?(s["@i"]=o,s["@r"]=o,0===o&&(s["@first"]=!0)):(s={"@i":o,"@value":s},0===o&&(s["@first"]=!0),console.log(s)),!s.__DELETED__){var r=$(ax5.mustache.render(e.content,s));r.attr("data-ax-repeat-path",t),r.attr("data-ax-repeat-i",s["@i"]),this.bind_event_tmpl(r,t),e.container.append(r)}}},this.bind_event_tmpl=function(t,e){var i=this,l=t.attr("data-ax-repeat-i"),s=Function("","return this"+a(e)+";").call(this.model);t.find("[data-ax-repeat-click]").unbind("click.axbinder").bind("click.axbinder",function(t){var n=ax5.util.findParentNode(t.target,function(t){return t.getAttribute("data-ax-repeat-click")});if(n){var o=$(n),a=o.attr("data-ax-repeat-click"),r=(o.attr("data-ax-repeat-path"),{el:n,jquery:o,tagname:n.tagName.toLowerCase(),value:a,repeat_path:e,item:s[l],item_index:l,item_path:e+"["+l+"]"});i.click(e,r)}}),t.find("[data-ax-item-path]").each(function(){var t,n=$(this),a=n.attr("data-ax-item-path"),s=o(e,l,a),r=(this.type||"").toLowerCase();try{t=Function("","return this."+s+";").call(i.model)}catch(d){i.onerror&&i.onerror("not found target [model."+s+"]")}i.set_els_value(this,this.tagName.toLowerCase(),r,t||"",s)}),t.find("[data-ax-item-path]").unbind("change.axbinder").bind("change.axbinder",function(a){var s,r,d=!1,c=[],u=(this.type||"").toLowerCase(),h=$(a.target),p=h.attr("data-ax-item-path"),f=o(e,l,p),g=Function("","return this."+f+";").call(i.model),m=n(g),x=!0;if(("object"==m||"array"==m)&&(x=!1),"checkbox"==u){if(t.find('[data-ax-item-path="'+p+'"]').length>1){for("array"!=n(g)&&(g="undefined"==typeof g||""==g?[]:[].concat(g)),s=g.length,d=!1,r=this.checked;s--;)g[s]==this.value&&(d=!0);if(r)d||g.push(this.value);else{for(s=g.length;s--;)g[s]==this.value||c.push(g[s]);g=c}}else g=this.checked?this.value:"";Function("val","this."+f+" = val;").call(i.model,g),i.change(f,{el:this,jquery:h,tagname:this.tagName.toLowerCase(),value:g})}else x&&(Function("val","this."+f+" = val;").call(i.model,this.value),i.change(f,{el:this,jquery:h,tagname:this.tagName.toLowerCase(),value:this.value}));h.data("changedTime",(new Date).getTime())}),t.find("[data-ax-item-path]").unbind("blur.axbinder").bind("blur.axbinder",function(t){var e=$(t.target);("undefined"==typeof e.data("changedTime")||e.data("changedTime")<(new Date).getTime()-10)&&e.trigger("change")})},this.focus=function(t){return this.view_target.find('[data-ax-path="'+t+'"]').focus(),this},this.validate=function(){var t=this,e=[];return this.view_target.find("[data-ax-path]").each(function(){var i=$(this),n=i.attr("data-ax-path"),o=i.attr("data-ax-validate"),l=i.attr("pattern");if(o){var s,r,d;s=Function("","return this"+a(n)+";").call(t.model),"undefined"==typeof s&&(s=""),r=s.toString(),d=!1,"required"==o&&""==r.trim()?d=!0:"pattern"==o?d=!new RegExp(l).test(r):"email"==o?d=!/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/.test(r):!/\D.?/g.test(o)&&r.trim().length<o.number()&&(d=!0),d&&e.push({type:o,dataPath:n,el:this,jquery:i,value:s})}}),this.view_target.find("[data-ax-repeat-path]").each(function(){var i=$(this),n=i.attr("data-ax-repeat-path"),o=i.attr("data-ax-repeat-i");i.find("[data-ax-validate]").each(function(){var i=$(this),l=i.attr("data-ax-validate"),s=i.attr("data-ax-item-path"),r=Function("","return this"+a(n)+"["+o+"]."+s+";").call(t.model);"undefined"==typeof r&&(r="");var d=r.toString();if(l){var c=!1;"required"==l&&""==d.trim()?c=!0:"pattern"==l?c=!new RegExp(pattern).test(d):"email"==l?c=!/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/.test(d):!/\D.?/g.test(l)&&d.trim().length<l.number()&&(c=!0),c&&e.push({type:l,dataPath:n,el:this,jquery:i,value:r})}})}),e.length>0?{error:e}:{}},this.main=function(){arguments&&e.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return t}())}(),function(){var t,e=ax5.ui,i=ax5.util;e.addClass({className:"autocomplete",version:"1.3.82"},function(){var e=function(){var e,n=this;this.instanceId=ax5.getGuid(),this.config={theme:"default",animateTime:250,removeIcon:"X",lang:{noSelected:"",noOptions:"no options",loading:"Now Processing"},columnKeys:{optionValue:"value",optionText:"text",optionSelected:"selected"}},this.queue=[],this.activeautocompleteOptionGroup=null,this.activeautocompleteQueueIndex=-1,this.openTimer=null,this.closeTimer=null,this.waitOptionsCallback=null,this.keyUpTimer=null,e=this.config;var o=jQuery(window),a={18:"KEY_ALT",17:"KEY_CONTROL",46:"KEY_DELETE",40:"KEY_DOWN",35:"KEY_END",187:"KEY_EQUAL",36:"KEY_HOME",45:"KEY_INSERT",37:"KEY_LEFT",189:"KEY_MINUS",34:"KEY_PAGEDOWN",33:"KEY_PAGEUP",39:"KEY_RIGHT",16:"KEY_SHIFT",9:"KEY_TAB",38:"KEY_UP",91:"KEY_WINDOW"},l=function(t,e){return t&&t.onStateChanged?t.onStateChanged.call(e,e):this.onStateChanged&&this.onStateChanged.call(e,e),"changeValue"==e.state&&(t&&t.onChange?t.onChange.call(e,e):this.onChange&&this.onChange.call(e,e)),t=null,e=null,!0},s=function(){for(var t,e=this.queue.length;e--;){var n=this.queue[e];if(n.$display&&(t=Math.max(n.$select.outerWidth(),i.number(n.minWidth)),n.$display.css({"min-width":t}),n.reset&&n.$display.find(".addon-icon-reset").css({"line-height":this.queue[e].$display.height()+"px"}),n.multiple)){var o=function(){return i.number(n.$display.css("border-top-width"))+i.number(n.$display.css("border-bottom-width"))}.call(this);n.$target.height(""),n.$display.height("");var a=n.$displayTable.outerHeight();Math.abs(a-n.$target.height())>o&&(n.$target.css({height:a+o+4}),n.$display.css({height:a+o+4}))}}return e=null,t=null,this},r=function(t){if(t&&!this.activeautocompleteOptionGroup)return this;var e,i=this.queue[this.activeautocompleteQueueIndex],n={},a=0,l={},s={};return i?(t&&jQuery(document.body).append(this.activeautocompleteOptionGroup),n=i.$target.offset(),l={width:i.$target.outerWidth(),height:i.$target.outerHeight()},s={winWidth:Math.max(o.width(),jQuery(document.body).width()),winHeight:Math.max(o.height(),jQuery(document.body).height()),width:this.activeautocompleteOptionGroup.outerWidth(),height:this.activeautocompleteOptionGroup.outerHeight()},i.direction&&""!==i.direction&&"auto"!==i.direction?e=i.direction:(e="top",n.top-s.height-a<0?e="top":n.top+l.height+s.height+a>s.winHeight&&(e="bottom")),t&&this.activeautocompleteOptionGroup.addClass("direction-"+e),void this.activeautocompleteOptionGroup.css(function(){if("top"==e){if(n.top+l.height+s.height+a>s.winHeight){var t=n.top+s.height;return t+s.height+a>s.winHeight&&(t=0),0>t&&(t=0),{left:n.left,top:t,width:l.width}}return{left:n.left,top:n.top+l.height+1,width:l.width}}return"bottom"==e?{left:n.left,top:n.top-s.height-1,width:l.width}:void 0}.call(this))):this},d=function(t,e){if(!this.activeautocompleteOptionGroup)return this;var n=this.queue[this.activeautocompleteQueueIndex],o="display";return(e=i.findParentNode(t.target,function(t){return t.getAttribute("data-option-value")?(o="optionItem",!0):n.$target.get(0)==t?(o="display",!0):void 0}))?("optionItem"===o&&(I.call(this,n.id,{optionIndex:{index:e.getAttribute("data-option-index")}},void 0,"optionItemClick"),s.call(this),r.call(this),n.multiple||this.close()),this):(this.close(),this)},c=function(e){var i=this.queue[e],n={};return n.id=i.id,n.theme=i.theme,n.size="ax5autocomplete-option-group-"+i.size,n.multiple=i.multiple,n.lang=i.lang,n.options=i.options,n.selected=i.selected,n.hasSelected=n.selected&&n.selected.length>0,n.removeIcon=i.removeIcon,t.tmpl.get.call(this,"label",n,i.columnKeys)},u=function(e){var i=this.queue[e];!i.multiple&&i.selected&&i.selected.length>0&&(i.selected=[].concat(i.selected[i.selected.length-1])),i.selected.forEach(function(t,e){t["@index"]=e}),i.$select.html(t.tmpl.get.call(this,"formSelectOptions",{selected:i.selected},i.columnKeys))},h=function(t){var e=this.queue[t];e.$displayLabel.find("[data-ax5autocomplete-selected-label]").remove(),e.$displayLabelInput.before(c.call(this,t))},p=function(t){return this.queue[t].disabled?this:(this.queue[t].$displayLabel.trigger("focus"),void this.queue[t].$displayLabelInput.focus())},f=function(t){this.queue[t].$displayLabelInput.val("")},g=function(t){this.queue[t].$displayLabel.trigger("blur")},m=function(e,n){if(-1==this.activeautocompleteQueueIndex)return this;var o=/[\{\}\[\]\/?.,;:|\)*~`!^\-_+<>@\#$%&\\\=\(\'\"]/gi;n=n.replace(o,""),this.queue[e].waitOptions=!0,this.queue[e].onSearch.call({self:this,item:this.queue[e],searchWord:n},function(e){var o={},a=this.queue[this.activeautocompleteQueueIndex];return a?(function(t,e){var n={};e.options.forEach(function(e,i){e["@index"]=i,e["@findex"]=i,n[e[t.columnKeys.optionValue]]=e}),i.isArray(t.selected)&&t.selected.forEach(function(i){n[i[t.columnKeys.optionValue]]&&(e.options[n[i[t.columnKeys.optionValue]]["@index"]][t.columnKeys.optionSelected]=!0)})}(a,e),a.options=e.options,s.call(this),o.id=a.id,o.theme=a.theme,o.size="ax5autocomplete-option-group-"+a.size,o.multiple=a.multiple,o.lang=a.lang,o.options=a.options,this.activeautocompleteOptionGroup.find('[data-els="content"]').html(jQuery(t.tmpl.get.call(this,"options",o,a.columnKeys))),x.call(this,this.activeautocompleteQueueIndex,n),r.call(this),void setTimeout(function(){r.call(this)}.bind(this))):!1}.bind(this))},x=function(t,e){if(-1==this.activeautocompleteQueueIndex)return this;var i,n=[],o=-1,a=this.queue[t].options.length-1;if(""!=e){for(;a-o++;){if(i=this.queue[t].options[o],(""+i.text).toLowerCase()==e.toLowerCase()){n=[{"@findex":i["@findex"],optionsSort:0}];break}var l=(""+i.text).toLowerCase().search(e.toLowerCase());if(l>-1&&(n.push({"@findex":i["@findex"],optionsSort:l}),n.length>2))break;l=null}n.sort(function(t,e){return t.optionsSort-e.optionsSort})}n&&n.length>0?b.call(this,t,void 0,n[0]["@findex"]):v.call(this,t)},v=function(t){this.activeautocompleteOptionGroup&&this.activeautocompleteOptionGroup.find("[data-option-focus-index]").removeClass("hover").removeAttr("data-option-selected"),this.queue[t].optionFocusIndex=-1},b=function(t,e,i){var n,o,a,l,s=this.queue[t];if(this.activeautocompleteOptionGroup&&s.options&&s.options.length>0){if("undefined"!=typeof i?n=i:(o=-1==s.optionFocusIndex?s.optionSelectedIndex||-1:s.optionFocusIndex,-1==o?n=0:(n=o+e,0>n?n=0:n>s.optionItemLength-1&&(n=s.optionItemLength-1))),s.optionFocusIndex=n,s.options[n]&&s.options[n].hide){if("undefined"==typeof e)return this;for(;s.options[n].hide;){if(n+=e,0>n){n=0;break}if(n>s.optionItemLength-1){n=s.optionItemLength-1;break}}}if("undefined"!=typeof n&&(this.activeautocompleteOptionGroup.find("[data-option-focus-index]").removeClass("hover"),a=this.activeautocompleteOptionGroup.find('[data-option-focus-index="'+n+'"]').addClass("hover"),l=this.activeautocompleteOptionGroup.find('[data-els="content"]'),a.get(0))){var r=a.outerHeight(),d=l.innerHeight(),c=l.scrollTop(),u=a.position().top+l.scrollTop();u+r>d+c?l.scrollTop(u+r-d):c>u&&l.scrollTop(u),"undefined"!=typeof e&&s.$displayLabelInput.val(s.options[n].text)}}},y=function(t){return t instanceof jQuery?t=t.data("data-ax5autocomplete-id"):i.isString(t)||(t=jQuery(t).data("data-ax5autocomplete-id")),i.isString(t)?i.search(this.queue,function(){return this.id==t}):void console.log(ax5.info.getError("ax5autocomplete","402","getQueIdx"))},w=function(t,e,i){return"undefined"==typeof i?t.multiple?!e:!0:i},_=function(e){this.queue[e].options.forEach(function(t){t.optgroup?t.options.forEach(function(t){t.selected=!1}):t.selected=!1}),this.queue[e].selected=[],this.queue[e].$select.html(t.tmpl.get.call(this,"formSelectOptions",{selected:this.queue[e].selected},this.queue[e].columnKeys))},I=function(){var t={selectedIndex:function(){},removeSelectedIndex:function(t,e){for(var i=this.queue[t],n={},o=[],a=0,l=0;l<i.selected.length;l++)i.selected[l]["@index"]!=e.removeSelectedIndex.index&&(n={"@index":a,"@findex":a},n[i.columnKeys.optionValue]=i.selected[l][i.columnKeys.optionValue],n[i.columnKeys.optionText]=i.selected[l][i.columnKeys.optionText],o.push(n),a++);i.selected=o},optionIndex:function o(t,e){var i=this.queue[t],n={},o=i.selected.length,a=!0;n={"@index":o,"@findex":o},n[i.columnKeys.optionValue]=i.options[e.optionIndex.index][i.columnKeys.optionValue],n[i.columnKeys.optionText]=i.options[e.optionIndex.index][i.columnKeys.optionText];for(var l=0;l<i.selected.length;l++)i.selected[l][i.columnKeys.optionValue]==n[i.columnKeys.optionValue]&&(a=!1);a&&i.selected.push(n)},arr:function(e,o,a){o.forEach(function(o){if(i.isString(o)||i.isNumber(o))t.text.call(n,e,o,a,"justSetValue");else for(var l in t)if(o[l]){t[l].call(n,e,o,a,"justSetValue");break}})},value:function(t,n,o){var a,l=this.queue[t],s=i.search(l.options,function(){return this[l.columnKeys.optionValue]==n.value[l.columnKeys.optionValue]});if(s>-1)if(l.options[s][l.columnKeys.optionSelected]=w(l,l.options[s][l.columnKeys.optionSelected],o),l.options[s][l.columnKeys.optionSelected]){for(var r=!0,d=0;d<l.selected.length;d++)if(l.selected[d][e.columnKeys.optionValue]==l.options[s][e.columnKeys.optionValue]){r=!1;break}r&&(a={},a[l.columnKeys.optionValue]=l.options[s][l.columnKeys.optionValue],a[l.columnKeys.optionText]=l.options[s][l.columnKeys.optionText],l.selected.push(a))}else{for(var c=[],d=0;d<l.selected.length;d++)l.selected[d][e.columnKeys.optionValue]==l.options[s][e.columnKeys.optionValue]||(a={},a[l.columnKeys.optionValue]=l.selected[d][l.columnKeys.optionValue],a[l.columnKeys.optionText]=l.selected[d][l.columnKeys.optionText],c.push(a));l.selected=c}else{for(var r=!0,d=0;d<l.selected.length;d++)if(l.selected[d][e.columnKeys.optionValue]==n.value[e.columnKeys.optionValue]){r=!1;break}r&&(a={},a[l.columnKeys.optionValue]=n.value[e.columnKeys.optionValue],a[l.columnKeys.optionText]=n.value[e.columnKeys.optionText],l.selected.push(a))}},text:function(t,n,o){var a,l=this.queue[t],s=i.search(l.options,function(){return this[l.columnKeys.optionText]==n});if(s>-1)if(l.options[s][l.columnKeys.optionSelected]=w(l,l.options[s][l.columnKeys.optionSelected],o),l.options[s][l.columnKeys.optionSelected]){for(var r=!0,d=0;d<l.selected.length;d++)if(l.selected[d][e.columnKeys.optionText]==l.options[s][e.columnKeys.optionText]){r=!1;break}r&&(a={},a[l.columnKeys.optionValue]=l.options[s][l.columnKeys.optionValue],a[l.columnKeys.optionText]=l.options[s][l.columnKeys.optionText],l.selected.push(a))}else{for(var c=[],d=0;d<l.selected.length;d++)l.selected[d][e.columnKeys.optionText]==l.options[s][e.columnKeys.optionText]||(a={},a[l.columnKeys.optionValue]=l.selected[d][l.columnKeys.optionValue],a[l.columnKeys.optionText]=l.selected[d][l.columnKeys.optionText],c.push(a));l.selected=c}else{for(var r=!0,d=0;d<l.selected.length;d++)if(l.selected[d][e.columnKeys.optionText]==n){r=!1;break}r&&(a={},a[l.columnKeys.optionValue]=n,a[l.columnKeys.optionText]=n,l.selected.push(a))}},clear:function(t){_.call(this,t),v.call(this,t),this.activeautocompleteOptionGroup&&this.activeautocompleteOptionGroup.find("[data-option-index]").attr("data-option-Selected","false"),this.queue[t].optionSelectedIndex=-1}};return function(e,n,o,a){var s=i.isNumber(e)?e:y.call(this,e);if(-1===s)return void console.log(ax5.info.getError("ax5autocomplete","402","val"));if("undefined"==typeof n)throw"error not found value";if(i.isArray(n))t.clear.call(this,s),t.arr.call(this,s,this.queue[s].multiple||0==n.length?n:[n[n.length-1]],o);else if(i.isString(n)||i.isNumber(n))"undefined"==typeof n||null===n||this.queue[s].multiple||_.call(this,s),t.text.call(this,s,n,o);else if(null===n)t.clear.call(this,s);else{this.queue[s].multiple||_.call(this,s);for(var d in t)if(n[d]){t[d].call(this,s,n,o);break}}return u.call(this,s),h.call(this,s),p.call(this,s),r.call(this),"undefined"!=typeof n&&a&&!a.noStateChange&&l.call(this,this.queue[s],{self:this,item:this.queue[s],state:"changeValue",value:this.queue[s].selected}),e=null,this}}();this.init=function(){this.onStateChanged=e.onStateChanged,this.onChange=e.onChange,jQuery(window).bind("resize.ax5autocomplete-display-"+this.instanceId,function(){s.call(this)}.bind(this))},this.bind=function(o){var l,d=function(){var e=i.debounce(function(t){return-1==this.activeautocompleteQueueIndex?this:void m.call(n,t,this.queue[t].$displayLabelInput.val())},150),l=function(t){f.call(this,t)},d={click:function(t,e){var o,a=i.findParentNode(e.target,function(t){return t.getAttribute("data-ax5autocomplete-remove")?(o="optionItemRemove",!0):t.getAttribute("data-selected-clear")?(o="clear",!0):void 0});if(a){if("optionItemRemove"===o){var l=a.getAttribute("data-ax5autocomplete-remove-index");return this.queue[t].selected.splice(l,1),u.call(this,t),h.call(this,t),p.call(this,t),s.call(this),r.call(this),i.stopEvent(e),this}"clear"===o&&(I.call(this,t,{clear:!0}),s.call(this),r.call(this))}else n.activeautocompleteQueueIndex==t?-1==this.queue[t].optionFocusIndex&&n.close():p.call(this,t)},keyUp:function(t,o){return o.which==ax5.info.eventKeys.ESC&&-1===n.activeautocompleteQueueIndex?(i.stopEvent(o),this):o.which==ax5.info.eventKeys.TAB?(this.close(),this):(n.activeautocompleteQueueIndex!=t&&n.open(t),void(a[o.which]?i.stopEvent(o):o.which==ax5.info.eventKeys.BACKSPACE&&""==this.queue[t].$displayLabelInput.val()?(this.queue[t].selected.pop(),u.call(this,t),h.call(this,t),p.call(this,t),s.call(this),r.call(this),i.stopEvent(o)):e.call(this,t)))},keyDown:function(t,e){if(e.which==ax5.info.eventKeys.ESC)f.call(this,t),this.close(),i.stopEvent(e);else if(e.which==ax5.info.eventKeys.RETURN){var n=this.queue[t].$displayLabelInput.val();o.optionFocusIndex>-1?I.call(this,o.id,{optionIndex:{index:o.optionFocusIndex}},void 0,"optionItemClick"):""!=n&&I.call(this,t,n,!0),f.call(this,t),s.call(this),this.close(),i.stopEvent(e)}else e.which==ax5.info.eventKeys.DOWN?(b.call(this,t,1),i.stopEvent(e)):e.which==ax5.info.eventKeys.UP&&(b.call(this,t,-1),i.stopEvent(e))},focus:function(){},blur:function(t,e){l.call(this,t),i.stopEvent(e)},selectChange:function(t){I.call(this,t,{value:this.queue[t].$select.val()},!0)}};return function(e){var i=this.queue[e],n={};return i.$display?h.call(this,e):(n.instanceId=this.instanceId,n.id=i.id,n.name=i.name,n.theme=i.theme,n.tabIndex=i.tabIndex,n.multiple=i.multiple,n.reset=i.reset,n.label=c.call(this,e),n.formSize=function(){return i.size?"input-"+i.size:""}(),i.$display=jQuery(t.tmpl.get.call(this,"autocompleteDisplay",n,i.columnKeys)),i.$displayTable=i.$display.find('[data-els="display-table"]'),i.$displayLabel=i.$display.find('[data-ax5autocomplete-display="label"]'),i.$displayLabelInput=i.$display.find('[data-ax5autocomplete-display="input"]'),i.$target.find("select").get(0)?(i.$select=i.$target.find("select"),i.$select.attr("tabindex","-1").attr("class","form-control "+n.formSize),n.name&&i.$select.attr("name","name"),i.$select.attr("multiple","multiple")):(i.$select=jQuery(t.tmpl.get.call(this,"formSelect",n,i.columnKeys)),i.$target.append(i.$select)),i.$target.append(i.$display)),s.call(this),i.$display.unbind("click.ax5autocomplete").bind("click.ax5autocomplete",d.click.bind(this,e)),i.$displayLabelInput.off("focus.ax5autocomplete").on("focus.ax5autocomplete",d.focus.bind(this,e)).off("blur.ax5autocomplete").on("blur.ax5autocomplete",d.blur.bind(this,e)).off("keydown.ax5autocomplete").on("keydown.ax5autocomplete",d.keyUp.bind(this,e)).off("keyup.ax5autocomplete").on("keyup.ax5autocomplete",d.keyDown.bind(this,e)),i.$select.unbind("change.ax5autocomplete").bind("change.ax5autocomplete",d.selectChange.bind(this,e)),n=null,i=null,e=null,this}}(),g={};return o=jQuery.extend(!0,g,e,o),o.target?(o.$target=jQuery(o.target),o.id||(o.id=o.$target.data("data-ax5autocomplete-id")),o.id||(o.id="ax5autocomplete-"+ax5.getGuid(),o.$target.data("data-ax5autocomplete-id",o.id)),o.name=o.$target.attr("data-ax5autocomplete"),o.options=[],o.selected=[],function(t){i.isObject(t)&&!t.error&&(o=jQuery.extend(!0,o,t))}(i.parseJson(o.$target.attr("data-ax5autocomplete-config"),!0)),l=i.search(this.queue,function(){return this.id==o.id}),-1===l?(this.queue.push(o),d.call(this,this.queue.length-1)):(this.queue[l]=jQuery.extend(!0,{},this.queue[l],o),d.call(this,l)),g=null,l=null,this):(console.log(ax5.info.getError("ax5autocomplete","401","bind")),this)},this.open=function(){return function(n,o){this.waitOptionsCallback=null;var a,s,c=i.isNumber(n)?n:y.call(this,n),u=this.queue[c],h={};return u.$display.attr("disabled")?this:(this.openTimer&&clearTimeout(this.openTimer),this.activeautocompleteOptionGroup?this.activeautocompleteQueueIndex==c?this:o>2?this:(this.close(),this.openTimer=setTimeout(function(){this.open(c,(o||0)+1)}.bind(this),e.animateTime),this):(u.optionFocusIndex=-1,u.selected&&u.selected.length>0&&(u.optionSelectedIndex=u.selected[0]["@findex"]),h.id=u.id,h.theme=u.theme,h.size="ax5autocomplete-option-group-"+u.size,h.multiple=u.multiple,h.lang=u.lang,u.$display.attr("data-autocomplete-option-group-opened","true"),h.waitOptions=!0,h.options=[],this.activeautocompleteOptionGroup=jQuery(t.tmpl.get.call(this,"optionGroup",h,u.columnKeys)),this.activeautocompleteOptionGroup.find('[data-els="content"]').html(jQuery(t.tmpl.get.call(this,"options",h,u.columnKeys))),this.activeautocompleteQueueIndex=c,r.call(this,"append"),jQuery(window).bind("resize.ax5autocomplete-"+this.instanceId,function(){r.call(this)}.bind(this)),u.selected&&u.selected.length>0&&(s=this.activeautocompleteOptionGroup.find('[data-option-index="'+u.selected[0]["@index"]+'"]'),s.get(0)&&(a=s.position().top-this.activeautocompleteOptionGroup.height()/3,this.activeautocompleteOptionGroup.find('[data-els="content"]').stop().animate({scrollTop:a},u.animateTime,"swing",function(){}))),jQuery(window).bind("click.ax5autocomplete-"+this.instanceId,function(t){t=t||window.event,d.call(this,t),i.stopEvent(t)}.bind(this)),l.call(this,u,{self:this,state:"open",item:u}),h=null,a=null,s=null,this))}}(),this.setValue=function(t,e){var n=i.isNumber(t)?t:y.call(this,t);if(-1===n)return void console.log(ax5.info.getError("ax5autocomplete","402","val"));if(_.call(this,n),i.isArray(e)){var o=i.map(e,function(){return{value:this}});I.call(this,n,o,!0,{noStateChange:!0})}else i.isObject(e)?I.call(this,n,{value:e},!0,{noStateChange:!0}):h.call(this,n);return g.call(this,n),s.call(this),this},this.setText=function(t,e){var n=i.isNumber(t)?t:y.call(this,t);return-1===n?void console.log(ax5.info.getError("ax5autocomplete","402","val")):(this.queue[n].selected=[],_.call(this,n),I.call(this,n,e,!0,{noStateChange:!0}),g.call(this,n),s.call(this),this)},this.getSelectedOption=function(t){var e=i.isNumber(t)?t:y.call(this,t);return-1===e?void console.log(ax5.info.getError("ax5autocomplete","402","val")):i.deepCopy(this.queue[e].selected)},this.close=function(t){return this.closeTimer&&clearTimeout(this.closeTimer),this.activeautocompleteOptionGroup?(t=this.queue[this.activeautocompleteQueueIndex],t.optionFocusIndex=-1,t.$display.removeAttr("data-autocomplete-option-group-opened").trigger("focus"),this.activeautocompleteOptionGroup.addClass("destroy"),jQuery(window).unbind("resize.ax5autocomplete-"+this.instanceId).unbind("click.ax5autocomplete-"+this.instanceId).unbind("keyup.ax5autocomplete-"+this.instanceId),this.closeTimer=setTimeout(function(){this.activeautocompleteOptionGroup&&this.activeautocompleteOptionGroup.remove(),this.activeautocompleteOptionGroup=null,this.activeautocompleteQueueIndex=-1,l.call(this,t,{self:this,state:"close"})}.bind(this),e.animateTime),this.waitOptionsCallback=null,this):this},this.blur=function(t){var e=i.isNumber(t)?t:y.call(this,t);return-1===e?void console.log(ax5.info.getError("ax5autocomplete","402","val")):(g.call(this,e),this)},this.enable=function(t){var e=y.call(this,t);return"undefined"!=typeof e&&(this.queue[e].disable=!1,this.queue[e].$display[0]&&(this.queue[e].$display.removeAttr("disabled"),this.queue[e].$displayLabelInput.removeAttr("disabled")),this.queue[e].$select[0]&&this.queue[e].$select.removeAttr("disabled"),l.call(this,this.queue[e],{self:this,state:"enable"})),this},this.disable=function(t){var e=y.call(this,t);return"undefined"!=typeof e&&(this.queue[e].disable=!0,this.queue[e].$display[0]&&(this.queue[e].$display.attr("disabled","disabled"),this.queue[e].$displayLabelInput.attr("disabled","disabled")),this.queue[e].$select[0]&&this.queue[e].$select.attr("disabled","disabled"),l.call(this,this.queue[e],{self:this,state:"disable"})),this},this.align=function(){return s.call(this),this},this.main=function(){arguments&&i.isObject(arguments[0])?this.setConfig(arguments[0]):this.init()}.apply(this,arguments)};return e}()),t=ax5.ui.autocomplete}(),ax5.ui.autocomplete_instance=new ax5.ui.autocomplete,jQuery.fn.ax5autocomplete=function(){return function(t){if(ax5.util.isString(arguments[0])){var e=arguments[0];switch(e){case"open":return ax5.ui.autocomplete_instance.open(this);case"close":return ax5.ui.autocomplete_instance.close(this);case"setValue":return ax5.ui.autocomplete_instance.setValue(this,arguments[1],arguments[2],arguments[3],arguments[4]||"justSetValue");case"setText":return ax5.ui.autocomplete_instance.setText(this,arguments[1],arguments[2],arguments[3],arguments[4]||"justSetValue");case"getSelectedOption":return ax5.ui.autocomplete_instance.getSelectedOption(this);case"enable":return ax5.ui.autocomplete_instance.enable(this);case"disable":return ax5.ui.autocomplete_instance.disable(this);case"blur":return ax5.ui.autocomplete_instance.blur(this);default:return this}}else"undefined"==typeof t&&(t={}),jQuery.each(this,function(){var e={target:this};t=jQuery.extend({},t,e),ax5.ui.autocomplete_instance.bind(t)});return this}}(),function(){var t=ax5.ui.autocomplete,e=(ax5.util,function(){return'\n<div class="ax5autocomplete-option-group {{theme}} {{size}}" data-ax5autocomplete-option-group="{{id}}">\n    <div class="ax-autocomplete-body">\n        <div class="ax-autocomplete-option-group-content" data-els="content"></div>\n    </div>\n    <div class="ax-autocomplete-arrow"></div> \n</div>\n'}),i=function(){return' \n<input tabindex="-1" type="text" data-input-dummy="" style="display: none;" />\n<div class="form-control {{formSize}} ax5autocomplete-display {{theme}}" \ndata-ax5autocomplete-display="{{id}}" data-ax5autocomplete-instance="{{instanceId}}">\n    <div class="ax5autocomplete-display-table" data-els="display-table">\n        <div data-ax5autocomplete-display="label-holder"> \n        <a {{^tabIndex}}{{/tabIndex}}{{#tabIndex}}tabindex="{{tabIndex}}" {{/tabIndex}}\n        data-ax5autocomplete-display="label"\n        spellcheck="false"><input type="text"data-ax5autocomplete-display="input" style="border:0px none;" /></a>\n        </div>\n        <div data-ax5autocomplete-display="addon"> \n            {{#multiple}}{{#reset}}\n            <span class="addon-icon-reset" data-selected-clear="true">{{{.}}}</span>\n            {{/reset}}{{/multiple}}\n        </div>\n    </div>\n</a>\n'},n=function(){return'\n<select tabindex="-1" class="form-control {{formSize}}" name="{{name}}" multiple="multiple"></select>\n';
},o=function(t){return'\n{{#selected}}\n<option value="{{'+t.optionValue+'}}" selected="true">{{'+t.optionText+"}}</option>\n{{/selected}}\n"},a=function(t){return'\n{{#waitOptions}}\n    <div class="ax-autocomplete-option-item">\n            <div class="ax-autocomplete-option-item-holder">\n                <span class="ax-autocomplete-option-item-cell ax-autocomplete-option-item-label">\n                    {{{lang.loading}}}\n                </span>\n            </div>\n        </div>\n{{/waitOptions}}\n{{^waitOptions}}\n    {{#options}}\n        {{^hide}}\n        <div class="ax-autocomplete-option-item" data-option-focus-index="{{@findex}}" data-option-index="{{@index}}" data-option-value="{{'+t.optionValue+'}}" {{#'+t.optionSelected+'}}data-option-selected="true"{{/'+t.optionSelected+'}}>\n            <div class="ax-autocomplete-option-item-holder">\n                <span class="ax-autocomplete-option-item-cell ax-autocomplete-option-item-label">{{'+t.optionText+'}}</span>\n            </div>\n        </div>\n        {{/hide}}\n    {{/options}}\n    {{^options}}\n        <div class="ax-autocomplete-option-item">\n            <div class="ax-autocomplete-option-item-holder">\n                <span class="ax-autocomplete-option-item-cell ax-autocomplete-option-item-label">\n                    {{{lang.noOptions}}}\n                </span>\n            </div>\n        </div>\n    {{/options}}\n{{/waitOptions}}\n'},l=function(){return'{{#selected}}<div tabindex="-1" data-ax5autocomplete-selected-label="{{@i}}" data-ax5autocomplete-selected-text="{{text}}"><div data-ax5autocomplete-remove="true" data-ax5autocomplete-remove-index="{{@i}}">{{{removeIcon}}}</div><span>{{text}}</span></div>{{/selected}}'};t.tmpl={autocompleteDisplay:i,formSelect:n,formSelectOptions:o,optionGroup:e,options:a,label:l,get:function(e,i,n){return ax5.mustache.render(t.tmpl[e].call(this,n),i)}}}(),function(){var t=ax5.ui,e=ax5.util;t.addClass({className:"docker",version:"1.3.82"},function(){var t=function(){var t=this,i=void 0;this.instanceId=ax5.getGuid(),this.config={theme:"default",animateTime:250,columnKeys:{}},this.panels=[],this.panelId=0,this.modules={},i=this.config;var n=function(){return t.panelId++},o=function(t,e){t.$element.html(e.name)},a=function(t,e){var i=[];return t&&"undefined"!=typeof t.panelPath&&i.push(t.panelPath),i.push("panels["+(e||0)+"]"),i.join(".")},l=function(t,e){var i=[],n=[].concat(e.split(/[\.\[\]]/g));return n.forEach(function(t){""!==t&&i.push('["'+t.replace(/['\"]/g,"")+'"]')}),Function("","return this"+i.join("")+";").call(t)},s=function(e){var i=jQuery.extend(e.moduleState,{name:e.name}),n={$element:e.$item};e.moduleName in t.modules&&"init"in t.modules[e.moduleName]?t.modules[e.moduleName].init(n,i):o(n,i)},r=function(){var o={stack:function(t,i,n,l){var s=void 0,r=-1;n.panelPath=a(i,l),s=jQuery('<div data-ax5docker-pane="" data-ax5docker-path="'+n.panelPath+'"><ul data-ax5docker-pane-tabs=""></ul><div data-ax5docker-pane-item-views=""></div></div>'),t.append(s),e.isArray(n.panels)&&(n.panels.forEach(function(t,e){n.active&&(r=e)}),-1===r&&(r=0),n.panels[r].active=!0,n.panels.forEach(function(t,e){o[t.type](s,n,t,e)})),s=null,r=null},panel:function(t,e,o,l){var r=void 0;o.panelPath=a(e,l),o.$label=jQuery('<li data-ax5docker-pane-tab="'+l+'" data-ax5docker-path="'+o.panelPath+'"><div class="title">'+o.name+'</div><div class="close-icon">'+i.icons.close+"</div></li>"),o.$item||(o.$item=jQuery('<div data-ax5docker-pane-item="'+l+'" data-ax5docker-pane-id="'+n()+'" data-ax5docker-path="'+o.panelPath+'"></div>')),e&&"stack"==e.type?(o.active&&(s(o),o.$label.addClass("active"),o.$item.addClass("active")),t.find("[data-ax5docker-pane-tabs]").append(o.$label),t.find("[data-ax5docker-pane-item-views]").append(o.$item)):(r=jQuery('<div data-ax5docker-pane="" data-ax5docker-path="'+o.panelPath+'"><ul data-ax5docker-pane-tabs=""></ul><div data-ax5docker-pane-item-views=""></div></div>'),s(o),o.$label.addClass("active"),o.$item.addClass("active"),r.find("[data-ax5docker-pane-tabs]").append(o.$label),r.find("[data-ax5docker-pane-item-views]").append(o.$item),t.append(r)),r=null},resizeHandel:function(t){var e=jQuery('<div data-ax5docker-resize-handle=""></div>');t.append(e),e=null},row:function(t,i,n,l){var s=void 0;if(n.panelPath=a(i,l),i&&"stack"==i.type)throw"The 'stack' type child nodes are allowed only for the 'panel' type.";s=jQuery('<div data-ax5docker-pane-axis="row" data-ax5docker-path="'+n.panelPath+'"></div>'),t.append(s),e.isArray(n.panels)&&n.panels.forEach(function(t,e){e>0&&o.resizeHandel(s,t,n,e),o[t.type](s,n,t,e)}),s=null},column:function(t,i,n,l){var s=void 0;if(n.panelPath=a(i,l),i&&"stack"==i.type)throw"The 'stack' type child nodes are allowed only for the 'panel' type.";s=jQuery('<div data-ax5docker-pane-axis="column" data-ax5docker-path="'+n.panelPath+'"></div>'),t.append(s),e.isArray(n.panels)&&n.panels.forEach(function(t,e){l>0&&o.resizeHandel(s,t,n,e),o[t.type](s,n,t,e)}),s=null}},l=jQuery('<div data-ax5docker-panes=""></div>');o[t.panels[0].type](l,null,t.panels[0],0),t.$target.html(l),t.$target.off("click").on("click","[data-ax5docker-pane-tab] .close-icon",function(t){console.log("close icon"),e.stopEvent(t)}).on("click","[data-ax5docker-pane-tab]",function(t){d(this),e.stopEvent(t)}),l=null},d=function(e){var i=jQuery(e),n=i.parents("[data-ax5docker-pane]"),o=i.attr("data-ax5docker-pane-tab");if(i.hasClass("active"))return!1;n.find(".active").removeClass("active"),n.find('[data-ax5docker-pane-tab="'+o+'"]').addClass("active"),n.find('[data-ax5docker-pane-item="'+o+'"]').addClass("active");var a=l(t,i.attr("data-ax5docker-path"));s(a)};this.init=function(t){return i=jQuery.extend(!0,{},i,t),i.target?(this.$target=jQuery(i.target),this.panels=i.panels||[],this.onStateChanged=i.onStateChanged,this.onClick=i.onClick,this.onLoad=i.onLoad,void(this.onDataChanged=i.onDataChanged)):(console.log(ax5.info.getError("ax5docker","401","init")),this)},this.setPanels=function(t){return this.panels=t||[],r(),this},this.addModule=function(t){return e.isObject(t)&&jQuery.extend(!0,this.modules,t),this},this.repaint=function(){r()},this.main=function(){arguments&&e.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return t}())}(),function(){var t=ax5.ui.docker,e=function(){return" \n{{#panels}}\n{{#panels}}\n{{/panels}}\n{{^panels}}\n{{/panels}}\n{{/panels}}\n        "};t.tmpl={panels:e,get:function(e,i,n){return ax5.mustache.render(t.tmpl[e].call(this,n),i)}}}(),+function(t){function e(e){return this.each(function(){var n=t(this),o=n.data("bs.button"),a="object"==typeof e&&e;o||n.data("bs.button",o=new i(this,a)),"toggle"==e?o.toggle():e&&o.setState(e)})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.7",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",n=this.$element,o=n.is("input")?"val":"html",a=n.data();e+="Text",null==a.resetText&&n.data("resetText",n[o]()),setTimeout(t.proxy(function(){n[o](null==a[e]?this.options[e]:a[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(i).attr(i,i).prop(i,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i).prop(i,!1))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=t(i.target).closest(".btn");e.call(n,"toggle"),t(i.target).is('input[type="radio"], input[type="checkbox"]')||(i.preventDefault(),n.is("input,button")?n.trigger("focus"):n.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){function e(e){return this.each(function(){var n=t(this),o=n.data("bs.tooltip"),a="object"==typeof e&&e;(o||!/destroy|hide/.test(e))&&(o||n.data("bs.tooltip",o=new i(this,a)),"string"==typeof e&&o[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,n){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),a=o.length;a--;){var l=o[a];if("click"==l)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=l){var s="hover"==l?"mouseenter":"focusin",r="hover"==l?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var o=this,a=this.tip(),l=this.getUID(this.type);this.setContent(),a.attr("id",l),this.$element.attr("aria-describedby",l),this.options.animation&&a.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,r=/\s?auto?\s?/i,d=r.test(s);d&&(s=s.replace(r,"")||"top"),a.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),u=a[0].offsetWidth,h=a[0].offsetHeight;if(d){var p=s,f=this.getPosition(this.$viewport);s="bottom"==s&&c.bottom+h>f.bottom?"top":"top"==s&&c.top-h<f.top?"bottom":"right"==s&&c.right+u>f.width?"left":"left"==s&&c.left-u<f.left?"right":s,a.removeClass(p).addClass(s)}var g=this.getCalculatedOffset(s,c,u,h);this.applyPlacement(g,s);var m=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",m).emulateTransitionEnd(i.TRANSITION_DURATION):m()}},i.prototype.applyPlacement=function(e,i){var n=this.tip(),o=n[0].offsetWidth,a=n[0].offsetHeight,l=parseInt(n.css("margin-top"),10),s=parseInt(n.css("margin-left"),10);isNaN(l)&&(l=0),isNaN(s)&&(s=0),e.top+=l,e.left+=s,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var r=n[0].offsetWidth,d=n[0].offsetHeight;"top"==i&&d!=a&&(e.top=e.top+a-d);var c=this.getViewportAdjustedDelta(i,e,r,d);c.left?e.left+=c.left:e.top+=c.top;var u=/top|bottom/.test(i),h=u?2*c.left-o+r:2*c.top-a+d,p=u?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(h,n[0][p],u)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function n(){"in"!=o.hoverState&&a.detach(),o.$element&&o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),e&&e()}var o=this,a=t(this.$tip),l=t.Event("hide.bs."+this.type);return this.$element.trigger(l),l.isDefaultPrevented()?void 0:(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],n="BODY"==i.tagName,o=i.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var a=window.SVGElement&&i instanceof window.SVGElement,l=n?{top:0,left:0}:a?null:e.offset(),s={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},r=n?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,s,r,l)},i.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,n){var o={top:0,left:0};if(!this.$viewport)return o;var a=this.options.viewport&&this.options.viewport.padding||0,l=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-a-l.scroll,r=e.top+a-l.scroll+n;s<l.top?o.top=l.top-s:r>l.top+l.height&&(o.top=l.top+l.height-r)}else{var d=e.left-a,c=e.left+a+i;d<l.left?o.left=l.left-d:c>l.right&&(o.left=l.left+l.width-c)}return o},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var n=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),+function(t){function e(e){return this.each(function(){var n=t(this),o=n.data("bs.popover"),a="object"==typeof e&&e;(o||!/destroy|hide/.test(e))&&(o||n.data("bs.popover",o=new i(this,a)),"string"==typeof e&&o[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.7",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}+function(t){function e(e){return this.each(function(){var n=t(this),o=n.data("bs.tab");o||n.data("bs.tab",o=new i(this)),"string"==typeof e&&o[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=i.find(".active:last a"),a=t.Event("hide.bs.tab",{relatedTarget:e[0]}),l=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(a),e.trigger(l),!l.isDefaultPrevented()&&!a.isDefaultPrevented()){var s=t(n);this.activate(e.closest("li"),i),this.activate(s,s.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},i.prototype.activate=function(e,n,o){function a(){l.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var l=n.find("> .active"),s=o&&t.support.transition&&(l.length&&l.hasClass("fade")||!!n.find("> .fade").length);l.length&&s?l.one("bsTransitionEnd",a).emulateTransitionEnd(i.TRANSITION_DURATION):a(),l.removeClass("in")};var n=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var o=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery)}(jQuery);
